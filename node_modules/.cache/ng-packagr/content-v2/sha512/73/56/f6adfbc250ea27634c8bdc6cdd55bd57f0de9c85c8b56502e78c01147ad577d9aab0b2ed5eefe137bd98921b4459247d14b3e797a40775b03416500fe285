{"modules":[{"ast":{"type":"Program","start":0,"end":1414,"body":[{"type":"ExportNamedDeclaration","start":0,"end":98,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"VariableDeclaration","start":7,"end":98,"kind":"const","declarations":[{"type":"VariableDeclarator","start":13,"end":97,"id":{"type":"Identifier","start":13,"end":30,"name":"isNullOrUndefined"},"init":{"type":"ArrowFunctionExpression","start":33,"end":97,"async":false,"expression":false,"generator":false,"params":[{"type":"Identifier","start":34,"end":39,"name":"value"}],"body":{"type":"BlockStatement","start":44,"end":97,"body":[{"type":"ReturnStatement","start":50,"end":95,"argument":{"type":"LogicalExpression","start":57,"end":94,"operator":"||","left":{"type":"BinaryExpression","start":57,"end":76,"operator":"===","left":{"type":"Identifier","start":57,"end":62,"name":"value"},"right":{"type":"Identifier","start":67,"end":76,"name":"undefined"}},"right":{"type":"BinaryExpression","start":80,"end":94,"operator":"===","left":{"type":"Identifier","start":80,"end":85,"name":"value"},"right":{"type":"Literal","start":90,"end":94,"raw":"null","value":null}}}}]},"id":null}}]}},{"type":"ExportNamedDeclaration","start":99,"end":247,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"FunctionDeclaration","start":106,"end":247,"async":false,"generator":false,"id":{"type":"Identifier","start":115,"end":133,"name":"countArrayElements"},"params":[{"type":"Identifier","start":134,"end":137,"name":"arr"}],"body":{"type":"BlockStatement","start":139,"end":247,"body":[{"type":"ReturnStatement","start":145,"end":245,"argument":{"type":"CallExpression","start":152,"end":244,"optional":false,"callee":{"type":"MemberExpression","start":152,"end":162,"computed":false,"optional":false,"object":{"type":"Identifier","start":152,"end":155,"name":"arr"},"property":{"type":"Identifier","start":156,"end":162,"name":"reduce"}},"arguments":[{"type":"ArrowFunctionExpression","start":163,"end":240,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":164,"end":169,"name":"count"},{"type":"Identifier","start":171,"end":175,"name":"item"}],"body":{"type":"BinaryExpression","start":180,"end":240,"operator":"+","left":{"type":"Identifier","start":180,"end":185,"name":"count"},"right":{"type":"ConditionalExpression","start":189,"end":239,"test":{"type":"CallExpression","start":189,"end":208,"optional":false,"callee":{"type":"MemberExpression","start":189,"end":202,"computed":false,"optional":false,"object":{"type":"Identifier","start":189,"end":194,"name":"Array"},"property":{"type":"Identifier","start":195,"end":202,"name":"isArray"}},"arguments":[{"type":"Identifier","start":203,"end":207,"name":"item"}]},"consequent":{"type":"CallExpression","start":211,"end":235,"optional":false,"callee":{"type":"Identifier","start":211,"end":229,"name":"countArrayElements"},"arguments":[{"type":"Identifier","start":230,"end":234,"name":"item"}]},"alternate":{"type":"Literal","start":238,"end":239,"raw":"1","value":1}}},"id":null},{"type":"Literal","start":242,"end":243,"raw":"0","value":0}]}}]},"expression":false}}],"_rollupRemoved":[{"end":1414,"start":248,"type":"sourcemap"}],"sourceType":"module"},"attributes":{},"code":"export const isNullOrUndefined = (value) => {\n    return value === undefined || value === null;\n};\nexport function countArrayElements(arr) {\n    return arr.reduce((count, item) => count + (Array.isArray(item) ? countArrayElements(item) : 1), 0);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHlwZS5oZWxwZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtc3RhdGVzL3NyYy9saWIvaGVscGVycy90eXBlLmhlbHBlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLENBQUMsTUFBTSxpQkFBaUIsR0FBRyxDQUFDLEtBQWMsRUFBNkIsRUFBRTtJQUM3RSxPQUFPLEtBQUssS0FBSyxTQUFTLElBQUksS0FBSyxLQUFLLElBQUksQ0FBQztBQUMvQyxDQUFDLENBQUE7QUFFRCxNQUFNLFVBQVUsa0JBQWtCLENBQUMsR0FBVTtJQUMzQyxPQUFPLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDdEcsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBpc051bGxPclVuZGVmaW5lZCA9ICh2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIG51bGwgfCB1bmRlZmluZWQgPT4ge1xuICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvdW50QXJyYXlFbGVtZW50cyhhcnI6IGFueVtdKTogbnVtYmVyIHtcbiAgcmV0dXJuIGFyci5yZWR1Y2UoKGNvdW50LCBpdGVtKSA9PiBjb3VudCArIChBcnJheS5pc0FycmF5KGl0ZW0pID8gY291bnRBcnJheUVsZW1lbnRzKGl0ZW0pIDogMSksIDApO1xufVxuIl19","customTransformCache":false,"dependencies":[],"id":"/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/helpers/type.helper.mjs","meta":{},"moduleSideEffects":true,"originalCode":"export const isNullOrUndefined = (value) => {\n    return value === undefined || value === null;\n};\nexport function countArrayElements(arr) {\n    return arr.reduce((count, item) => count + (Array.isArray(item) ? countArrayElements(item) : 1), 0);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHlwZS5oZWxwZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtc3RhdGVzL3NyYy9saWIvaGVscGVycy90eXBlLmhlbHBlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLENBQUMsTUFBTSxpQkFBaUIsR0FBRyxDQUFDLEtBQWMsRUFBNkIsRUFBRTtJQUM3RSxPQUFPLEtBQUssS0FBSyxTQUFTLElBQUksS0FBSyxLQUFLLElBQUksQ0FBQztBQUMvQyxDQUFDLENBQUE7QUFFRCxNQUFNLFVBQVUsa0JBQWtCLENBQUMsR0FBVTtJQUMzQyxPQUFPLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDdEcsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBpc051bGxPclVuZGVmaW5lZCA9ICh2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIG51bGwgfCB1bmRlZmluZWQgPT4ge1xuICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvdW50QXJyYXlFbGVtZW50cyhhcnI6IGFueVtdKTogbnVtYmVyIHtcbiAgcmV0dXJuIGFyci5yZWR1Y2UoKGNvdW50LCBpdGVtKSA9PiBjb3VudCArIChBcnJheS5pc0FycmF5KGl0ZW0pID8gY291bnRBcnJheUVsZW1lbnRzKGl0ZW0pIDogMSksIDApO1xufVxuIl19","originalSourcemap":{"version":3,"file":"type.helper.js","sourceRoot":"","sources":["../../../../../projects/ngx-states/src/lib/helpers/type.helper.ts"],"names":[],"mappings":[[[0,0,0,0],[6,0,0,6],[7,0,0,7],[13,0,0,13],[30,0,0,30],[33,0,0,33],[34,0,0,34],[39,0,0,48],[41,0,0,77],[43,0,0,79]],[[4,0,1,2],[11,0,1,9],[16,0,1,14],[21,0,1,19],[30,0,1,28],[34,0,1,32],[39,0,1,37],[44,0,1,42],[48,0,1,46],[49,0,1,47]],[[0,0,2,0],[1,0,2,1],[2,0,2,1]],[[0,0,4,0],[6,0,4,6],[16,0,4,16],[34,0,4,34],[35,0,4,35],[38,0,4,45]],[[4,0,5,2],[11,0,5,9],[14,0,5,12],[15,0,5,13],[21,0,5,19],[22,0,5,20],[23,0,5,21],[28,0,5,26],[30,0,5,28],[34,0,5,32],[36,0,5,34],[38,0,5,36],[39,0,5,37],[44,0,5,42],[47,0,5,45],[48,0,5,46],[53,0,5,51],[54,0,5,52],[61,0,5,59],[62,0,5,60],[66,0,5,64],[67,0,5,65],[68,0,5,66],[69,0,5,67],[70,0,5,68],[88,0,5,86],[89,0,5,87],[93,0,5,91],[94,0,5,92],[95,0,5,93],[96,0,5,94],[97,0,5,95],[98,0,5,96],[99,0,5,97],[101,0,5,99],[102,0,5,100],[103,0,5,101],[104,0,5,102]],[[0,0,6,0],[1,0,6,1]]],"sourcesContent":["export const isNullOrUndefined = (value: unknown): value is null | undefined => {\n  return value === undefined || value === null;\n}\n\nexport function countArrayElements(arr: any[]): number {\n  return arr.reduce((count, item) => count + (Array.isArray(item) ? countArrayElements(item) : 1), 0);\n}\n"]},"resolvedIds":{},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":3712,"body":[{"type":"ImportDeclaration","start":0,"end":59,"specifiers":[{"type":"ImportSpecifier","start":9,"end":26,"imported":{"type":"Identifier","start":9,"end":26,"name":"isNullOrUndefined"},"local":{"type":"Identifier","start":9,"end":26,"name":"isNullOrUndefined"}}],"source":{"type":"Literal","start":34,"end":58,"value":"../helpers/type.helper","raw":"\"../helpers/type.helper\""},"attributes":[]},{"type":"ImportDeclaration","start":60,"end":115,"specifiers":[{"type":"ImportSpecifier","start":69,"end":83,"imported":{"type":"Identifier","start":69,"end":83,"name":"untilDestroyed"},"local":{"type":"Identifier","start":69,"end":83,"name":"untilDestroyed"}}],"source":{"type":"Literal","start":91,"end":114,"value":"@ngneat/until-destroy","raw":"\"@ngneat/until-destroy\""},"attributes":[]},{"type":"ExportNamedDeclaration","start":116,"end":893,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"ClassDeclaration","start":123,"end":893,"decorators":[],"id":{"type":"Identifier","start":129,"end":138,"name":"BaseState"},"superClass":null,"body":{"type":"ClassBody","start":139,"end":893,"body":[{"type":"PropertyDefinition","start":145,"end":175,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":145,"end":166,"name":"bypassChangeDetection"},"value":{"type":"Literal","start":169,"end":174,"value":false,"raw":"false"}},{"type":"MethodDefinition","start":180,"end":891,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":180,"end":199,"name":"prepareSubscription"},"value":{"type":"FunctionExpression","start":199,"end":891,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":200,"end":204,"name":"data"}],"body":{"type":"BlockStatement","start":206,"end":891,"body":[{"type":"IfStatement","start":216,"end":346,"test":{"type":"BinaryExpression","start":220,"end":250,"operator":"===","left":{"type":"UnaryExpression","start":220,"end":237,"operator":"typeof","argument":{"type":"MemberExpression","start":227,"end":237,"computed":false,"optional":false,"object":{"type":"Identifier","start":227,"end":231,"name":"data"},"property":{"type":"Identifier","start":232,"end":237,"name":"error"}},"prefix":true},"right":{"type":"Literal","start":242,"end":250,"value":"object","raw":"\"object\""}},"consequent":{"type":"BlockStatement","start":252,"end":346,"body":[{"type":"ExpressionStatement","start":266,"end":300,"expression":{"type":"AssignmentExpression","start":266,"end":299,"operator":"=","left":{"type":"MemberExpression","start":266,"end":286,"computed":false,"optional":false,"object":{"type":"Identifier","start":266,"end":270,"name":"data"},"property":{"type":"Identifier","start":271,"end":286,"name":"callerComponent"}},"right":{"type":"MemberExpression","start":289,"end":299,"computed":false,"optional":false,"object":{"type":"Identifier","start":289,"end":293,"name":"data"},"property":{"type":"Identifier","start":294,"end":299,"name":"error"}}}},{"type":"ExpressionStatement","start":313,"end":336,"expression":{"type":"AssignmentExpression","start":313,"end":335,"operator":"=","left":{"type":"MemberExpression","start":313,"end":323,"computed":false,"optional":false,"object":{"type":"Identifier","start":313,"end":317,"name":"data"},"property":{"type":"Identifier","start":318,"end":323,"name":"error"}},"right":{"type":"Identifier","start":326,"end":335,"name":"undefined"}}}]},"alternate":null},{"type":"IfStatement","start":355,"end":494,"test":{"type":"BinaryExpression","start":359,"end":392,"operator":"===","left":{"type":"UnaryExpression","start":359,"end":379,"operator":"typeof","argument":{"type":"MemberExpression","start":366,"end":379,"computed":false,"optional":false,"object":{"type":"Identifier","start":366,"end":370,"name":"data"},"property":{"type":"Identifier","start":371,"end":379,"name":"complete"}},"prefix":true},"right":{"type":"Literal","start":384,"end":392,"value":"object","raw":"\"object\""}},"consequent":{"type":"BlockStatement","start":394,"end":494,"body":[{"type":"ExpressionStatement","start":408,"end":445,"expression":{"type":"AssignmentExpression","start":408,"end":444,"operator":"=","left":{"type":"MemberExpression","start":408,"end":428,"computed":false,"optional":false,"object":{"type":"Identifier","start":408,"end":412,"name":"data"},"property":{"type":"Identifier","start":413,"end":428,"name":"callerComponent"}},"right":{"type":"MemberExpression","start":431,"end":444,"computed":false,"optional":false,"object":{"type":"Identifier","start":431,"end":435,"name":"data"},"property":{"type":"Identifier","start":436,"end":444,"name":"complete"}}}},{"type":"ExpressionStatement","start":458,"end":484,"expression":{"type":"AssignmentExpression","start":458,"end":483,"operator":"=","left":{"type":"MemberExpression","start":458,"end":471,"computed":false,"optional":false,"object":{"type":"Identifier","start":458,"end":462,"name":"data"},"property":{"type":"Identifier","start":463,"end":471,"name":"complete"}},"right":{"type":"Identifier","start":474,"end":483,"name":"undefined"}}}]},"alternate":null},{"type":"IfStatement","start":503,"end":650,"test":{"type":"UnaryExpression","start":507,"end":547,"operator":"!","argument":{"type":"CallExpression","start":508,"end":547,"optional":false,"callee":{"type":"Identifier","start":508,"end":525,"name":"isNullOrUndefined"},"arguments":[{"type":"MemberExpression","start":526,"end":546,"computed":false,"optional":false,"object":{"type":"Identifier","start":526,"end":530,"name":"data"},"property":{"type":"Identifier","start":531,"end":546,"name":"callerComponent"}}]},"prefix":true},"consequent":{"type":"BlockStatement","start":549,"end":650,"body":[{"type":"ExpressionStatement","start":563,"end":640,"expression":{"type":"AssignmentExpression","start":563,"end":639,"operator":"=","left":{"type":"MemberExpression","start":563,"end":578,"computed":false,"optional":false,"object":{"type":"Identifier","start":563,"end":567,"name":"data"},"property":{"type":"Identifier","start":568,"end":578,"name":"observable"}},"right":{"type":"CallExpression","start":581,"end":639,"optional":false,"callee":{"type":"MemberExpression","start":581,"end":601,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":581,"end":596,"computed":false,"optional":false,"object":{"type":"Identifier","start":581,"end":585,"name":"data"},"property":{"type":"Identifier","start":586,"end":596,"name":"observable"}},"property":{"type":"Identifier","start":597,"end":601,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":602,"end":638,"optional":false,"callee":{"type":"Identifier","start":602,"end":616,"name":"untilDestroyed"},"arguments":[{"type":"MemberExpression","start":617,"end":637,"computed":false,"optional":false,"object":{"type":"Identifier","start":617,"end":621,"name":"data"},"property":{"type":"Identifier","start":622,"end":637,"name":"callerComponent"}}]}]}}}]},"alternate":null},{"type":"IfStatement","start":659,"end":885,"test":{"type":"BinaryExpression","start":663,"end":698,"operator":"===","left":{"type":"UnaryExpression","start":663,"end":683,"operator":"typeof","argument":{"type":"MemberExpression","start":670,"end":683,"computed":false,"optional":false,"object":{"type":"Identifier","start":670,"end":674,"name":"data"},"property":{"type":"Identifier","start":675,"end":683,"name":"observer"}},"prefix":true},"right":{"type":"Literal","start":688,"end":698,"value":"function","raw":"'function'"}},"consequent":{"type":"BlockStatement","start":700,"end":799,"body":[{"type":"ReturnStatement","start":714,"end":789,"argument":{"type":"CallExpression","start":721,"end":788,"optional":false,"callee":{"type":"MemberExpression","start":721,"end":746,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":721,"end":736,"computed":false,"optional":false,"object":{"type":"Identifier","start":721,"end":725,"name":"data"},"property":{"type":"Identifier","start":726,"end":736,"name":"observable"}},"property":{"type":"Identifier","start":737,"end":746,"name":"subscribe"}},"arguments":[{"type":"MemberExpression","start":747,"end":760,"computed":false,"optional":false,"object":{"type":"Identifier","start":747,"end":751,"name":"data"},"property":{"type":"Identifier","start":752,"end":760,"name":"observer"}},{"type":"MemberExpression","start":762,"end":772,"computed":false,"optional":false,"object":{"type":"Identifier","start":762,"end":766,"name":"data"},"property":{"type":"Identifier","start":767,"end":772,"name":"error"}},{"type":"MemberExpression","start":774,"end":787,"computed":false,"optional":false,"object":{"type":"Identifier","start":774,"end":778,"name":"data"},"property":{"type":"Identifier","start":779,"end":787,"name":"complete"}}]}}]},"alternate":{"type":"BlockStatement","start":813,"end":885,"body":[{"type":"ReturnStatement","start":827,"end":875,"argument":{"type":"CallExpression","start":834,"end":874,"optional":false,"callee":{"type":"MemberExpression","start":834,"end":859,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":834,"end":849,"computed":false,"optional":false,"object":{"type":"Identifier","start":834,"end":838,"name":"data"},"property":{"type":"Identifier","start":839,"end":849,"name":"observable"}},"property":{"type":"Identifier","start":850,"end":859,"name":"subscribe"}},"arguments":[{"type":"MemberExpression","start":860,"end":873,"computed":false,"optional":false,"object":{"type":"Identifier","start":860,"end":864,"name":"data"},"property":{"type":"Identifier","start":865,"end":873,"name":"observer"}}]}}]}}]},"expression":false},"kind":"method"}]}}}],"_rollupRemoved":[{"end":3712,"start":894,"type":"sourcemap"}],"sourceType":"module"},"attributes":{},"code":"import { isNullOrUndefined } from \"../helpers/type.helper\";\nimport { untilDestroyed } from \"@ngneat/until-destroy\";\nexport class BaseState {\n    bypassChangeDetection = false;\n    prepareSubscription(data) {\n        if (typeof data.error === \"object\") {\n            data.callerComponent = data.error;\n            data.error = undefined;\n        }\n        if (typeof data.complete === \"object\") {\n            data.callerComponent = data.complete;\n            data.complete = undefined;\n        }\n        if (!isNullOrUndefined(data.callerComponent)) {\n            data.observable = data.observable.pipe(untilDestroyed(data.callerComponent));\n        }\n        if (typeof data.observer === 'function') {\n            return data.observable.subscribe(data.observer, data.error, data.complete);\n        }\n        else {\n            return data.observable.subscribe(data.observer);\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFzZS1zdGF0ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1zdGF0ZXMvc3JjL2xpYi9zdGF0ZXMvYmFzZS1zdGF0ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUMzRCxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFFdkQsTUFBTSxPQUFnQixTQUFTO0lBQ25CLHFCQUFxQixHQUFZLEtBQUssQ0FBQztJQUV2QyxtQkFBbUIsQ0FBQyxJQUFzQjtRQUNsRCxJQUFJLE9BQU8sSUFBSSxDQUFDLEtBQUssS0FBSyxRQUFRLEVBQUUsQ0FBQztZQUNuQyxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7WUFDbEMsSUFBSSxDQUFDLEtBQUssR0FBRyxTQUFTLENBQUM7UUFDekIsQ0FBQztRQUVELElBQUksT0FBTyxJQUFJLENBQUMsUUFBUSxLQUFLLFFBQVEsRUFBRSxDQUFDO1lBQ3RDLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUNyQyxJQUFJLENBQUMsUUFBUSxHQUFHLFNBQVMsQ0FBQztRQUM1QixDQUFDO1FBRUQsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsRUFBRSxDQUFDO1lBQzdDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDO1FBQy9FLENBQUM7UUFFRCxJQUFJLE9BQU8sSUFBSSxDQUFDLFFBQVEsS0FBSyxVQUFVLEVBQUUsQ0FBQztZQUN4QyxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDN0UsQ0FBQzthQUFNLENBQUM7WUFDTixPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNsRCxDQUFDO0lBQ0gsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSBcInJ4anNcIjtcbmltcG9ydCB7IFN1YnNjcmlwdGlvbkRhdGEgfSBmcm9tIFwiLi4vdHlwZXMvc3Vic2NyaXB0aW9uLWRhdGFcIjtcbmltcG9ydCB7IGlzTnVsbE9yVW5kZWZpbmVkIH0gZnJvbSBcIi4uL2hlbHBlcnMvdHlwZS5oZWxwZXJcIjtcbmltcG9ydCB7IHVudGlsRGVzdHJveWVkIH0gZnJvbSBcIkBuZ25lYXQvdW50aWwtZGVzdHJveVwiO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFzZVN0YXRlIHtcbiAgcHJvdGVjdGVkIGJ5cGFzc0NoYW5nZURldGVjdGlvbjogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIHByb3RlY3RlZCBwcmVwYXJlU3Vic2NyaXB0aW9uKGRhdGE6IFN1YnNjcmlwdGlvbkRhdGEpOiBTdWJzY3JpcHRpb24ge1xuICAgIGlmICh0eXBlb2YgZGF0YS5lcnJvciA9PT0gXCJvYmplY3RcIikge1xuICAgICAgZGF0YS5jYWxsZXJDb21wb25lbnQgPSBkYXRhLmVycm9yO1xuICAgICAgZGF0YS5lcnJvciA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGRhdGEuY29tcGxldGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGRhdGEuY2FsbGVyQ29tcG9uZW50ID0gZGF0YS5jb21wbGV0ZTtcbiAgICAgIGRhdGEuY29tcGxldGUgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKCFpc051bGxPclVuZGVmaW5lZChkYXRhLmNhbGxlckNvbXBvbmVudCkpIHtcbiAgICAgIGRhdGEub2JzZXJ2YWJsZSA9IGRhdGEub2JzZXJ2YWJsZS5waXBlKHVudGlsRGVzdHJveWVkKGRhdGEuY2FsbGVyQ29tcG9uZW50KSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBkYXRhLm9ic2VydmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gZGF0YS5vYnNlcnZhYmxlLnN1YnNjcmliZShkYXRhLm9ic2VydmVyLCBkYXRhLmVycm9yLCBkYXRhLmNvbXBsZXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGRhdGEub2JzZXJ2YWJsZS5zdWJzY3JpYmUoZGF0YS5vYnNlcnZlcik7XG4gICAgfVxuICB9XG59XG4iXX0=","customTransformCache":false,"dependencies":["/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/helpers/type.helper.mjs","@ngneat/until-destroy"],"id":"/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/states/base-state.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { isNullOrUndefined } from \"../helpers/type.helper\";\nimport { untilDestroyed } from \"@ngneat/until-destroy\";\nexport class BaseState {\n    bypassChangeDetection = false;\n    prepareSubscription(data) {\n        if (typeof data.error === \"object\") {\n            data.callerComponent = data.error;\n            data.error = undefined;\n        }\n        if (typeof data.complete === \"object\") {\n            data.callerComponent = data.complete;\n            data.complete = undefined;\n        }\n        if (!isNullOrUndefined(data.callerComponent)) {\n            data.observable = data.observable.pipe(untilDestroyed(data.callerComponent));\n        }\n        if (typeof data.observer === 'function') {\n            return data.observable.subscribe(data.observer, data.error, data.complete);\n        }\n        else {\n            return data.observable.subscribe(data.observer);\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFzZS1zdGF0ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1zdGF0ZXMvc3JjL2xpYi9zdGF0ZXMvYmFzZS1zdGF0ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUMzRCxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFFdkQsTUFBTSxPQUFnQixTQUFTO0lBQ25CLHFCQUFxQixHQUFZLEtBQUssQ0FBQztJQUV2QyxtQkFBbUIsQ0FBQyxJQUFzQjtRQUNsRCxJQUFJLE9BQU8sSUFBSSxDQUFDLEtBQUssS0FBSyxRQUFRLEVBQUUsQ0FBQztZQUNuQyxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7WUFDbEMsSUFBSSxDQUFDLEtBQUssR0FBRyxTQUFTLENBQUM7UUFDekIsQ0FBQztRQUVELElBQUksT0FBTyxJQUFJLENBQUMsUUFBUSxLQUFLLFFBQVEsRUFBRSxDQUFDO1lBQ3RDLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUNyQyxJQUFJLENBQUMsUUFBUSxHQUFHLFNBQVMsQ0FBQztRQUM1QixDQUFDO1FBRUQsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsRUFBRSxDQUFDO1lBQzdDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDO1FBQy9FLENBQUM7UUFFRCxJQUFJLE9BQU8sSUFBSSxDQUFDLFFBQVEsS0FBSyxVQUFVLEVBQUUsQ0FBQztZQUN4QyxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDN0UsQ0FBQzthQUFNLENBQUM7WUFDTixPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNsRCxDQUFDO0lBQ0gsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSBcInJ4anNcIjtcbmltcG9ydCB7IFN1YnNjcmlwdGlvbkRhdGEgfSBmcm9tIFwiLi4vdHlwZXMvc3Vic2NyaXB0aW9uLWRhdGFcIjtcbmltcG9ydCB7IGlzTnVsbE9yVW5kZWZpbmVkIH0gZnJvbSBcIi4uL2hlbHBlcnMvdHlwZS5oZWxwZXJcIjtcbmltcG9ydCB7IHVudGlsRGVzdHJveWVkIH0gZnJvbSBcIkBuZ25lYXQvdW50aWwtZGVzdHJveVwiO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFzZVN0YXRlIHtcbiAgcHJvdGVjdGVkIGJ5cGFzc0NoYW5nZURldGVjdGlvbjogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIHByb3RlY3RlZCBwcmVwYXJlU3Vic2NyaXB0aW9uKGRhdGE6IFN1YnNjcmlwdGlvbkRhdGEpOiBTdWJzY3JpcHRpb24ge1xuICAgIGlmICh0eXBlb2YgZGF0YS5lcnJvciA9PT0gXCJvYmplY3RcIikge1xuICAgICAgZGF0YS5jYWxsZXJDb21wb25lbnQgPSBkYXRhLmVycm9yO1xuICAgICAgZGF0YS5lcnJvciA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGRhdGEuY29tcGxldGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGRhdGEuY2FsbGVyQ29tcG9uZW50ID0gZGF0YS5jb21wbGV0ZTtcbiAgICAgIGRhdGEuY29tcGxldGUgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKCFpc051bGxPclVuZGVmaW5lZChkYXRhLmNhbGxlckNvbXBvbmVudCkpIHtcbiAgICAgIGRhdGEub2JzZXJ2YWJsZSA9IGRhdGEub2JzZXJ2YWJsZS5waXBlKHVudGlsRGVzdHJveWVkKGRhdGEuY2FsbGVyQ29tcG9uZW50KSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBkYXRhLm9ic2VydmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gZGF0YS5vYnNlcnZhYmxlLnN1YnNjcmliZShkYXRhLm9ic2VydmVyLCBkYXRhLmVycm9yLCBkYXRhLmNvbXBsZXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGRhdGEub2JzZXJ2YWJsZS5zdWJzY3JpYmUoZGF0YS5vYnNlcnZlcik7XG4gICAgfVxuICB9XG59XG4iXX0=","originalSourcemap":{"version":3,"file":"base-state.js","sourceRoot":"","sources":["../../../../../projects/ngx-states/src/lib/states/base-state.ts"],"names":[],"mappings":[[[0,0,2,0],[7,0,2,7],[9,0,2,9],[26,0,2,26],[28,0,2,28],[34,0,2,34],[58,0,2,58],[59,0,2,59]],[[0,0,3,0],[7,0,3,7],[9,0,3,9],[23,0,3,23],[25,0,3,25],[31,0,3,31],[54,0,3,54],[55,0,3,55]],[[0,0,5,0],[6,0,5,6],[13,0,5,22],[22,0,5,31]],[[4,0,6,12],[25,0,6,33],[28,0,6,45],[33,0,6,50],[34,0,6,51]],[[4,0,8,12],[23,0,8,31],[24,0,8,32],[28,0,8,54]],[[8,0,9,4],[12,0,9,8],[19,0,9,15],[23,0,9,19],[24,0,9,20],[29,0,9,25],[34,0,9,30],[42,0,9,38],[44,0,9,40],[45,0,9,41]],[[12,0,10,6],[16,0,10,10],[17,0,10,11],[32,0,10,26],[35,0,10,29],[39,0,10,33],[40,0,10,34],[45,0,10,39],[46,0,10,40]],[[12,0,11,6],[16,0,11,10],[17,0,11,11],[22,0,11,16],[25,0,11,19],[34,0,11,28],[35,0,11,29]],[[8,0,12,4],[9,0,12,5]],[[8,0,14,4],[12,0,14,8],[19,0,14,15],[23,0,14,19],[24,0,14,20],[32,0,14,28],[37,0,14,33],[45,0,14,41],[47,0,14,43],[48,0,14,44]],[[12,0,15,6],[16,0,15,10],[17,0,15,11],[32,0,15,26],[35,0,15,29],[39,0,15,33],[40,0,15,34],[48,0,15,42],[49,0,15,43]],[[12,0,16,6],[16,0,16,10],[17,0,16,11],[25,0,16,19],[28,0,16,22],[37,0,16,31],[38,0,16,32]],[[8,0,17,4],[9,0,17,5]],[[8,0,19,4],[12,0,19,8],[13,0,19,9],[30,0,19,26],[31,0,19,27],[35,0,19,31],[36,0,19,32],[51,0,19,47],[52,0,19,48],[54,0,19,50],[55,0,19,51]],[[12,0,20,6],[16,0,20,10],[17,0,20,11],[27,0,20,21],[30,0,20,24],[34,0,20,28],[35,0,20,29],[45,0,20,39],[46,0,20,40],[50,0,20,44],[51,0,20,45],[65,0,20,59],[66,0,20,60],[70,0,20,64],[71,0,20,65],[86,0,20,80],[87,0,20,81],[88,0,20,82],[89,0,20,83]],[[8,0,21,4],[9,0,21,5]],[[8,0,23,4],[12,0,23,8],[19,0,23,15],[23,0,23,19],[24,0,23,20],[32,0,23,28],[37,0,23,33],[47,0,23,43],[49,0,23,45],[50,0,23,46]],[[12,0,24,6],[19,0,24,13],[23,0,24,17],[24,0,24,18],[34,0,24,28],[35,0,24,29],[44,0,24,38],[45,0,24,39],[49,0,24,43],[50,0,24,44],[58,0,24,52],[60,0,24,54],[64,0,24,58],[65,0,24,59],[70,0,24,64],[72,0,24,66],[76,0,24,70],[77,0,24,71],[85,0,24,79],[86,0,24,80],[87,0,24,81]],[[8,0,25,4],[9,0,25,5]],[[13,0,25,11],[14,0,25,12]],[[12,0,26,6],[19,0,26,13],[23,0,26,17],[24,0,26,18],[34,0,26,28],[35,0,26,29],[44,0,26,38],[45,0,26,39],[49,0,26,43],[50,0,26,44],[58,0,26,52],[59,0,26,53],[60,0,26,54]],[[8,0,27,4],[9,0,27,5]],[[4,0,28,2],[5,0,28,3]],[[1,0,29,1]]],"sourcesContent":["import { Subscription } from \"rxjs\";\nimport { SubscriptionData } from \"../types/subscription-data\";\nimport { isNullOrUndefined } from \"../helpers/type.helper\";\nimport { untilDestroyed } from \"@ngneat/until-destroy\";\n\nexport abstract class BaseState {\n  protected bypassChangeDetection: boolean = false;\n\n  protected prepareSubscription(data: SubscriptionData): Subscription {\n    if (typeof data.error === \"object\") {\n      data.callerComponent = data.error;\n      data.error = undefined;\n    }\n\n    if (typeof data.complete === \"object\") {\n      data.callerComponent = data.complete;\n      data.complete = undefined;\n    }\n\n    if (!isNullOrUndefined(data.callerComponent)) {\n      data.observable = data.observable.pipe(untilDestroyed(data.callerComponent));\n    }\n\n    if (typeof data.observer === 'function') {\n      return data.observable.subscribe(data.observer, data.error, data.complete);\n    } else {\n      return data.observable.subscribe(data.observer);\n    }\n  }\n}\n"]},"resolvedIds":{"@ngneat/until-destroy":{"attributes":{},"external":true,"id":"@ngneat/until-destroy","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"../helpers/type.helper":{"attributes":{},"external":false,"id":"/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/helpers/type.helper.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":12657,"body":[{"type":"ImportDeclaration","start":0,"end":39,"specifiers":[{"type":"ImportSpecifier","start":9,"end":24,"imported":{"type":"Identifier","start":9,"end":24,"name":"BehaviorSubject"},"local":{"type":"Identifier","start":9,"end":24,"name":"BehaviorSubject"}}],"source":{"type":"Literal","start":32,"end":38,"value":"rxjs","raw":"\"rxjs\""},"attributes":[]},{"type":"ImportDeclaration","start":40,"end":115,"specifiers":[{"type":"ImportSpecifier","start":49,"end":69,"imported":{"type":"Identifier","start":49,"end":69,"name":"distinctUntilChanged"},"local":{"type":"Identifier","start":49,"end":69,"name":"distinctUntilChanged"}},{"type":"ImportSpecifier","start":71,"end":77,"imported":{"type":"Identifier","start":71,"end":77,"name":"filter"},"local":{"type":"Identifier","start":71,"end":77,"name":"filter"}},{"type":"ImportSpecifier","start":79,"end":84,"imported":{"type":"Identifier","start":79,"end":84,"name":"first"},"local":{"type":"Identifier","start":79,"end":84,"name":"first"}},{"type":"ImportSpecifier","start":86,"end":90,"imported":{"type":"Identifier","start":86,"end":90,"name":"skip"},"local":{"type":"Identifier","start":86,"end":90,"name":"skip"}}],"source":{"type":"Literal","start":98,"end":114,"value":"rxjs/operators","raw":"\"rxjs/operators\""},"attributes":[]},{"type":"ImportDeclaration","start":116,"end":175,"specifiers":[{"type":"ImportSpecifier","start":125,"end":142,"imported":{"type":"Identifier","start":125,"end":142,"name":"isNullOrUndefined"},"local":{"type":"Identifier","start":125,"end":142,"name":"isNullOrUndefined"}}],"source":{"type":"Literal","start":150,"end":174,"value":"../helpers/type.helper","raw":"\"../helpers/type.helper\""},"attributes":[]},{"type":"ImportDeclaration","start":176,"end":217,"specifiers":[{"type":"ImportSpecifier","start":185,"end":194,"imported":{"type":"Identifier","start":185,"end":194,"name":"BaseState"},"local":{"type":"Identifier","start":185,"end":194,"name":"BaseState"}}],"source":{"type":"Literal","start":202,"end":216,"value":"./base-state","raw":"\"./base-state\""},"attributes":[]},{"type":"ExportNamedDeclaration","start":218,"end":2798,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"ClassDeclaration","start":225,"end":2798,"decorators":[],"id":{"type":"Identifier","start":231,"end":236,"name":"State"},"superClass":{"type":"Identifier","start":245,"end":254,"name":"BaseState"},"body":{"type":"ClassBody","start":255,"end":2798,"body":[{"type":"PropertyDefinition","start":261,"end":269,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":261,"end":268,"name":"subject"},"value":null},{"type":"MethodDefinition","start":274,"end":337,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":278,"end":283,"name":"state"},"value":{"type":"FunctionExpression","start":283,"end":337,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":286,"end":337,"body":[{"type":"ReturnStatement","start":296,"end":331,"argument":{"type":"CallExpression","start":303,"end":330,"optional":false,"callee":{"type":"MemberExpression","start":303,"end":328,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":303,"end":315,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":303,"end":307},"property":{"type":"Identifier","start":308,"end":315,"name":"subject"}},"property":{"type":"Identifier","start":316,"end":328,"name":"asObservable"}},"arguments":[]}}]},"expression":false},"kind":"get"},{"type":"MethodDefinition","start":342,"end":401,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":346,"end":351,"name":"value"},"value":{"type":"FunctionExpression","start":351,"end":401,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":354,"end":401,"body":[{"type":"ReturnStatement","start":364,"end":395,"argument":{"type":"CallExpression","start":371,"end":394,"optional":false,"callee":{"type":"MemberExpression","start":371,"end":392,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":371,"end":383,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":371,"end":375},"property":{"type":"Identifier","start":376,"end":383,"name":"subject"}},"property":{"type":"Identifier","start":384,"end":392,"name":"getValue"}},"arguments":[]}}]},"expression":false},"kind":"get"},{"type":"MethodDefinition","start":406,"end":522,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":406,"end":417,"name":"constructor"},"value":{"type":"FunctionExpression","start":417,"end":522,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":418,"end":430,"name":"initialValue"}],"body":{"type":"BlockStatement","start":432,"end":522,"body":[{"type":"ExpressionStatement","start":442,"end":450,"expression":{"type":"CallExpression","start":442,"end":449,"optional":false,"callee":{"type":"Super","start":442,"end":447},"arguments":[]}},{"type":"ExpressionStatement","start":459,"end":516,"expression":{"type":"AssignmentExpression","start":459,"end":515,"operator":"=","left":{"type":"MemberExpression","start":459,"end":471,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":459,"end":463},"property":{"type":"Identifier","start":464,"end":471,"name":"subject"}},"right":{"type":"NewExpression","start":474,"end":515,"callee":{"type":"Identifier","start":478,"end":493,"name":"BehaviorSubject"},"arguments":[{"type":"LogicalExpression","start":494,"end":514,"operator":"??","left":{"type":"Identifier","start":494,"end":506,"name":"initialValue"},"right":{"type":"Literal","start":510,"end":514,"raw":"null","value":null}}]}}}]},"expression":false},"kind":"constructor"},{"type":"MethodDefinition","start":527,"end":697,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":527,"end":530,"name":"set"},"value":{"type":"FunctionExpression","start":530,"end":697,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":531,"end":536,"name":"value"},{"type":"AssignmentPattern","start":538,"end":567,"left":{"type":"Identifier","start":538,"end":559,"name":"bypassChangeDetection"},"right":{"type":"Literal","start":562,"end":567,"value":false,"raw":"false"}}],"body":{"type":"BlockStatement","start":569,"end":697,"body":[{"type":"ExpressionStatement","start":579,"end":630,"expression":{"type":"AssignmentExpression","start":579,"end":629,"operator":"=","left":{"type":"MemberExpression","start":579,"end":605,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":579,"end":583},"property":{"type":"Identifier","start":584,"end":605,"name":"bypassChangeDetection"}},"right":{"type":"Identifier","start":608,"end":629,"name":"bypassChangeDetection"}}},{"type":"ExpressionStatement","start":639,"end":664,"expression":{"type":"CallExpression","start":639,"end":663,"optional":false,"callee":{"type":"MemberExpression","start":639,"end":656,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":639,"end":651,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":639,"end":643},"property":{"type":"Identifier","start":644,"end":651,"name":"subject"}},"property":{"type":"Identifier","start":652,"end":656,"name":"next"}},"arguments":[{"type":"Identifier","start":657,"end":662,"name":"value"}]}},{"type":"ReturnStatement","start":673,"end":691,"argument":{"type":"MemberExpression","start":680,"end":690,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":680,"end":684},"property":{"type":"Identifier","start":685,"end":690,"name":"state"}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":702,"end":1037,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":702,"end":707,"name":"onSet"},"value":{"type":"FunctionExpression","start":707,"end":1037,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":708,"end":716,"name":"observer"},{"type":"Identifier","start":718,"end":723,"name":"error"},{"type":"Identifier","start":725,"end":733,"name":"complete"},{"type":"Identifier","start":735,"end":750,"name":"callerComponent"}],"body":{"type":"BlockStatement","start":752,"end":1037,"body":[{"type":"VariableDeclaration","start":762,"end":862,"kind":"let","declarations":[{"type":"VariableDeclarator","start":766,"end":861,"id":{"type":"Identifier","start":766,"end":776,"name":"observable"},"init":{"type":"CallExpression","start":779,"end":861,"optional":false,"callee":{"type":"MemberExpression","start":779,"end":794,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":779,"end":789,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":779,"end":783},"property":{"type":"Identifier","start":784,"end":789,"name":"state"}},"property":{"type":"Identifier","start":790,"end":794,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":795,"end":860,"optional":false,"callee":{"type":"Identifier","start":795,"end":801,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":802,"end":859,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":802,"end":803,"name":"x"}],"body":{"type":"LogicalExpression","start":807,"end":859,"operator":"&&","left":{"type":"UnaryExpression","start":807,"end":828,"operator":"!","argument":{"type":"CallExpression","start":808,"end":828,"optional":false,"callee":{"type":"Identifier","start":808,"end":825,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":826,"end":827,"name":"x"}]},"prefix":true},"right":{"type":"UnaryExpression","start":832,"end":859,"operator":"!","argument":{"type":"MemberExpression","start":833,"end":859,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":833,"end":837},"property":{"type":"Identifier","start":838,"end":859,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]}]}}]},{"type":"ReturnStatement","start":871,"end":1031,"argument":{"type":"CallExpression","start":878,"end":1030,"optional":false,"callee":{"type":"MemberExpression","start":878,"end":902,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":878,"end":882},"property":{"type":"Identifier","start":883,"end":902,"name":"prepareSubscription"}},"arguments":[{"type":"ObjectExpression","start":903,"end":1029,"properties":[{"type":"Property","start":917,"end":927,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":917,"end":927,"name":"observable"},"value":{"type":"Identifier","start":917,"end":927,"name":"observable"},"kind":"init"},{"type":"Property","start":941,"end":949,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":941,"end":949,"name":"observer"},"value":{"type":"Identifier","start":941,"end":949,"name":"observer"},"kind":"init"},{"type":"Property","start":963,"end":968,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":963,"end":968,"name":"error"},"value":{"type":"Identifier","start":963,"end":968,"name":"error"},"kind":"init"},{"type":"Property","start":982,"end":990,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":982,"end":990,"name":"complete"},"value":{"type":"Identifier","start":982,"end":990,"name":"complete"},"kind":"init"},{"type":"Property","start":1004,"end":1019,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1004,"end":1019,"name":"callerComponent"},"value":{"type":"Identifier","start":1004,"end":1019,"name":"callerComponent"},"kind":"init"}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":1042,"end":1404,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1042,"end":1050,"name":"onChange"},"value":{"type":"FunctionExpression","start":1050,"end":1404,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":1051,"end":1059,"name":"observer"},{"type":"Identifier","start":1061,"end":1066,"name":"error"},{"type":"Identifier","start":1068,"end":1076,"name":"complete"},{"type":"Identifier","start":1078,"end":1093,"name":"callerComponent"}],"body":{"type":"BlockStatement","start":1095,"end":1404,"body":[{"type":"VariableDeclaration","start":1105,"end":1229,"kind":"let","declarations":[{"type":"VariableDeclarator","start":1109,"end":1228,"id":{"type":"Identifier","start":1109,"end":1119,"name":"observable"},"init":{"type":"CallExpression","start":1122,"end":1228,"optional":false,"callee":{"type":"MemberExpression","start":1122,"end":1137,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1122,"end":1132,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1122,"end":1126},"property":{"type":"Identifier","start":1127,"end":1132,"name":"state"}},"property":{"type":"Identifier","start":1133,"end":1137,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":1138,"end":1160,"optional":false,"callee":{"type":"Identifier","start":1138,"end":1158,"name":"distinctUntilChanged"},"arguments":[]},{"type":"CallExpression","start":1162,"end":1227,"optional":false,"callee":{"type":"Identifier","start":1162,"end":1168,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":1169,"end":1226,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":1169,"end":1170,"name":"x"}],"body":{"type":"LogicalExpression","start":1174,"end":1226,"operator":"&&","left":{"type":"UnaryExpression","start":1174,"end":1195,"operator":"!","argument":{"type":"CallExpression","start":1175,"end":1195,"optional":false,"callee":{"type":"Identifier","start":1175,"end":1192,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":1193,"end":1194,"name":"x"}]},"prefix":true},"right":{"type":"UnaryExpression","start":1199,"end":1226,"operator":"!","argument":{"type":"MemberExpression","start":1200,"end":1226,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1200,"end":1204},"property":{"type":"Identifier","start":1205,"end":1226,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]}]}}]},{"type":"ReturnStatement","start":1238,"end":1398,"argument":{"type":"CallExpression","start":1245,"end":1397,"optional":false,"callee":{"type":"MemberExpression","start":1245,"end":1269,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1245,"end":1249},"property":{"type":"Identifier","start":1250,"end":1269,"name":"prepareSubscription"}},"arguments":[{"type":"ObjectExpression","start":1270,"end":1396,"properties":[{"type":"Property","start":1284,"end":1294,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1284,"end":1294,"name":"observable"},"value":{"type":"Identifier","start":1284,"end":1294,"name":"observable"},"kind":"init"},{"type":"Property","start":1308,"end":1316,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1308,"end":1316,"name":"observer"},"value":{"type":"Identifier","start":1308,"end":1316,"name":"observer"},"kind":"init"},{"type":"Property","start":1330,"end":1335,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1330,"end":1335,"name":"error"},"value":{"type":"Identifier","start":1330,"end":1335,"name":"error"},"kind":"init"},{"type":"Property","start":1349,"end":1357,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1349,"end":1357,"name":"complete"},"value":{"type":"Identifier","start":1349,"end":1357,"name":"complete"},"kind":"init"},{"type":"Property","start":1371,"end":1386,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1371,"end":1386,"name":"callerComponent"},"value":{"type":"Identifier","start":1371,"end":1386,"name":"callerComponent"},"kind":"init"}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":1409,"end":1714,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1409,"end":1419,"name":"onFirstSet"},"value":{"type":"FunctionExpression","start":1419,"end":1714,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":1420,"end":1428,"name":"observer"},{"type":"Identifier","start":1430,"end":1435,"name":"error"},{"type":"Identifier","start":1437,"end":1445,"name":"complete"}],"body":{"type":"BlockStatement","start":1447,"end":1714,"body":[{"type":"VariableDeclaration","start":1457,"end":1568,"kind":"const","declarations":[{"type":"VariableDeclarator","start":1463,"end":1567,"id":{"type":"Identifier","start":1463,"end":1473,"name":"observable"},"init":{"type":"CallExpression","start":1476,"end":1567,"optional":false,"callee":{"type":"MemberExpression","start":1476,"end":1491,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1476,"end":1486,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1476,"end":1480},"property":{"type":"Identifier","start":1481,"end":1486,"name":"state"}},"property":{"type":"Identifier","start":1487,"end":1491,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":1492,"end":1557,"optional":false,"callee":{"type":"Identifier","start":1492,"end":1498,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":1499,"end":1556,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":1499,"end":1500,"name":"x"}],"body":{"type":"LogicalExpression","start":1504,"end":1556,"operator":"&&","left":{"type":"UnaryExpression","start":1504,"end":1525,"operator":"!","argument":{"type":"CallExpression","start":1505,"end":1525,"optional":false,"callee":{"type":"Identifier","start":1505,"end":1522,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":1523,"end":1524,"name":"x"}]},"prefix":true},"right":{"type":"UnaryExpression","start":1529,"end":1556,"operator":"!","argument":{"type":"MemberExpression","start":1530,"end":1556,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1530,"end":1534},"property":{"type":"Identifier","start":1535,"end":1556,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]},{"type":"CallExpression","start":1559,"end":1566,"optional":false,"callee":{"type":"Identifier","start":1559,"end":1564,"name":"first"},"arguments":[]}]}}]},{"type":"ReturnStatement","start":1577,"end":1708,"argument":{"type":"CallExpression","start":1584,"end":1707,"optional":false,"callee":{"type":"MemberExpression","start":1584,"end":1608,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1584,"end":1588},"property":{"type":"Identifier","start":1589,"end":1608,"name":"prepareSubscription"}},"arguments":[{"type":"ObjectExpression","start":1609,"end":1706,"properties":[{"type":"Property","start":1623,"end":1633,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1623,"end":1633,"name":"observable"},"value":{"type":"Identifier","start":1623,"end":1633,"name":"observable"},"kind":"init"},{"type":"Property","start":1647,"end":1655,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1647,"end":1655,"name":"observer"},"value":{"type":"Identifier","start":1647,"end":1655,"name":"observer"},"kind":"init"},{"type":"Property","start":1669,"end":1674,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1669,"end":1674,"name":"error"},"value":{"type":"Identifier","start":1669,"end":1674,"name":"error"},"kind":"init"},{"type":"Property","start":1688,"end":1696,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1688,"end":1696,"name":"complete"},"value":{"type":"Identifier","start":1688,"end":1696,"name":"complete"},"kind":"init"}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":1719,"end":2051,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1719,"end":1732,"name":"onFirstChange"},"value":{"type":"FunctionExpression","start":1732,"end":2051,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":1733,"end":1741,"name":"observer"},{"type":"Identifier","start":1743,"end":1748,"name":"error"},{"type":"Identifier","start":1750,"end":1758,"name":"complete"}],"body":{"type":"BlockStatement","start":1760,"end":2051,"body":[{"type":"VariableDeclaration","start":1770,"end":1905,"kind":"const","declarations":[{"type":"VariableDeclarator","start":1776,"end":1904,"id":{"type":"Identifier","start":1776,"end":1786,"name":"observable"},"init":{"type":"CallExpression","start":1789,"end":1904,"optional":false,"callee":{"type":"MemberExpression","start":1789,"end":1804,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1789,"end":1799,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1789,"end":1793},"property":{"type":"Identifier","start":1794,"end":1799,"name":"state"}},"property":{"type":"Identifier","start":1800,"end":1804,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":1805,"end":1827,"optional":false,"callee":{"type":"Identifier","start":1805,"end":1825,"name":"distinctUntilChanged"},"arguments":[]},{"type":"CallExpression","start":1829,"end":1894,"optional":false,"callee":{"type":"Identifier","start":1829,"end":1835,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":1836,"end":1893,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":1836,"end":1837,"name":"x"}],"body":{"type":"LogicalExpression","start":1841,"end":1893,"operator":"&&","left":{"type":"UnaryExpression","start":1841,"end":1862,"operator":"!","argument":{"type":"CallExpression","start":1842,"end":1862,"optional":false,"callee":{"type":"Identifier","start":1842,"end":1859,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":1860,"end":1861,"name":"x"}]},"prefix":true},"right":{"type":"UnaryExpression","start":1866,"end":1893,"operator":"!","argument":{"type":"MemberExpression","start":1867,"end":1893,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1867,"end":1871},"property":{"type":"Identifier","start":1872,"end":1893,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]},{"type":"CallExpression","start":1896,"end":1903,"optional":false,"callee":{"type":"Identifier","start":1896,"end":1901,"name":"first"},"arguments":[]}]}}]},{"type":"ReturnStatement","start":1914,"end":2045,"argument":{"type":"CallExpression","start":1921,"end":2044,"optional":false,"callee":{"type":"MemberExpression","start":1921,"end":1945,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1921,"end":1925},"property":{"type":"Identifier","start":1926,"end":1945,"name":"prepareSubscription"}},"arguments":[{"type":"ObjectExpression","start":1946,"end":2043,"properties":[{"type":"Property","start":1960,"end":1970,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1960,"end":1970,"name":"observable"},"value":{"type":"Identifier","start":1960,"end":1970,"name":"observable"},"kind":"init"},{"type":"Property","start":1984,"end":1992,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1984,"end":1992,"name":"observer"},"value":{"type":"Identifier","start":1984,"end":1992,"name":"observer"},"kind":"init"},{"type":"Property","start":2006,"end":2011,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2006,"end":2011,"name":"error"},"value":{"type":"Identifier","start":2006,"end":2011,"name":"error"},"kind":"init"},{"type":"Property","start":2025,"end":2033,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2025,"end":2033,"name":"complete"},"value":{"type":"Identifier","start":2025,"end":2033,"name":"complete"},"kind":"init"}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2056,"end":2410,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2056,"end":2071,"name":"onFromSecondSet"},"value":{"type":"FunctionExpression","start":2071,"end":2410,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":2072,"end":2080,"name":"observer"},{"type":"Identifier","start":2082,"end":2087,"name":"error"},{"type":"Identifier","start":2089,"end":2097,"name":"complete"},{"type":"Identifier","start":2099,"end":2114,"name":"callerComponent"}],"body":{"type":"BlockStatement","start":2116,"end":2410,"body":[{"type":"VariableDeclaration","start":2126,"end":2235,"kind":"let","declarations":[{"type":"VariableDeclarator","start":2130,"end":2234,"id":{"type":"Identifier","start":2130,"end":2140,"name":"observable"},"init":{"type":"CallExpression","start":2143,"end":2234,"optional":false,"callee":{"type":"MemberExpression","start":2143,"end":2158,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2143,"end":2153,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2143,"end":2147},"property":{"type":"Identifier","start":2148,"end":2153,"name":"state"}},"property":{"type":"Identifier","start":2154,"end":2158,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":2159,"end":2224,"optional":false,"callee":{"type":"Identifier","start":2159,"end":2165,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":2166,"end":2223,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":2166,"end":2167,"name":"x"}],"body":{"type":"LogicalExpression","start":2171,"end":2223,"operator":"&&","left":{"type":"UnaryExpression","start":2171,"end":2192,"operator":"!","argument":{"type":"CallExpression","start":2172,"end":2192,"optional":false,"callee":{"type":"Identifier","start":2172,"end":2189,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":2190,"end":2191,"name":"x"}]},"prefix":true},"right":{"type":"UnaryExpression","start":2196,"end":2223,"operator":"!","argument":{"type":"MemberExpression","start":2197,"end":2223,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2197,"end":2201},"property":{"type":"Identifier","start":2202,"end":2223,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]},{"type":"CallExpression","start":2226,"end":2233,"optional":false,"callee":{"type":"Identifier","start":2226,"end":2230,"name":"skip"},"arguments":[{"type":"Literal","start":2231,"end":2232,"raw":"1","value":1}]}]}}]},{"type":"ReturnStatement","start":2244,"end":2404,"argument":{"type":"CallExpression","start":2251,"end":2403,"optional":false,"callee":{"type":"MemberExpression","start":2251,"end":2275,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2251,"end":2255},"property":{"type":"Identifier","start":2256,"end":2275,"name":"prepareSubscription"}},"arguments":[{"type":"ObjectExpression","start":2276,"end":2402,"properties":[{"type":"Property","start":2290,"end":2300,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2290,"end":2300,"name":"observable"},"value":{"type":"Identifier","start":2290,"end":2300,"name":"observable"},"kind":"init"},{"type":"Property","start":2314,"end":2322,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2314,"end":2322,"name":"observer"},"value":{"type":"Identifier","start":2314,"end":2322,"name":"observer"},"kind":"init"},{"type":"Property","start":2336,"end":2341,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2336,"end":2341,"name":"error"},"value":{"type":"Identifier","start":2336,"end":2341,"name":"error"},"kind":"init"},{"type":"Property","start":2355,"end":2363,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2355,"end":2363,"name":"complete"},"value":{"type":"Identifier","start":2355,"end":2363,"name":"complete"},"kind":"init"},{"type":"Property","start":2377,"end":2392,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2377,"end":2392,"name":"callerComponent"},"value":{"type":"Identifier","start":2377,"end":2392,"name":"callerComponent"},"kind":"init"}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2415,"end":2796,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2415,"end":2433,"name":"onFromSecondChange"},"value":{"type":"FunctionExpression","start":2433,"end":2796,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":2434,"end":2442,"name":"observer"},{"type":"Identifier","start":2444,"end":2449,"name":"error"},{"type":"Identifier","start":2451,"end":2459,"name":"complete"},{"type":"Identifier","start":2461,"end":2476,"name":"callerComponent"}],"body":{"type":"BlockStatement","start":2478,"end":2796,"body":[{"type":"VariableDeclaration","start":2488,"end":2621,"kind":"let","declarations":[{"type":"VariableDeclarator","start":2492,"end":2620,"id":{"type":"Identifier","start":2492,"end":2502,"name":"observable"},"init":{"type":"CallExpression","start":2505,"end":2620,"optional":false,"callee":{"type":"MemberExpression","start":2505,"end":2520,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2505,"end":2515,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2505,"end":2509},"property":{"type":"Identifier","start":2510,"end":2515,"name":"state"}},"property":{"type":"Identifier","start":2516,"end":2520,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":2521,"end":2543,"optional":false,"callee":{"type":"Identifier","start":2521,"end":2541,"name":"distinctUntilChanged"},"arguments":[]},{"type":"CallExpression","start":2545,"end":2610,"optional":false,"callee":{"type":"Identifier","start":2545,"end":2551,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":2552,"end":2609,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":2552,"end":2553,"name":"x"}],"body":{"type":"LogicalExpression","start":2557,"end":2609,"operator":"&&","left":{"type":"UnaryExpression","start":2557,"end":2578,"operator":"!","argument":{"type":"CallExpression","start":2558,"end":2578,"optional":false,"callee":{"type":"Identifier","start":2558,"end":2575,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":2576,"end":2577,"name":"x"}]},"prefix":true},"right":{"type":"UnaryExpression","start":2582,"end":2609,"operator":"!","argument":{"type":"MemberExpression","start":2583,"end":2609,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2583,"end":2587},"property":{"type":"Identifier","start":2588,"end":2609,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]},{"type":"CallExpression","start":2612,"end":2619,"optional":false,"callee":{"type":"Identifier","start":2612,"end":2616,"name":"skip"},"arguments":[{"type":"Literal","start":2617,"end":2618,"raw":"1","value":1}]}]}}]},{"type":"ReturnStatement","start":2630,"end":2790,"argument":{"type":"CallExpression","start":2637,"end":2789,"optional":false,"callee":{"type":"MemberExpression","start":2637,"end":2661,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2637,"end":2641},"property":{"type":"Identifier","start":2642,"end":2661,"name":"prepareSubscription"}},"arguments":[{"type":"ObjectExpression","start":2662,"end":2788,"properties":[{"type":"Property","start":2676,"end":2686,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2676,"end":2686,"name":"observable"},"value":{"type":"Identifier","start":2676,"end":2686,"name":"observable"},"kind":"init"},{"type":"Property","start":2700,"end":2708,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2700,"end":2708,"name":"observer"},"value":{"type":"Identifier","start":2700,"end":2708,"name":"observer"},"kind":"init"},{"type":"Property","start":2722,"end":2727,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2722,"end":2727,"name":"error"},"value":{"type":"Identifier","start":2722,"end":2727,"name":"error"},"kind":"init"},{"type":"Property","start":2741,"end":2749,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2741,"end":2749,"name":"complete"},"value":{"type":"Identifier","start":2741,"end":2749,"name":"complete"},"kind":"init"},{"type":"Property","start":2763,"end":2778,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2763,"end":2778,"name":"callerComponent"},"value":{"type":"Identifier","start":2763,"end":2778,"name":"callerComponent"},"kind":"init"}]}]}}]},"expression":false},"kind":"method"}]}}}],"_rollupRemoved":[{"end":12657,"start":2799,"type":"sourcemap"}],"sourceType":"module"},"attributes":{},"code":"import { BehaviorSubject } from \"rxjs\";\nimport { distinctUntilChanged, filter, first, skip } from \"rxjs/operators\";\nimport { isNullOrUndefined } from \"../helpers/type.helper\";\nimport { BaseState } from \"./base-state\";\nexport class State extends BaseState {\n    subject;\n    get state() {\n        return this.subject.asObservable();\n    }\n    get value() {\n        return this.subject.getValue();\n    }\n    constructor(initialValue) {\n        super();\n        this.subject = new BehaviorSubject(initialValue ?? null);\n    }\n    set(value, bypassChangeDetection = false) {\n        this.bypassChangeDetection = bypassChangeDetection;\n        this.subject.next(value);\n        return this.state;\n    }\n    onSet(observer, error, complete, callerComponent) {\n        let observable = this.state.pipe(filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    onChange(observer, error, complete, callerComponent) {\n        let observable = this.state.pipe(distinctUntilChanged(), filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    onFirstSet(observer, error, complete) {\n        const observable = this.state.pipe(filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection), first());\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete\n        });\n    }\n    onFirstChange(observer, error, complete) {\n        const observable = this.state.pipe(distinctUntilChanged(), filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection), first());\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete\n        });\n    }\n    onFromSecondSet(observer, error, complete, callerComponent) {\n        let observable = this.state.pipe(filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection), skip(1));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    onFromSecondChange(observer, error, complete, callerComponent) {\n        let observable = this.state.pipe(distinctUntilChanged(), filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection), skip(1));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtc3RhdGVzL3NyYy9saWIvc3RhdGVzL3N0YXRlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxlQUFlLEVBQTZDLE1BQU0sTUFBTSxDQUFDO0FBQ2xGLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzNFLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQzNELE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFFekMsTUFBTSxPQUFPLEtBQVMsU0FBUSxTQUFTO0lBQzNCLE9BQU8sQ0FBcUI7SUFFdEMsSUFBVyxLQUFLO1FBQ2QsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQ3JDLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDZCxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDakMsQ0FBQztJQUVELFlBQVksWUFBZ0I7UUFDMUIsS0FBSyxFQUFFLENBQUM7UUFDUixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksZUFBZSxDQUFJLFlBQVksSUFBSSxJQUFTLENBQUMsQ0FBQztJQUNuRSxDQUFDO0lBRU0sR0FBRyxDQUFDLEtBQVEsRUFBRSxxQkFBcUIsR0FBRyxLQUFLO1FBQ2hELElBQUksQ0FBQyxxQkFBcUIsR0FBRyxxQkFBcUIsQ0FBQztRQUNuRCxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN6QixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDcEIsQ0FBQztJQVNNLEtBQUssQ0FBQyxRQUFvRCxFQUFFLEtBQTRCLEVBQUUsUUFBcUIsRUFBRSxlQUF3QjtRQUM5SSxJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FDOUIsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxDQUNsRSxDQUFDO1FBQ0YsT0FBTyxJQUFJLENBQUMsbUJBQW1CLENBQUM7WUFDOUIsVUFBVTtZQUNWLFFBQVE7WUFDUixLQUFLO1lBQ0wsUUFBUTtZQUNSLGVBQWU7U0FDaEIsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQVNNLFFBQVEsQ0FBQyxRQUFvRCxFQUFFLEtBQTRCLEVBQUUsUUFBcUIsRUFBRSxlQUF3QjtRQUNqSixJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FDOUIsb0JBQW9CLEVBQUUsRUFDdEIsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxDQUNsRSxDQUFDO1FBRUYsT0FBTyxJQUFJLENBQUMsbUJBQW1CLENBQUM7WUFDOUIsVUFBVTtZQUNWLFFBQVE7WUFDUixLQUFLO1lBQ0wsUUFBUTtZQUNSLGVBQWU7U0FDaEIsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVNLFVBQVUsQ0FBQyxRQUFvRCxFQUFFLEtBQTRCLEVBQUUsUUFBcUI7UUFDekgsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQ2hDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMscUJBQXFCLENBQUMsRUFDakUsS0FBSyxFQUFFLENBQ1IsQ0FBQTtRQUNELE9BQU8sSUFBSSxDQUFDLG1CQUFtQixDQUFDO1lBQzlCLFVBQVU7WUFDVixRQUFRO1lBQ1IsS0FBSztZQUNMLFFBQVE7U0FDVCxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRU0sYUFBYSxDQUFDLFFBQW9ELEVBQUUsS0FBNEIsRUFBRSxRQUFxQjtRQUM1SCxNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FDaEMsb0JBQW9CLEVBQUUsRUFDdEIsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxFQUNqRSxLQUFLLEVBQUUsQ0FDUixDQUFBO1FBQ0QsT0FBTyxJQUFJLENBQUMsbUJBQW1CLENBQUM7WUFDOUIsVUFBVTtZQUNWLFFBQVE7WUFDUixLQUFLO1lBQ0wsUUFBUTtTQUNULENBQUMsQ0FBQztJQUNMLENBQUM7SUFTTSxlQUFlLENBQUMsUUFBb0QsRUFBRSxLQUE0QixFQUFFLFFBQXFCLEVBQUUsZUFBd0I7UUFDeEosSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQzlCLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMscUJBQXFCLENBQUMsRUFDakUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUNSLENBQUM7UUFFRixPQUFPLElBQUksQ0FBQyxtQkFBbUIsQ0FBQztZQUM5QixVQUFVO1lBQ1YsUUFBUTtZQUNSLEtBQUs7WUFDTCxRQUFRO1lBQ1IsZUFBZTtTQUNoQixDQUFDLENBQUM7SUFDTCxDQUFDO0lBU00sa0JBQWtCLENBQUMsUUFBb0QsRUFBRSxLQUE0QixFQUFFLFFBQXFCLEVBQUUsZUFBd0I7UUFDM0osSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQzlCLG9CQUFvQixFQUFFLEVBQ3RCLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMscUJBQXFCLENBQUMsRUFDakUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUNSLENBQUM7UUFFRixPQUFPLElBQUksQ0FBQyxtQkFBbUIsQ0FBQztZQUM5QixVQUFVO1lBQ1YsUUFBUTtZQUNSLEtBQUs7WUFDTCxRQUFRO1lBQ1IsZUFBZTtTQUNoQixDQUFDLENBQUM7SUFDTCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIE9ic2VydmFibGUsIFBhcnRpYWxPYnNlcnZlciwgU3Vic2NyaXB0aW9uIH0gZnJvbSBcInJ4anNcIjtcbmltcG9ydCB7IGRpc3RpbmN0VW50aWxDaGFuZ2VkLCBmaWx0ZXIsIGZpcnN0LCBza2lwIH0gZnJvbSBcInJ4anMvb3BlcmF0b3JzXCI7XG5pbXBvcnQgeyBpc051bGxPclVuZGVmaW5lZCB9IGZyb20gXCIuLi9oZWxwZXJzL3R5cGUuaGVscGVyXCI7XG5pbXBvcnQgeyBCYXNlU3RhdGUgfSBmcm9tIFwiLi9iYXNlLXN0YXRlXCI7XG5cbmV4cG9ydCBjbGFzcyBTdGF0ZTxUPiBleHRlbmRzIEJhc2VTdGF0ZSB7XG4gIHByb3RlY3RlZCBzdWJqZWN0OiBCZWhhdmlvclN1YmplY3Q8VD47XG5cbiAgcHVibGljIGdldCBzdGF0ZSgpOiBPYnNlcnZhYmxlPFQ+IHtcbiAgICByZXR1cm4gdGhpcy5zdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuICB9XG5cbiAgcHVibGljIGdldCB2YWx1ZSgpOiBUIHtcbiAgICByZXR1cm4gdGhpcy5zdWJqZWN0LmdldFZhbHVlKCk7XG4gIH1cblxuICBjb25zdHJ1Y3Rvcihpbml0aWFsVmFsdWU/OiBUKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFQ+KGluaXRpYWxWYWx1ZSA/PyBudWxsIGFzIFQpO1xuICB9XG5cbiAgcHVibGljIHNldCh2YWx1ZTogVCwgYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uID0gZmFsc2UpOiBPYnNlcnZhYmxlPFQ+IHtcbiAgICB0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvbiA9IGJ5cGFzc0NoYW5nZURldGVjdGlvbjtcbiAgICB0aGlzLnN1YmplY3QubmV4dCh2YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gIH1cblxuICBwdWJsaWMgb25TZXQob2JzZXJ2ZXI6ICh2YWx1ZTogVCkgPT4gdm9pZCwgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0KTogdm9pZDtcbiAgcHVibGljIG9uU2V0KFxuICAgIG9ic2VydmVyOiBQYXJ0aWFsT2JzZXJ2ZXI8VD4sXG4gICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICBjb21wbGV0ZT86ICgpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvblNldChvYnNlcnZlcj86ICgodmFsdWU6IFQpID0+IHZvaWQpIHwgUGFydGlhbE9ic2VydmVyPFQ+LCBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLCBjb21wbGV0ZT86ICgpID0+IHZvaWQsIGNhbGxlckNvbXBvbmVudD86IG9iamVjdCk6IFN1YnNjcmlwdGlvbiB7XG4gICAgbGV0IG9ic2VydmFibGUgPSB0aGlzLnN0YXRlLnBpcGUoXG4gICAgICBmaWx0ZXIoeCA9PiAhaXNOdWxsT3JVbmRlZmluZWQoeCkgJiYgIXRoaXMuYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uKSxcbiAgICApO1xuICAgIHJldHVybiB0aGlzLnByZXBhcmVTdWJzY3JpcHRpb24oe1xuICAgICAgb2JzZXJ2YWJsZSxcbiAgICAgIG9ic2VydmVyLFxuICAgICAgZXJyb3IsXG4gICAgICBjb21wbGV0ZSxcbiAgICAgIGNhbGxlckNvbXBvbmVudFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIG9uQ2hhbmdlKG9ic2VydmVyOiAodmFsdWU6IFQpID0+IHZvaWQsIGNhbGxlckNvbXBvbmVudD86IG9iamVjdCk6IHZvaWQ7XG4gIHB1YmxpYyBvbkNoYW5nZShcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFQ+LFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY29tcGxldGU/OiAoKSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25DaGFuZ2Uob2JzZXJ2ZXI/OiAoKHZhbHVlOiBUKSA9PiB2b2lkKSB8IFBhcnRpYWxPYnNlcnZlcjxUPiwgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCwgY29tcGxldGU/OiAoKSA9PiB2b2lkLCBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3QpOiBTdWJzY3JpcHRpb24ge1xuICAgIGxldCBvYnNlcnZhYmxlID0gdGhpcy5zdGF0ZS5waXBlKFxuICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKSxcbiAgICAgIGZpbHRlcih4ID0+ICFpc051bGxPclVuZGVmaW5lZCh4KSAmJiAhdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24pXG4gICAgKTtcblxuICAgIHJldHVybiB0aGlzLnByZXBhcmVTdWJzY3JpcHRpb24oe1xuICAgICAgb2JzZXJ2YWJsZSxcbiAgICAgIG9ic2VydmVyLFxuICAgICAgZXJyb3IsXG4gICAgICBjb21wbGV0ZSxcbiAgICAgIGNhbGxlckNvbXBvbmVudFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIG9uRmlyc3RTZXQob2JzZXJ2ZXI/OiAoKHZhbHVlOiBUKSA9PiB2b2lkKSB8IFBhcnRpYWxPYnNlcnZlcjxUPiwgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCwgY29tcGxldGU/OiAoKSA9PiB2b2lkKTogU3Vic2NyaXB0aW9uIHtcbiAgICBjb25zdCBvYnNlcnZhYmxlID0gdGhpcy5zdGF0ZS5waXBlKFxuICAgICAgZmlsdGVyKHggPT4gIWlzTnVsbE9yVW5kZWZpbmVkKHgpICYmICF0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvbiksXG4gICAgICBmaXJzdCgpXG4gICAgKVxuICAgIHJldHVybiB0aGlzLnByZXBhcmVTdWJzY3JpcHRpb24oe1xuICAgICAgb2JzZXJ2YWJsZSxcbiAgICAgIG9ic2VydmVyLFxuICAgICAgZXJyb3IsXG4gICAgICBjb21wbGV0ZVxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIG9uRmlyc3RDaGFuZ2Uob2JzZXJ2ZXI/OiAoKHZhbHVlOiBUKSA9PiB2b2lkKSB8IFBhcnRpYWxPYnNlcnZlcjxUPiwgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCwgY29tcGxldGU/OiAoKSA9PiB2b2lkKTogU3Vic2NyaXB0aW9uIHtcbiAgICBjb25zdCBvYnNlcnZhYmxlID0gdGhpcy5zdGF0ZS5waXBlKFxuICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKSxcbiAgICAgIGZpbHRlcih4ID0+ICFpc051bGxPclVuZGVmaW5lZCh4KSAmJiAhdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24pLFxuICAgICAgZmlyc3QoKVxuICAgIClcbiAgICByZXR1cm4gdGhpcy5wcmVwYXJlU3Vic2NyaXB0aW9uKHtcbiAgICAgIG9ic2VydmFibGUsXG4gICAgICBvYnNlcnZlcixcbiAgICAgIGVycm9yLFxuICAgICAgY29tcGxldGVcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBvbkZyb21TZWNvbmRTZXQob2JzZXJ2ZXI6ICh2YWx1ZTogVCkgPT4gdm9pZCwgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0KTogdm9pZDtcbiAgcHVibGljIG9uRnJvbVNlY29uZFNldChcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFQ+LFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY29tcGxldGU/OiAoKSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25Gcm9tU2Vjb25kU2V0KG9ic2VydmVyPzogKCh2YWx1ZTogVCkgPT4gdm9pZCkgfCBQYXJ0aWFsT2JzZXJ2ZXI8VD4sIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsIGNvbXBsZXRlPzogKCkgPT4gdm9pZCwgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0KTogU3Vic2NyaXB0aW9uIHtcbiAgICBsZXQgb2JzZXJ2YWJsZSA9IHRoaXMuc3RhdGUucGlwZShcbiAgICAgIGZpbHRlcih4ID0+ICFpc051bGxPclVuZGVmaW5lZCh4KSAmJiAhdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24pLFxuICAgICAgc2tpcCgxKVxuICAgICk7XG5cbiAgICByZXR1cm4gdGhpcy5wcmVwYXJlU3Vic2NyaXB0aW9uKHtcbiAgICAgIG9ic2VydmFibGUsXG4gICAgICBvYnNlcnZlcixcbiAgICAgIGVycm9yLFxuICAgICAgY29tcGxldGUsXG4gICAgICBjYWxsZXJDb21wb25lbnRcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBvbkZyb21TZWNvbmRDaGFuZ2Uob2JzZXJ2ZXI6ICh2YWx1ZTogVCkgPT4gdm9pZCwgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0KTogdm9pZDtcbiAgcHVibGljIG9uRnJvbVNlY29uZENoYW5nZShcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFQ+LFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY29tcGxldGU/OiAoKSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25Gcm9tU2Vjb25kQ2hhbmdlKG9ic2VydmVyPzogKCh2YWx1ZTogVCkgPT4gdm9pZCkgfCBQYXJ0aWFsT2JzZXJ2ZXI8VD4sIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsIGNvbXBsZXRlPzogKCkgPT4gdm9pZCwgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0KTogU3Vic2NyaXB0aW9uIHtcbiAgICBsZXQgb2JzZXJ2YWJsZSA9IHRoaXMuc3RhdGUucGlwZShcbiAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKCksXG4gICAgICBmaWx0ZXIoeCA9PiAhaXNOdWxsT3JVbmRlZmluZWQoeCkgJiYgIXRoaXMuYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uKSxcbiAgICAgIHNraXAoMSlcbiAgICApO1xuXG4gICAgcmV0dXJuIHRoaXMucHJlcGFyZVN1YnNjcmlwdGlvbih7XG4gICAgICBvYnNlcnZhYmxlLFxuICAgICAgb2JzZXJ2ZXIsXG4gICAgICBlcnJvcixcbiAgICAgIGNvbXBsZXRlLFxuICAgICAgY2FsbGVyQ29tcG9uZW50XG4gICAgfSk7XG4gIH1cbn1cbiJdfQ==","customTransformCache":false,"dependencies":["rxjs","rxjs/operators","/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/helpers/type.helper.mjs","/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/states/base-state.mjs"],"id":"/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/states/state.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { BehaviorSubject } from \"rxjs\";\nimport { distinctUntilChanged, filter, first, skip } from \"rxjs/operators\";\nimport { isNullOrUndefined } from \"../helpers/type.helper\";\nimport { BaseState } from \"./base-state\";\nexport class State extends BaseState {\n    subject;\n    get state() {\n        return this.subject.asObservable();\n    }\n    get value() {\n        return this.subject.getValue();\n    }\n    constructor(initialValue) {\n        super();\n        this.subject = new BehaviorSubject(initialValue ?? null);\n    }\n    set(value, bypassChangeDetection = false) {\n        this.bypassChangeDetection = bypassChangeDetection;\n        this.subject.next(value);\n        return this.state;\n    }\n    onSet(observer, error, complete, callerComponent) {\n        let observable = this.state.pipe(filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    onChange(observer, error, complete, callerComponent) {\n        let observable = this.state.pipe(distinctUntilChanged(), filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    onFirstSet(observer, error, complete) {\n        const observable = this.state.pipe(filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection), first());\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete\n        });\n    }\n    onFirstChange(observer, error, complete) {\n        const observable = this.state.pipe(distinctUntilChanged(), filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection), first());\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete\n        });\n    }\n    onFromSecondSet(observer, error, complete, callerComponent) {\n        let observable = this.state.pipe(filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection), skip(1));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    onFromSecondChange(observer, error, complete, callerComponent) {\n        let observable = this.state.pipe(distinctUntilChanged(), filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection), skip(1));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtc3RhdGVzL3NyYy9saWIvc3RhdGVzL3N0YXRlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxlQUFlLEVBQTZDLE1BQU0sTUFBTSxDQUFDO0FBQ2xGLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzNFLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQzNELE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFFekMsTUFBTSxPQUFPLEtBQVMsU0FBUSxTQUFTO0lBQzNCLE9BQU8sQ0FBcUI7SUFFdEMsSUFBVyxLQUFLO1FBQ2QsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQ3JDLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDZCxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDakMsQ0FBQztJQUVELFlBQVksWUFBZ0I7UUFDMUIsS0FBSyxFQUFFLENBQUM7UUFDUixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksZUFBZSxDQUFJLFlBQVksSUFBSSxJQUFTLENBQUMsQ0FBQztJQUNuRSxDQUFDO0lBRU0sR0FBRyxDQUFDLEtBQVEsRUFBRSxxQkFBcUIsR0FBRyxLQUFLO1FBQ2hELElBQUksQ0FBQyxxQkFBcUIsR0FBRyxxQkFBcUIsQ0FBQztRQUNuRCxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN6QixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDcEIsQ0FBQztJQVNNLEtBQUssQ0FBQyxRQUFvRCxFQUFFLEtBQTRCLEVBQUUsUUFBcUIsRUFBRSxlQUF3QjtRQUM5SSxJQUFJLFVBQVUsR0FBRyxJ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RixPQUFPLElBQUksQ0FBQyxtQkFBbUIsQ0FBQztZQUM5QixVQUFVO1lBQ1YsUUFBUTtZQUNSLEtBQUs7WUFDTCxRQUFRO1lBQ1IsZUFBZTtTQUNoQixDQUFDLENBQUM7SUFDTCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIE9ic2VydmFibGUsIFBhcnRpYWxPYnNlcnZlciwgU3Vic2NyaXB0aW9uIH0gZnJvbSBcInJ4anNcIjtcbmltcG9ydCB7IGRpc3RpbmN0VW50aWxDaGFuZ2VkLCBmaWx0ZXIsIGZpcnN0LCBza2lwIH0gZnJvbSBcInJ4anMvb3BlcmF0b3JzXCI7XG5pbXBvcnQgeyBpc051bGxPclVuZGVmaW5lZCB9IGZyb20gXCIuLi9oZWxwZXJzL3R5cGUuaGVscGVyXCI7XG5pbXBvcnQgeyBCYXNlU3RhdGUgfSBmcm9tIFwiLi9iYXNlLXN0YXRlXCI7XG5cbmV4cG9ydCBjbGFzcyBTdGF0ZTxUPiBleHRlbmRzIEJhc2VTdGF0ZSB7XG4gIHByb3RlY3RlZCBzdWJqZWN0OiBCZWhhdmlvclN1YmplY3Q8VD47XG5cbiAgcHVibGljIGdldCBzdGF0ZSgpOiBPYnNlcnZhYmxlPFQ+IHtcbiAgICByZXR1cm4gdGhpcy5zdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuICB9XG5cbiAgcHVibGljIGdldCB2YWx1ZSgpOiBUIHtcbiAgICByZXR1cm4gdGhpcy5zdWJqZWN0LmdldFZhbHVlKCk7XG4gIH1cblxuICBjb25zdHJ1Y3Rvcihpbml0aWFsVmFsdWU/OiBUKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFQ+KGluaXRpYWxWYWx1ZSA/PyBudWxsIGFzIFQpO1xuICB9XG5cbiAgcHVibGljIHNldCh2YWx1ZTogVCwgYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uID0gZmFsc2UpOiBPYnNlcnZhYmxlPFQ+IHtcbiAgICB0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvbiA9IGJ5cGFzc0NoYW5nZURldGVjdGlvbjtcbiAgICB0aGlzLnN1YmplY3QubmV4dCh2YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gIH1cblxuICBwdWJsaWMgb25TZXQob2JzZXJ2ZXI6ICh2YWx1ZTogVCkgPT4gdm9pZCwgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0KTogdm9pZDtcbiAgcHVibGljIG9uU2V0KFxuICAgIG9ic2VydmVyOiBQYXJ0aWFsT2JzZXJ2ZXI8VD4sXG4gICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICBjb21wbGV0ZT86ICgpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvblNldChvYnNlcnZlcj86ICgodmFsdWU6IFQpID0+IHZvaWQpIHwgUGFydGlhbE9ic2VydmVyPFQ+LCBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLCBjb21wbGV0ZT86ICgpID0+IHZvaWQsIGNhbGxlckNvbXBvbmVudD86IG9iamVjdCk6IFN1YnNjcmlwdGlvbiB7XG4gICAgbGV0IG9ic2VydmFibGUgPSB0aGlzLnN0YXRlLnBpcGUoXG4gICAgICBmaWx0ZXIoeCA9PiAhaXNOdWxsT3JVbmRlZmluZWQoeCkgJiYgIXRoaXMuYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uKSxcbiAgICApO1xuICAgIHJldHVybiB0aGlzLnByZXBhcmVTdWJzY3JpcHRpb24oe1xuICAgICAgb2JzZXJ2YWJsZSxcbiAgICAgIG9ic2VydmVyLFxuICAgICAgZXJyb3IsXG4gICAgICBjb21wbGV0ZSxcbiAgICAgIGNhbGxlckNvbXBvbmVudFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIG9uQ2hhbmdlKG9ic2VydmVyOiAodmFsdWU6IFQpID0+IHZvaWQsIGNhbGxlckNvbXBvbmVudD86IG9iamVjdCk6IHZvaWQ7XG4gIHB1YmxpYyBvbkNoYW5nZShcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFQ+LFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY29tcGxldGU/OiAoKSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25DaGFuZ2Uob2JzZXJ2ZXI/OiAoKHZhbHVlOiBUKSA9PiB2b2lkKSB8IFBhcnRpYWxPYnNlcnZlcjxUPiwgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCwgY29tcGxldGU/OiAoKSA9PiB2b2lkLCBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3QpOiBTdWJzY3JpcHRpb24ge1xuICAgIGxldCBvYnNlcnZhYmxlID0gdGhpcy5zdGF0ZS5waXBlKFxuICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKSxcbiAgICAgIGZpbHRlcih4ID0+ICFpc051bGxPclVuZGVmaW5lZCh4KSAmJiAhdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24pXG4gICAgKTtcblxuICAgIHJldHVybiB0aGlzLnByZXBhcmVTdWJzY3JpcHRpb24oe1xuICAgICAgb2JzZXJ2YWJsZSxcbiAgICAgIG9ic2VydmVyLFxuICAgICAgZXJyb3IsXG4gICAgICBjb21wbGV0ZSxcbiAgICAgIGNhbGxlckNvbXBvbmVudFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIG9uRmlyc3RTZXQob2JzZXJ2ZXI/OiAoKHZhbHVlOiBUKSA9PiB2b2lkKSB8IFBhcnRpYWxPYnNlcnZlcjxUPiwgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCwgY29tcGxldGU/OiAoKSA9PiB2b2lkKTogU3Vic2NyaXB0aW9uIHtcbiAgICBjb25zdCBvYnNlcnZhYmxlID0gdGhpcy5zdGF0ZS5waXBlKFxuICAgICAgZmlsdGVyKHggPT4gIWlzTnVsbE9yVW5kZWZpbmVkKHgpICYmICF0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvbiksXG4gICAgICBmaXJzdCgpXG4gICAgKVxuICAgIHJldHVybiB0aGlzLnByZXBhcmVTdWJzY3JpcHRpb24oe1xuICAgICAgb2JzZXJ2YWJsZSxcbiAgICAgIG9ic2VydmVyLFxuICAgICAgZXJyb3IsXG4gICAgICBjb21wbGV0ZVxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIG9uRmlyc3RDaGFuZ2Uob2JzZXJ2ZXI/OiAoKHZhbHVlOiBUKSA9PiB2b2lkKSB8IFBhcnRpYWxPYnNlcnZlcjxUPiwgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCwgY29tcGxldGU/OiAoKSA9PiB2b2lkKTogU3Vic2NyaXB0aW9uIHtcbiAgICBjb25zdCBvYnNlcnZhYmxlID0gdGhpcy5zdGF0ZS5waXBlKFxuICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKSxcbiAgICAgIGZpbHRlcih4ID0+ICFpc051bGxPclVuZGVmaW5lZCh4KSAmJiAhdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24pLFxuICAgICAgZmlyc3QoKVxuICAgIClcbiAgICByZXR1cm4gdGhpcy5wcmVwYXJlU3Vic2NyaXB0aW9uKHtcbiAgICAgIG9ic2VydmFibGUsXG4gICAgICBvYnNlcnZlcixcbiAgICAgIGVycm9yLFxuICAgICAgY29tcGxldGVcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBvbkZyb21TZWNvbmRTZXQob2JzZXJ2ZXI6ICh2YWx1ZTogVCkgPT4gdm9pZCwgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0KTogdm9pZDtcbiAgcHVibGljIG9uRnJvbVNlY29uZFNldChcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFQ+LFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY29tcGxldGU/OiAoKSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25Gcm9tU2Vjb25kU2V0KG9ic2VydmVyPzogKCh2YWx1ZTogVCkgPT4gdm9pZCkgfCBQYXJ0aWFsT2JzZXJ2ZXI8VD4sIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsIGNvbXBsZXRlPzogKCkgPT4gdm9pZCwgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0KTogU3Vic2NyaXB0aW9uIHtcbiAgICBsZXQgb2JzZXJ2YWJsZSA9IHRoaXMuc3RhdGUucGlwZShcbiAgICAgIGZpbHRlcih4ID0+ICFpc051bGxPclVuZGVmaW5lZCh4KSAmJiAhdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24pLFxuICAgICAgc2tpcCgxKVxuICAgICk7XG5cbiAgICByZXR1cm4gdGhpcy5wcmVwYXJlU3Vic2NyaXB0aW9uKHtcbiAgICAgIG9ic2VydmFibGUsXG4gICAgICBvYnNlcnZlcixcbiAgICAgIGVycm9yLFxuICAgICAgY29tcGxldGUsXG4gICAgICBjYWxsZXJDb21wb25lbnRcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBvbkZyb21TZWNvbmRDaGFuZ2Uob2JzZXJ2ZXI6ICh2YWx1ZTogVCkgPT4gdm9pZCwgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0KTogdm9pZDtcbiAgcHVibGljIG9uRnJvbVNlY29uZENoYW5nZShcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFQ+LFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY29tcGxldGU/OiAoKSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25Gcm9tU2Vjb25kQ2hhbmdlKG9ic2VydmVyPzogKCh2YWx1ZTogVCkgPT4gdm9pZCkgfCBQYXJ0aWFsT2JzZXJ2ZXI8VD4sIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsIGNvbXBsZXRlPzogKCkgPT4gdm9pZCwgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0KTogU3Vic2NyaXB0aW9uIHtcbiAgICBsZXQgb2JzZXJ2YWJsZSA9IHRoaXMuc3RhdGUucGlwZShcbiAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKCksXG4gICAgICBmaWx0ZXIoeCA9PiAhaXNOdWxsT3JVbmRlZmluZWQoeCkgJiYgIXRoaXMuYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uKSxcbiAgICAgIHNraXAoMSlcbiAgICApO1xuXG4gICAgcmV0dXJuIHRoaXMucHJlcGFyZVN1YnNjcmlwdGlvbih7XG4gICAgICBvYnNlcnZhYmxlLFxuICAgICAgb2JzZXJ2ZXIsXG4gICAgICBlcnJvcixcbiAgICAgIGNvbXBsZXRlLFxuICAgICAgY2FsbGVyQ29tcG9uZW50XG4gICAgfSk7XG4gIH1cbn1cbiJdfQ==","originalSourcemap":{"version":3,"file":"state.js","sourceRoot":"","sources":["../../../../../projects/ngx-states/src/lib/states/state.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[24,0,0,24],[26,0,0,69],[32,0,0,75],[38,0,0,81],[39,0,0,82]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[29,0,1,29],[31,0,1,31],[37,0,1,37],[39,0,1,39],[44,0,1,44],[46,0,1,46],[50,0,1,50],[52,0,1,52],[58,0,1,58],[74,0,1,74],[75,0,1,75]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[26,0,2,26],[28,0,2,28],[34,0,2,34],[58,0,2,58],[59,0,2,59]],[[0,0,3,0],[7,0,3,7],[9,0,3,9],[18,0,3,18],[20,0,3,20],[26,0,3,26],[40,0,3,40],[41,0,3,41]],[[0,0,5,0],[6,0,5,6],[13,0,5,13],[18,0,5,22],[27,0,5,30],[36,0,5,39]],[[4,0,6,12],[11,0,6,19],[12,0,6,40]],[[4,0,8,2],[8,0,8,13],[13,0,8,18]],[[8,0,9,4],[15,0,9,11],[19,0,9,15],[20,0,9,16],[27,0,9,23],[28,0,9,24],[40,0,9,36],[42,0,9,38],[43,0,9,39]],[[4,0,10,2],[5,0,10,3]],[[4,0,12,2],[8,0,12,13],[13,0,12,18]],[[8,0,13,4],[15,0,13,11],[19,0,13,15],[20,0,13,16],[27,0,13,23],[28,0,13,24],[36,0,13,32],[38,0,13,34],[39,0,13,35]],[[4,0,14,2],[5,0,14,3]],[[4,0,16,2],[16,0,16,14],[28,0,16,30]],[[8,0,17,4],[13,0,17,9],[15,0,17,11],[16,0,17,12]],[[8,0,18,4],[12,0,18,8],[13,0,18,9],[20,0,18,16],[23,0,18,19],[27,0,18,23],[42,0,18,38],[43,0,18,42],[55,0,18,54],[59,0,18,58],[63,0,18,67],[64,0,18,68],[65,0,18,69]],[[4,0,19,2],[5,0,19,3]],[[4,0,21,9],[7,0,21,12],[8,0,21,13],[13,0,21,21],[15,0,21,23],[36,0,21,44],[39,0,21,47],[44,0,21,52]],[[8,0,22,4],[12,0,22,8],[13,0,22,9],[34,0,22,30],[37,0,22,33],[58,0,22,54],[59,0,22,55]],[[8,0,23,4],[12,0,23,8],[13,0,23,9],[20,0,23,16],[21,0,23,17],[25,0,23,21],[26,0,23,22],[31,0,23,27],[32,0,23,28],[33,0,23,29]],[[8,0,24,4],[15,0,24,11],[19,0,24,15],[20,0,24,16],[25,0,24,21],[26,0,24,22]],[[4,0,25,2],[5,0,25,3]],[[4,0,34,9],[9,0,34,14],[10,0,34,15],[18,0,34,67],[20,0,34,69],[25,0,34,97],[27,0,34,99],[35,0,34,120],[37,0,34,122],[52,0,34,146]],[[8,0,35,4],[12,0,35,8],[22,0,35,18],[25,0,35,21],[29,0,35,25],[30,0,35,26],[35,0,35,31],[36,0,35,32],[40,0,35,36],[41,0,36,6],[47,0,36,12],[48,0,36,13],[49,0,36,14],[50,0,36,15],[52,0,36,17],[53,0,36,18],[54,0,36,19],[71,0,36,36],[72,0,36,37],[73,0,36,38],[74,0,36,39],[78,0,36,43],[79,0,36,44],[83,0,36,48],[84,0,36,49],[105,0,36,70],[106,0,36,71],[107,0,37,5],[108,0,37,6]],[[8,0,38,4],[15,0,38,11],[19,0,38,15],[20,0,38,16],[39,0,38,35],[40,0,38,36]],[[12,0,39,6],[22,0,39,16]],[[12,0,40,6],[20,0,40,14]],[[12,0,41,6],[17,0,41,11]],[[12,0,42,6],[20,0,42,14]],[[12,0,43,6],[27,0,43,21]],[[9,0,44,5],[10,0,44,6],[11,0,44,7]],[[4,0,45,2],[5,0,45,3]],[[4,0,54,9],[12,0,54,17],[13,0,54,18],[21,0,54,70],[23,0,54,72],[28,0,54,100],[30,0,54,102],[38,0,54,123],[40,0,54,125],[55,0,54,149]],[[8,0,55,4],[12,0,55,8],[22,0,55,18],[25,0,55,21],[29,0,55,25],[30,0,55,26],[35,0,55,31],[36,0,55,32],[40,0,55,36],[41,0,56,6],[61,0,56,26],[63,0,56,28],[65,0,57,6],[71,0,57,12],[72,0,57,13],[73,0,57,14],[74,0,57,15],[76,0,57,17],[77,0,57,18],[78,0,57,19],[95,0,57,36],[96,0,57,37],[97,0,57,38],[98,0,57,39],[102,0,57,43],[103,0,57,44],[107,0,57,48],[108,0,57,49],[129,0,57,70],[130,0,57,71],[131,0,58,5],[132,0,58,6]],[[8,0,60,4],[15,0,60,11],[19,0,60,15],[20,0,60,16],[39,0,60,35],[40,0,60,36]],[[12,0,61,6],[22,0,61,16]],[[12,0,62,6],[20,0,62,14]],[[12,0,63,6],[17,0,63,11]],[[12,0,64,6],[20,0,64,14]],[[12,0,65,6],[27,0,65,21]],[[9,0,66,5],[10,0,66,6],[11,0,66,7]],[[4,0,67,2],[5,0,67,3]],[[4,0,69,9],[14,0,69,19],[15,0,69,20],[23,0,69,72],[25,0,69,74],[30,0,69,102],[32,0,69,104],[40,0,69,125]],[[8,0,70,4],[14,0,70,10],[24,0,70,20],[27,0,70,23],[31,0,70,27],[32,0,70,28],[37,0,70,33],[38,0,70,34],[42,0,70,38],[43,0,71,6],[49,0,71,12],[50,0,71,13],[51,0,71,14],[52,0,71,15],[54,0,71,17],[55,0,71,18],[56,0,71,19],[73,0,71,36],[74,0,71,37],[75,0,71,38],[76,0,71,39],[80,0,71,43],[81,0,71,44],[85,0,71,48],[86,0,71,49],[107,0,71,70],[108,0,71,71],[110,0,72,6],[115,0,72,11],[117,0,72,13],[118,0,73,5],[119,0,73,5]],[[8,0,74,4],[15,0,74,11],[19,0,74,15],[20,0,74,16],[39,0,74,35],[40,0,74,36]],[[12,0,75,6],[22,0,75,16]],[[12,0,76,6],[20,0,76,14]],[[12,0,77,6],[17,0,77,11]],[[12,0,78,6],[20,0,78,14]],[[9,0,79,5],[10,0,79,6],[11,0,79,7]],[[4,0,80,2],[5,0,80,3]],[[4,0,82,9],[17,0,82,22],[18,0,82,23],[26,0,82,75],[28,0,82,77],[33,0,82,105],[35,0,82,107],[43,0,82,128]],[[8,0,83,4],[14,0,83,10],[24,0,83,20],[27,0,83,23],[31,0,83,27],[32,0,83,28],[37,0,83,33],[38,0,83,34],[42,0,83,38],[43,0,84,6],[63,0,84,26],[65,0,84,28],[67,0,85,6],[73,0,85,12],[74,0,85,13],[75,0,85,14],[76,0,85,15],[78,0,85,17],[79,0,85,18],[80,0,85,19],[97,0,85,36],[98,0,85,37],[99,0,85,38],[100,0,85,39],[104,0,85,43],[105,0,85,44],[109,0,85,48],[110,0,85,49],[131,0,85,70],[132,0,85,71],[134,0,86,6],[139,0,86,11],[141,0,86,13],[142,0,87,5],[143,0,87,5]],[[8,0,88,4],[15,0,88,11],[19,0,88,15],[20,0,88,16],[39,0,88,35],[40,0,88,36]],[[12,0,89,6],[22,0,89,16]],[[12,0,90,6],[20,0,90,14]],[[12,0,91,6],[17,0,91,11]],[[12,0,92,6],[20,0,92,14]],[[9,0,93,5],[10,0,93,6],[11,0,93,7]],[[4,0,94,2],[5,0,94,3]],[[4,0,103,9],[19,0,103,24],[20,0,103,25],[28,0,103,77],[30,0,103,79],[35,0,103,107],[37,0,103,109],[45,0,103,130],[47,0,103,132],[62,0,103,156]],[[8,0,104,4],[12,0,104,8],[22,0,104,18],[25,0,104,21],[29,0,104,25],[30,0,104,26],[35,0,104,31],[36,0,104,32],[40,0,104,36],[41,0,105,6],[47,0,105,12],[48,0,105,13],[49,0,105,14],[50,0,105,15],[52,0,105,17],[53,0,105,18],[54,0,105,19],[71,0,105,36],[72,0,105,37],[73,0,105,38],[74,0,105,39],[78,0,105,43],[79,0,105,44],[83,0,105,48],[84,0,105,49],[105,0,105,70],[106,0,105,71],[108,0,106,6],[112,0,106,10],[113,0,106,11],[114,0,106,12],[115,0,106,13],[116,0,107,5],[117,0,107,6]],[[8,0,109,4],[15,0,109,11],[19,0,109,15],[20,0,109,16],[39,0,109,35],[40,0,109,36]],[[12,0,110,6],[22,0,110,16]],[[12,0,111,6],[20,0,111,14]],[[12,0,112,6],[17,0,112,11]],[[12,0,113,6],[20,0,113,14]],[[12,0,114,6],[27,0,114,21]],[[9,0,115,5],[10,0,115,6],[11,0,115,7]],[[4,0,116,2],[5,0,116,3]],[[4,0,125,9],[22,0,125,27],[23,0,125,28],[31,0,125,80],[33,0,125,82],[38,0,125,110],[40,0,125,112],[48,0,125,133],[50,0,125,135],[65,0,125,159]],[[8,0,126,4],[12,0,126,8],[22,0,126,18],[25,0,126,21],[29,0,126,25],[30,0,126,26],[35,0,126,31],[36,0,126,32],[40,0,126,36],[41,0,127,6],[61,0,127,26],[63,0,127,28],[65,0,128,6],[71,0,128,12],[72,0,128,13],[73,0,128,14],[74,0,128,15],[76,0,128,17],[77,0,128,18],[78,0,128,19],[95,0,128,36],[96,0,128,37],[97,0,128,38],[98,0,128,39],[102,0,128,43],[103,0,128,44],[107,0,128,48],[108,0,128,49],[129,0,128,70],[130,0,128,71],[132,0,129,6],[136,0,129,10],[137,0,129,11],[138,0,129,12],[139,0,129,13],[140,0,130,5],[141,0,130,6]],[[8,0,132,4],[15,0,132,11],[19,0,132,15],[20,0,132,16],[39,0,132,35],[40,0,132,36]],[[12,0,133,6],[22,0,133,16]],[[12,0,134,6],[20,0,134,14]],[[12,0,135,6],[17,0,135,11]],[[12,0,136,6],[20,0,136,14]],[[12,0,137,6],[27,0,137,21]],[[9,0,138,5],[10,0,138,6],[11,0,138,7]],[[4,0,139,2],[5,0,139,3]],[[1,0,140,1]]],"sourcesContent":["import { BehaviorSubject, Observable, PartialObserver, Subscription } from \"rxjs\";\nimport { distinctUntilChanged, filter, first, skip } from \"rxjs/operators\";\nimport { isNullOrUndefined } from \"../helpers/type.helper\";\nimport { BaseState } from \"./base-state\";\n\nexport class State<T> extends BaseState {\n  protected subject: BehaviorSubject<T>;\n\n  public get state(): Observable<T> {\n    return this.subject.asObservable();\n  }\n\n  public get value(): T {\n    return this.subject.getValue();\n  }\n\n  constructor(initialValue?: T) {\n    super();\n    this.subject = new BehaviorSubject<T>(initialValue ?? null as T);\n  }\n\n  public set(value: T, bypassChangeDetection = false): Observable<T> {\n    this.bypassChangeDetection = bypassChangeDetection;\n    this.subject.next(value);\n    return this.state;\n  }\n\n  public onSet(observer: (value: T) => void, callerComponent?: object): void;\n  public onSet(\n    observer: PartialObserver<T>,\n    error?: (error: any) => void,\n    complete?: () => void,\n    callerComponent?: object\n  ): void;\n  public onSet(observer?: ((value: T) => void) | PartialObserver<T>, error?: (error: any) => void, complete?: () => void, callerComponent?: object): Subscription {\n    let observable = this.state.pipe(\n      filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection),\n    );\n    return this.prepareSubscription({\n      observable,\n      observer,\n      error,\n      complete,\n      callerComponent\n    });\n  }\n\n  public onChange(observer: (value: T) => void, callerComponent?: object): void;\n  public onChange(\n    observer: PartialObserver<T>,\n    error?: (error: any) => void,\n    complete?: () => void,\n    callerComponent?: object\n  ): void;\n  public onChange(observer?: ((value: T) => void) | PartialObserver<T>, error?: (error: any) => void, complete?: () => void, callerComponent?: object): Subscription {\n    let observable = this.state.pipe(\n      distinctUntilChanged(),\n      filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection)\n    );\n\n    return this.prepareSubscription({\n      observable,\n      observer,\n      error,\n      complete,\n      callerComponent\n    });\n  }\n\n  public onFirstSet(observer?: ((value: T) => void) | PartialObserver<T>, error?: (error: any) => void, complete?: () => void): Subscription {\n    const observable = this.state.pipe(\n      filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection),\n      first()\n    )\n    return this.prepareSubscription({\n      observable,\n      observer,\n      error,\n      complete\n    });\n  }\n\n  public onFirstChange(observer?: ((value: T) => void) | PartialObserver<T>, error?: (error: any) => void, complete?: () => void): Subscription {\n    const observable = this.state.pipe(\n      distinctUntilChanged(),\n      filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection),\n      first()\n    )\n    return this.prepareSubscription({\n      observable,\n      observer,\n      error,\n      complete\n    });\n  }\n\n  public onFromSecondSet(observer: (value: T) => void, callerComponent?: object): void;\n  public onFromSecondSet(\n    observer: PartialObserver<T>,\n    error?: (error: any) => void,\n    complete?: () => void,\n    callerComponent?: object\n  ): void;\n  public onFromSecondSet(observer?: ((value: T) => void) | PartialObserver<T>, error?: (error: any) => void, complete?: () => void, callerComponent?: object): Subscription {\n    let observable = this.state.pipe(\n      filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection),\n      skip(1)\n    );\n\n    return this.prepareSubscription({\n      observable,\n      observer,\n      error,\n      complete,\n      callerComponent\n    });\n  }\n\n  public onFromSecondChange(observer: (value: T) => void, callerComponent?: object): void;\n  public onFromSecondChange(\n    observer: PartialObserver<T>,\n    error?: (error: any) => void,\n    complete?: () => void,\n    callerComponent?: object\n  ): void;\n  public onFromSecondChange(observer?: ((value: T) => void) | PartialObserver<T>, error?: (error: any) => void, complete?: () => void, callerComponent?: object): Subscription {\n    let observable = this.state.pipe(\n      distinctUntilChanged(),\n      filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection),\n      skip(1)\n    );\n\n    return this.prepareSubscription({\n      observable,\n      observer,\n      error,\n      complete,\n      callerComponent\n    });\n  }\n}\n"]},"resolvedIds":{"rxjs":{"attributes":{},"external":true,"id":"rxjs","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"rxjs/operators":{"attributes":{},"external":true,"id":"rxjs/operators","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"../helpers/type.helper":{"attributes":{},"external":false,"id":"/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/helpers/type.helper.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false},"./base-state":{"attributes":{},"external":false,"id":"/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/states/base-state.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":21608,"body":[{"type":"ImportDeclaration","start":0,"end":39,"specifiers":[{"type":"ImportSpecifier","start":9,"end":24,"imported":{"type":"Identifier","start":9,"end":24,"name":"BehaviorSubject"},"local":{"type":"Identifier","start":9,"end":24,"name":"BehaviorSubject"}}],"source":{"type":"Literal","start":32,"end":38,"value":"rxjs","raw":"\"rxjs\""},"attributes":[]},{"type":"ImportDeclaration","start":40,"end":120,"specifiers":[{"type":"ImportSpecifier","start":49,"end":69,"imported":{"type":"Identifier","start":49,"end":69,"name":"distinctUntilChanged"},"local":{"type":"Identifier","start":49,"end":69,"name":"distinctUntilChanged"}},{"type":"ImportSpecifier","start":71,"end":77,"imported":{"type":"Identifier","start":71,"end":77,"name":"filter"},"local":{"type":"Identifier","start":71,"end":77,"name":"filter"}},{"type":"ImportSpecifier","start":79,"end":84,"imported":{"type":"Identifier","start":79,"end":84,"name":"first"},"local":{"type":"Identifier","start":79,"end":84,"name":"first"}},{"type":"ImportSpecifier","start":86,"end":89,"imported":{"type":"Identifier","start":86,"end":89,"name":"map"},"local":{"type":"Identifier","start":86,"end":89,"name":"map"}},{"type":"ImportSpecifier","start":91,"end":95,"imported":{"type":"Identifier","start":91,"end":95,"name":"skip"},"local":{"type":"Identifier","start":91,"end":95,"name":"skip"}}],"source":{"type":"Literal","start":103,"end":119,"value":"rxjs/operators","raw":"\"rxjs/operators\""},"attributes":[]},{"type":"ImportDeclaration","start":121,"end":180,"specifiers":[{"type":"ImportSpecifier","start":130,"end":147,"imported":{"type":"Identifier","start":130,"end":147,"name":"isNullOrUndefined"},"local":{"type":"Identifier","start":130,"end":147,"name":"isNullOrUndefined"}}],"source":{"type":"Literal","start":155,"end":179,"value":"../helpers/type.helper","raw":"\"../helpers/type.helper\""},"attributes":[]},{"type":"ImportDeclaration","start":181,"end":222,"specifiers":[{"type":"ImportSpecifier","start":190,"end":199,"imported":{"type":"Identifier","start":190,"end":199,"name":"BaseState"},"local":{"type":"Identifier","start":190,"end":199,"name":"BaseState"}}],"source":{"type":"Literal","start":207,"end":221,"value":"./base-state","raw":"\"./base-state\""},"attributes":[]},{"type":"ExportNamedDeclaration","start":223,"end":4593,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"ClassDeclaration","start":230,"end":4593,"decorators":[],"id":{"type":"Identifier","start":236,"end":246,"name":"ArrayState"},"superClass":{"type":"Identifier","start":255,"end":264,"name":"BaseState"},"body":{"type":"ClassBody","start":265,"end":4593,"body":[{"type":"PropertyDefinition","start":271,"end":279,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":271,"end":278,"name":"subject"},"value":null},{"type":"MethodDefinition","start":284,"end":347,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":288,"end":293,"name":"state"},"value":{"type":"FunctionExpression","start":293,"end":347,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":296,"end":347,"body":[{"type":"ReturnStatement","start":306,"end":341,"argument":{"type":"CallExpression","start":313,"end":340,"optional":false,"callee":{"type":"MemberExpression","start":313,"end":338,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":313,"end":325,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":313,"end":317},"property":{"type":"Identifier","start":318,"end":325,"name":"subject"}},"property":{"type":"Identifier","start":326,"end":338,"name":"asObservable"}},"arguments":[]}}]},"expression":false},"kind":"get"},{"type":"MethodDefinition","start":352,"end":411,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":356,"end":361,"name":"value"},"value":{"type":"FunctionExpression","start":361,"end":411,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":364,"end":411,"body":[{"type":"ReturnStatement","start":374,"end":405,"argument":{"type":"CallExpression","start":381,"end":404,"optional":false,"callee":{"type":"MemberExpression","start":381,"end":402,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":381,"end":393,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":381,"end":385},"property":{"type":"Identifier","start":386,"end":393,"name":"subject"}},"property":{"type":"Identifier","start":394,"end":402,"name":"getValue"}},"arguments":[]}}]},"expression":false},"kind":"get"},{"type":"MethodDefinition","start":416,"end":470,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":420,"end":426,"name":"length"},"value":{"type":"FunctionExpression","start":426,"end":470,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":429,"end":470,"body":[{"type":"ReturnStatement","start":439,"end":464,"argument":{"type":"MemberExpression","start":446,"end":463,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":446,"end":456,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":446,"end":450},"property":{"type":"Identifier","start":451,"end":456,"name":"value"}},"property":{"type":"Identifier","start":457,"end":463,"name":"length"}}}]},"expression":false},"kind":"get"},{"type":"MethodDefinition","start":475,"end":541,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":475,"end":483,"name":"includes"},"value":{"type":"FunctionExpression","start":483,"end":541,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":484,"end":489,"name":"value"}],"body":{"type":"BlockStatement","start":491,"end":541,"body":[{"type":"ReturnStatement","start":501,"end":535,"argument":{"type":"CallExpression","start":508,"end":534,"optional":false,"callee":{"type":"MemberExpression","start":508,"end":527,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":508,"end":518,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":508,"end":512},"property":{"type":"Identifier","start":513,"end":518,"name":"value"}},"property":{"type":"Identifier","start":519,"end":527,"name":"includes"}},"arguments":[{"type":"Identifier","start":528,"end":533,"name":"value"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":546,"end":881,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":546,"end":553,"name":"hasItem"},"value":{"type":"FunctionExpression","start":553,"end":881,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":554,"end":558,"name":"item"},{"type":"AssignmentPattern","start":560,"end":577,"left":{"type":"Identifier","start":560,"end":570,"name":"exactMatch"},"right":{"type":"Literal","start":573,"end":577,"value":true,"raw":"true"}}],"body":{"type":"BlockStatement","start":579,"end":881,"body":[{"type":"ReturnStatement","start":589,"end":875,"argument":{"type":"CallExpression","start":596,"end":874,"optional":false,"callee":{"type":"MemberExpression","start":596,"end":611,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":596,"end":606,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":596,"end":600},"property":{"type":"Identifier","start":601,"end":606,"name":"state"}},"property":{"type":"Identifier","start":607,"end":611,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":612,"end":849,"optional":false,"callee":{"type":"Identifier","start":612,"end":615,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":616,"end":848,"async":false,"expression":false,"generator":false,"params":[{"type":"Identifier","start":616,"end":622,"name":"record"}],"body":{"type":"BlockStatement","start":626,"end":848,"body":[{"type":"IfStatement","start":640,"end":838,"test":{"type":"LogicalExpression","start":644,"end":683,"operator":"&&","left":{"type":"BinaryExpression","start":644,"end":668,"operator":"===","left":{"type":"UnaryExpression","start":644,"end":655,"operator":"typeof","argument":{"type":"Identifier","start":651,"end":655,"name":"item"},"prefix":true},"right":{"type":"Literal","start":660,"end":668,"value":"string","raw":"'string'"}},"right":{"type":"UnaryExpression","start":672,"end":683,"operator":"!","argument":{"type":"Identifier","start":673,"end":683,"name":"exactMatch"},"prefix":true}},"consequent":{"type":"BlockStatement","start":685,"end":759,"body":[{"type":"ReturnStatement","start":703,"end":745,"argument":{"type":"CallExpression","start":710,"end":744,"optional":false,"callee":{"type":"MemberExpression","start":710,"end":721,"computed":false,"optional":false,"object":{"type":"Identifier","start":710,"end":716,"name":"record"},"property":{"type":"Identifier","start":717,"end":721,"name":"some"}},"arguments":[{"type":"ArrowFunctionExpression","start":722,"end":743,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":722,"end":723,"name":"i"}],"body":{"type":"CallExpression","start":727,"end":743,"optional":false,"callee":{"type":"MemberExpression","start":727,"end":737,"computed":false,"optional":false,"object":{"type":"Identifier","start":727,"end":728,"name":"i"},"property":{"type":"Identifier","start":729,"end":737,"name":"includes"}},"arguments":[{"type":"Identifier","start":738,"end":742,"name":"item"}]},"id":null}]}}]},"alternate":{"type":"BlockStatement","start":777,"end":838,"body":[{"type":"ReturnStatement","start":795,"end":824,"argument":{"type":"CallExpression","start":802,"end":823,"optional":false,"callee":{"type":"MemberExpression","start":802,"end":817,"computed":false,"optional":false,"object":{"type":"Identifier","start":802,"end":808,"name":"record"},"property":{"type":"Identifier","start":809,"end":817,"name":"includes"}},"arguments":[{"type":"Identifier","start":818,"end":822,"name":"item"}]}}]}}]},"id":null}]},{"type":"CallExpression","start":851,"end":873,"optional":false,"callee":{"type":"Identifier","start":851,"end":871,"name":"distinctUntilChanged"},"arguments":[]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":886,"end":1000,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":886,"end":897,"name":"constructor"},"value":{"type":"FunctionExpression","start":897,"end":1000,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":898,"end":910,"name":"initialValue"}],"body":{"type":"BlockStatement","start":912,"end":1000,"body":[{"type":"ExpressionStatement","start":922,"end":930,"expression":{"type":"CallExpression","start":922,"end":929,"optional":false,"callee":{"type":"Super","start":922,"end":927},"arguments":[]}},{"type":"ExpressionStatement","start":939,"end":994,"expression":{"type":"AssignmentExpression","start":939,"end":993,"operator":"=","left":{"type":"MemberExpression","start":939,"end":951,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":939,"end":943},"property":{"type":"Identifier","start":944,"end":951,"name":"subject"}},"right":{"type":"NewExpression","start":954,"end":993,"callee":{"type":"Identifier","start":958,"end":973,"name":"BehaviorSubject"},"arguments":[{"type":"LogicalExpression","start":974,"end":992,"operator":"??","left":{"type":"Identifier","start":974,"end":986,"name":"initialValue"},"right":{"type":"ArrayExpression","start":990,"end":992,"elements":[]}}]}}}]},"expression":false},"kind":"constructor"},{"type":"MethodDefinition","start":1005,"end":1175,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1005,"end":1008,"name":"set"},"value":{"type":"FunctionExpression","start":1008,"end":1175,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":1009,"end":1014,"name":"value"},{"type":"AssignmentPattern","start":1016,"end":1045,"left":{"type":"Identifier","start":1016,"end":1037,"name":"bypassChangeDetection"},"right":{"type":"Literal","start":1040,"end":1045,"value":false,"raw":"false"}}],"body":{"type":"BlockStatement","start":1047,"end":1175,"body":[{"type":"ExpressionStatement","start":1057,"end":1108,"expression":{"type":"AssignmentExpression","start":1057,"end":1107,"operator":"=","left":{"type":"MemberExpression","start":1057,"end":1083,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1057,"end":1061},"property":{"type":"Identifier","start":1062,"end":1083,"name":"bypassChangeDetection"}},"right":{"type":"Identifier","start":1086,"end":1107,"name":"bypassChangeDetection"}}},{"type":"ExpressionStatement","start":1117,"end":1142,"expression":{"type":"CallExpression","start":1117,"end":1141,"optional":false,"callee":{"type":"MemberExpression","start":1117,"end":1134,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1117,"end":1129,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1117,"end":1121},"property":{"type":"Identifier","start":1122,"end":1129,"name":"subject"}},"property":{"type":"Identifier","start":1130,"end":1134,"name":"next"}},"arguments":[{"type":"Identifier","start":1135,"end":1140,"name":"value"}]}},{"type":"ReturnStatement","start":1151,"end":1169,"argument":{"type":"MemberExpression","start":1158,"end":1168,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1158,"end":1162},"property":{"type":"Identifier","start":1163,"end":1168,"name":"state"}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":1180,"end":1326,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1180,"end":1191,"name":"stateOfItem"},"value":{"type":"FunctionExpression","start":1191,"end":1326,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":1192,"end":1201,"name":"predicate"}],"body":{"type":"BlockStatement","start":1203,"end":1326,"body":[{"type":"ReturnStatement","start":1213,"end":1320,"argument":{"type":"CallExpression","start":1220,"end":1319,"optional":false,"callee":{"type":"MemberExpression","start":1220,"end":1235,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1220,"end":1230,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1220,"end":1224},"property":{"type":"Identifier","start":1225,"end":1230,"name":"state"}},"property":{"type":"Identifier","start":1231,"end":1235,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":1236,"end":1271,"optional":false,"callee":{"type":"Identifier","start":1236,"end":1239,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":1240,"end":1270,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":1240,"end":1245,"name":"items"}],"body":{"type":"CallExpression","start":1249,"end":1270,"optional":false,"callee":{"type":"MemberExpression","start":1249,"end":1259,"computed":false,"optional":false,"object":{"type":"Identifier","start":1249,"end":1254,"name":"items"},"property":{"type":"Identifier","start":1255,"end":1259,"name":"find"}},"arguments":[{"type":"Identifier","start":1260,"end":1269,"name":"predicate"}]},"id":null}]},{"type":"CallExpression","start":1273,"end":1309,"optional":false,"callee":{"type":"Identifier","start":1273,"end":1279,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":1280,"end":1308,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":1281,"end":1285,"name":"item"}],"body":{"type":"BinaryExpression","start":1290,"end":1308,"operator":"!==","left":{"type":"Identifier","start":1290,"end":1294,"name":"item"},"right":{"type":"Identifier","start":1299,"end":1308,"name":"undefined"}},"id":null}]},{"type":"CallExpression","start":1311,"end":1318,"optional":false,"callee":{"type":"Identifier","start":1311,"end":1316,"name":"first"},"arguments":[]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":1331,"end":1518,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1331,"end":1343,"name":"stateOfItems"},"value":{"type":"FunctionExpression","start":1343,"end":1518,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":1344,"end":1353,"name":"predicate"}],"body":{"type":"BlockStatement","start":1355,"end":1518,"body":[{"type":"ReturnStatement","start":1365,"end":1512,"argument":{"type":"CallExpression","start":1372,"end":1511,"optional":false,"callee":{"type":"MemberExpression","start":1372,"end":1387,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1372,"end":1382,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1372,"end":1376},"property":{"type":"Identifier","start":1377,"end":1382,"name":"state"}},"property":{"type":"Identifier","start":1383,"end":1387,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":1388,"end":1425,"optional":false,"callee":{"type":"Identifier","start":1388,"end":1391,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":1392,"end":1424,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":1392,"end":1397,"name":"items"}],"body":{"type":"CallExpression","start":1401,"end":1424,"optional":false,"callee":{"type":"MemberExpression","start":1401,"end":1413,"computed":false,"optional":false,"object":{"type":"Identifier","start":1401,"end":1406,"name":"items"},"property":{"type":"Identifier","start":1407,"end":1413,"name":"filter"}},"arguments":[{"type":"Identifier","start":1414,"end":1423,"name":"predicate"}]},"id":null}]},{"type":"CallExpression","start":1427,"end":1510,"optional":false,"callee":{"type":"Identifier","start":1427,"end":1447,"name":"distinctUntilChanged"},"arguments":[{"type":"ArrowFunctionExpression","start":1448,"end":1509,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":1449,"end":1453,"name":"prev"},{"type":"Identifier","start":1455,"end":1459,"name":"curr"}],"body":{"type":"BinaryExpression","start":1464,"end":1509,"operator":"===","left":{"type":"CallExpression","start":1464,"end":1484,"optional":false,"callee":{"type":"MemberExpression","start":1464,"end":1478,"computed":false,"optional":false,"object":{"type":"Identifier","start":1464,"end":1468,"name":"JSON"},"property":{"type":"Identifier","start":1469,"end":1478,"name":"stringify"}},"arguments":[{"type":"Identifier","start":1479,"end":1483,"name":"prev"}]},"right":{"type":"CallExpression","start":1489,"end":1509,"optional":false,"callee":{"type":"MemberExpression","start":1489,"end":1503,"computed":false,"optional":false,"object":{"type":"Identifier","start":1489,"end":1493,"name":"JSON"},"property":{"type":"Identifier","start":1494,"end":1503,"name":"stringify"}},"arguments":[{"type":"Identifier","start":1504,"end":1508,"name":"curr"}]}},"id":null}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":1523,"end":1597,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1523,"end":1535,"name":"getFirstItem"},"value":{"type":"FunctionExpression","start":1535,"end":1597,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":1536,"end":1545,"name":"predicate"}],"body":{"type":"BlockStatement","start":1547,"end":1597,"body":[{"type":"ReturnStatement","start":1557,"end":1591,"argument":{"type":"CallExpression","start":1564,"end":1590,"optional":false,"callee":{"type":"MemberExpression","start":1564,"end":1579,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1564,"end":1574,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1564,"end":1568},"property":{"type":"Identifier","start":1569,"end":1574,"name":"value"}},"property":{"type":"Identifier","start":1575,"end":1579,"name":"find"}},"arguments":[{"type":"Identifier","start":1580,"end":1589,"name":"predicate"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":1602,"end":1674,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1602,"end":1610,"name":"getItems"},"value":{"type":"FunctionExpression","start":1610,"end":1674,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":1611,"end":1620,"name":"predicate"}],"body":{"type":"BlockStatement","start":1622,"end":1674,"body":[{"type":"ReturnStatement","start":1632,"end":1668,"argument":{"type":"CallExpression","start":1639,"end":1667,"optional":false,"callee":{"type":"MemberExpression","start":1639,"end":1656,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1639,"end":1649,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1639,"end":1643},"property":{"type":"Identifier","start":1644,"end":1649,"name":"value"}},"property":{"type":"Identifier","start":1650,"end":1656,"name":"filter"}},"arguments":[{"type":"Identifier","start":1657,"end":1666,"name":"predicate"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":1679,"end":2029,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1679,"end":1682,"name":"add"},"value":{"type":"FunctionExpression","start":1682,"end":2029,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":1683,"end":1688,"name":"value"},{"type":"Identifier","start":1690,"end":1696,"name":"unique"},{"type":"AssignmentPattern","start":1698,"end":1727,"left":{"type":"Identifier","start":1698,"end":1719,"name":"bypassChangeDetection"},"right":{"type":"Literal","start":1722,"end":1727,"value":false,"raw":"false"}}],"body":{"type":"BlockStatement","start":1729,"end":2029,"body":[{"type":"ExpressionStatement","start":1739,"end":1790,"expression":{"type":"AssignmentExpression","start":1739,"end":1789,"operator":"=","left":{"type":"MemberExpression","start":1739,"end":1765,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1739,"end":1743},"property":{"type":"Identifier","start":1744,"end":1765,"name":"bypassChangeDetection"}},"right":{"type":"Identifier","start":1768,"end":1789,"name":"bypassChangeDetection"}}},{"type":"VariableDeclaration","start":1799,"end":1832,"kind":"const","declarations":[{"type":"VariableDeclarator","start":1805,"end":1831,"id":{"type":"Identifier","start":1805,"end":1811,"name":"newSet"},"init":{"type":"ObjectExpression","start":1814,"end":1831,"properties":[{"type":"SpreadElement","start":1816,"end":1829,"argument":{"type":"MemberExpression","start":1819,"end":1829,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1819,"end":1823},"property":{"type":"Identifier","start":1824,"end":1829,"name":"value"}}}]}}]},{"type":"VariableDeclaration","start":1841,"end":1873,"kind":"const","declarations":[{"type":"VariableDeclarator","start":1847,"end":1872,"id":{"type":"Identifier","start":1847,"end":1855,"name":"isUnique"},"init":{"type":"LogicalExpression","start":1858,"end":1872,"operator":"??","left":{"type":"Identifier","start":1858,"end":1864,"name":"unique"},"right":{"type":"Literal","start":1868,"end":1872,"value":true,"raw":"true"}}}]},{"type":"IfStatement","start":1882,"end":2023,"test":{"type":"LogicalExpression","start":1886,"end":1948,"operator":"||","left":{"type":"LogicalExpression","start":1887,"end":1922,"operator":"&&","left":{"type":"Identifier","start":1887,"end":1895,"name":"isUnique"},"right":{"type":"UnaryExpression","start":1899,"end":1922,"operator":"!","argument":{"type":"CallExpression","start":1900,"end":1922,"optional":false,"callee":{"type":"MemberExpression","start":1900,"end":1915,"computed":false,"optional":false,"object":{"type":"Identifier","start":1900,"end":1906,"name":"newSet"},"property":{"type":"Identifier","start":1907,"end":1915,"name":"includes"}},"arguments":[{"type":"Identifier","start":1916,"end":1921,"name":"value"}]},"prefix":true}},"right":{"type":"UnaryExpression","start":1939,"end":1948,"operator":"!","argument":{"type":"Identifier","start":1940,"end":1948,"name":"isUnique"},"prefix":true}},"consequent":{"type":"BlockStatement","start":1950,"end":2023,"body":[{"type":"ExpressionStatement","start":1964,"end":1983,"expression":{"type":"CallExpression","start":1964,"end":1982,"optional":false,"callee":{"type":"MemberExpression","start":1964,"end":1975,"computed":false,"optional":false,"object":{"type":"Identifier","start":1964,"end":1970,"name":"newSet"},"property":{"type":"Identifier","start":1971,"end":1975,"name":"push"}},"arguments":[{"type":"Identifier","start":1976,"end":1981,"name":"value"}]}},{"type":"ExpressionStatement","start":1996,"end":2013,"expression":{"type":"CallExpression","start":1996,"end":2012,"optional":false,"callee":{"type":"MemberExpression","start":1996,"end":2004,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1996,"end":2000},"property":{"type":"Identifier","start":2001,"end":2004,"name":"set"}},"arguments":[{"type":"Identifier","start":2005,"end":2011,"name":"newSet"}]}}]},"alternate":null}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2034,"end":2250,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2034,"end":2040,"name":"update"},"value":{"type":"FunctionExpression","start":2040,"end":2250,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":2041,"end":2046,"name":"value"},{"type":"AssignmentPattern","start":2048,"end":2077,"left":{"type":"Identifier","start":2048,"end":2069,"name":"bypassChangeDetection"},"right":{"type":"Literal","start":2072,"end":2077,"value":false,"raw":"false"}}],"body":{"type":"BlockStatement","start":2079,"end":2250,"body":[{"type":"ExpressionStatement","start":2089,"end":2140,"expression":{"type":"AssignmentExpression","start":2089,"end":2139,"operator":"=","left":{"type":"MemberExpression","start":2089,"end":2115,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2089,"end":2093},"property":{"type":"Identifier","start":2094,"end":2115,"name":"bypassChangeDetection"}},"right":{"type":"Identifier","start":2118,"end":2139,"name":"bypassChangeDetection"}}},{"type":"VariableDeclaration","start":2149,"end":2182,"kind":"const","declarations":[{"type":"VariableDeclarator","start":2155,"end":2181,"id":{"type":"Identifier","start":2155,"end":2161,"name":"newSet"},"init":{"type":"ObjectExpression","start":2164,"end":2181,"properties":[{"type":"SpreadElement","start":2166,"end":2179,"argument":{"type":"MemberExpression","start":2169,"end":2179,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2169,"end":2173},"property":{"type":"Identifier","start":2174,"end":2179,"name":"value"}}}]}}]},{"type":"ExpressionStatement","start":2191,"end":2244,"expression":{"type":"CallExpression","start":2191,"end":2243,"optional":false,"callee":{"type":"MemberExpression","start":2191,"end":2199,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2191,"end":2195},"property":{"type":"Identifier","start":2196,"end":2199,"name":"set"}},"arguments":[{"type":"CallExpression","start":2200,"end":2242,"optional":false,"callee":{"type":"MemberExpression","start":2200,"end":2210,"computed":false,"optional":false,"object":{"type":"Identifier","start":2200,"end":2206,"name":"newSet"},"property":{"type":"Identifier","start":2207,"end":2210,"name":"map"}},"arguments":[{"type":"ArrowFunctionExpression","start":2211,"end":2241,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":2211,"end":2212,"name":"x"}],"body":{"type":"ConditionalExpression","start":2216,"end":2241,"test":{"type":"BinaryExpression","start":2217,"end":2228,"operator":"!==","left":{"type":"Identifier","start":2217,"end":2218,"name":"x"},"right":{"type":"Identifier","start":2223,"end":2228,"name":"value"}},"consequent":{"type":"Identifier","start":2232,"end":2233,"name":"x"},"alternate":{"type":"Identifier","start":2236,"end":2241,"name":"value"}},"id":null}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2255,"end":2460,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2255,"end":2261,"name":"remove"},"value":{"type":"FunctionExpression","start":2261,"end":2460,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":2262,"end":2267,"name":"value"},{"type":"AssignmentPattern","start":2269,"end":2298,"left":{"type":"Identifier","start":2269,"end":2290,"name":"bypassChangeDetection"},"right":{"type":"Literal","start":2293,"end":2298,"value":false,"raw":"false"}}],"body":{"type":"BlockStatement","start":2300,"end":2460,"body":[{"type":"ExpressionStatement","start":2310,"end":2361,"expression":{"type":"AssignmentExpression","start":2310,"end":2360,"operator":"=","left":{"type":"MemberExpression","start":2310,"end":2336,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2310,"end":2314},"property":{"type":"Identifier","start":2315,"end":2336,"name":"bypassChangeDetection"}},"right":{"type":"Identifier","start":2339,"end":2360,"name":"bypassChangeDetection"}}},{"type":"VariableDeclaration","start":2370,"end":2403,"kind":"const","declarations":[{"type":"VariableDeclarator","start":2376,"end":2402,"id":{"type":"Identifier","start":2376,"end":2382,"name":"newSet"},"init":{"type":"ObjectExpression","start":2385,"end":2402,"properties":[{"type":"SpreadElement","start":2387,"end":2400,"argument":{"type":"MemberExpression","start":2390,"end":2400,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2390,"end":2394},"property":{"type":"Identifier","start":2395,"end":2400,"name":"value"}}}]}}]},{"type":"ExpressionStatement","start":2412,"end":2454,"expression":{"type":"CallExpression","start":2412,"end":2453,"optional":false,"callee":{"type":"MemberExpression","start":2412,"end":2420,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2412,"end":2416},"property":{"type":"Identifier","start":2417,"end":2420,"name":"set"}},"arguments":[{"type":"CallExpression","start":2421,"end":2452,"optional":false,"callee":{"type":"MemberExpression","start":2421,"end":2434,"computed":false,"optional":false,"object":{"type":"Identifier","start":2421,"end":2427,"name":"newSet"},"property":{"type":"Identifier","start":2428,"end":2434,"name":"filter"}},"arguments":[{"type":"ArrowFunctionExpression","start":2435,"end":2451,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":2435,"end":2436,"name":"x"}],"body":{"type":"BinaryExpression","start":2440,"end":2451,"operator":"!==","left":{"type":"Identifier","start":2440,"end":2441,"name":"x"},"right":{"type":"Identifier","start":2446,"end":2451,"name":"value"}},"id":null}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2465,"end":2800,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2465,"end":2470,"name":"onSet"},"value":{"type":"FunctionExpression","start":2470,"end":2800,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":2471,"end":2479,"name":"observer"},{"type":"Identifier","start":2481,"end":2486,"name":"error"},{"type":"Identifier","start":2488,"end":2496,"name":"complete"},{"type":"Identifier","start":2498,"end":2513,"name":"callerComponent"}],"body":{"type":"BlockStatement","start":2515,"end":2800,"body":[{"type":"VariableDeclaration","start":2525,"end":2625,"kind":"let","declarations":[{"type":"VariableDeclarator","start":2529,"end":2624,"id":{"type":"Identifier","start":2529,"end":2539,"name":"observable"},"init":{"type":"CallExpression","start":2542,"end":2624,"optional":false,"callee":{"type":"MemberExpression","start":2542,"end":2557,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2542,"end":2552,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2542,"end":2546},"property":{"type":"Identifier","start":2547,"end":2552,"name":"state"}},"property":{"type":"Identifier","start":2553,"end":2557,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":2558,"end":2623,"optional":false,"callee":{"type":"Identifier","start":2558,"end":2564,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":2565,"end":2622,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":2565,"end":2566,"name":"x"}],"body":{"type":"LogicalExpression","start":2570,"end":2622,"operator":"&&","left":{"type":"UnaryExpression","start":2570,"end":2591,"operator":"!","argument":{"type":"CallExpression","start":2571,"end":2591,"optional":false,"callee":{"type":"Identifier","start":2571,"end":2588,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":2589,"end":2590,"name":"x"}]},"prefix":true},"right":{"type":"UnaryExpression","start":2595,"end":2622,"operator":"!","argument":{"type":"MemberExpression","start":2596,"end":2622,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2596,"end":2600},"property":{"type":"Identifier","start":2601,"end":2622,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]}]}}]},{"type":"ReturnStatement","start":2634,"end":2794,"argument":{"type":"CallExpression","start":2641,"end":2793,"optional":false,"callee":{"type":"MemberExpression","start":2641,"end":2665,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2641,"end":2645},"property":{"type":"Identifier","start":2646,"end":2665,"name":"prepareSubscription"}},"arguments":[{"type":"ObjectExpression","start":2666,"end":2792,"properties":[{"type":"Property","start":2680,"end":2690,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2680,"end":2690,"name":"observable"},"value":{"type":"Identifier","start":2680,"end":2690,"name":"observable"},"kind":"init"},{"type":"Property","start":2704,"end":2712,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2704,"end":2712,"name":"observer"},"value":{"type":"Identifier","start":2704,"end":2712,"name":"observer"},"kind":"init"},{"type":"Property","start":2726,"end":2731,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2726,"end":2731,"name":"error"},"value":{"type":"Identifier","start":2726,"end":2731,"name":"error"},"kind":"init"},{"type":"Property","start":2745,"end":2753,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2745,"end":2753,"name":"complete"},"value":{"type":"Identifier","start":2745,"end":2753,"name":"complete"},"kind":"init"},{"type":"Property","start":2767,"end":2782,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2767,"end":2782,"name":"callerComponent"},"value":{"type":"Identifier","start":2767,"end":2782,"name":"callerComponent"},"kind":"init"}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2805,"end":3167,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2805,"end":2813,"name":"onChange"},"value":{"type":"FunctionExpression","start":2813,"end":3167,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":2814,"end":2822,"name":"observer"},{"type":"Identifier","start":2824,"end":2829,"name":"error"},{"type":"Identifier","start":2831,"end":2839,"name":"complete"},{"type":"Identifier","start":2841,"end":2856,"name":"callerComponent"}],"body":{"type":"BlockStatement","start":2858,"end":3167,"body":[{"type":"VariableDeclaration","start":2868,"end":2992,"kind":"let","declarations":[{"type":"VariableDeclarator","start":2872,"end":2991,"id":{"type":"Identifier","start":2872,"end":2882,"name":"observable"},"init":{"type":"CallExpression","start":2885,"end":2991,"optional":false,"callee":{"type":"MemberExpression","start":2885,"end":2900,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2885,"end":2895,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2885,"end":2889},"property":{"type":"Identifier","start":2890,"end":2895,"name":"state"}},"property":{"type":"Identifier","start":2896,"end":2900,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":2901,"end":2923,"optional":false,"callee":{"type":"Identifier","start":2901,"end":2921,"name":"distinctUntilChanged"},"arguments":[]},{"type":"CallExpression","start":2925,"end":2990,"optional":false,"callee":{"type":"Identifier","start":2925,"end":2931,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":2932,"end":2989,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":2932,"end":2933,"name":"x"}],"body":{"type":"LogicalExpression","start":2937,"end":2989,"operator":"&&","left":{"type":"UnaryExpression","start":2937,"end":2958,"operator":"!","argument":{"type":"CallExpression","start":2938,"end":2958,"optional":false,"callee":{"type":"Identifier","start":2938,"end":2955,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":2956,"end":2957,"name":"x"}]},"prefix":true},"right":{"type":"UnaryExpression","start":2962,"end":2989,"operator":"!","argument":{"type":"MemberExpression","start":2963,"end":2989,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2963,"end":2967},"property":{"type":"Identifier","start":2968,"end":2989,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]}]}}]},{"type":"ReturnStatement","start":3001,"end":3161,"argument":{"type":"CallExpression","start":3008,"end":3160,"optional":false,"callee":{"type":"MemberExpression","start":3008,"end":3032,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3008,"end":3012},"property":{"type":"Identifier","start":3013,"end":3032,"name":"prepareSubscription"}},"arguments":[{"type":"ObjectExpression","start":3033,"end":3159,"properties":[{"type":"Property","start":3047,"end":3057,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3047,"end":3057,"name":"observable"},"value":{"type":"Identifier","start":3047,"end":3057,"name":"observable"},"kind":"init"},{"type":"Property","start":3071,"end":3079,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3071,"end":3079,"name":"observer"},"value":{"type":"Identifier","start":3071,"end":3079,"name":"observer"},"kind":"init"},{"type":"Property","start":3093,"end":3098,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3093,"end":3098,"name":"error"},"value":{"type":"Identifier","start":3093,"end":3098,"name":"error"},"kind":"init"},{"type":"Property","start":3112,"end":3120,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3112,"end":3120,"name":"complete"},"value":{"type":"Identifier","start":3112,"end":3120,"name":"complete"},"kind":"init"},{"type":"Property","start":3134,"end":3149,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3134,"end":3149,"name":"callerComponent"},"value":{"type":"Identifier","start":3134,"end":3149,"name":"callerComponent"},"kind":"init"}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":3172,"end":3493,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":3172,"end":3182,"name":"onFirstSet"},"value":{"type":"FunctionExpression","start":3182,"end":3493,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":3183,"end":3191,"name":"observer"},{"type":"Identifier","start":3193,"end":3198,"name":"error"},{"type":"Identifier","start":3200,"end":3208,"name":"complete"}],"body":{"type":"BlockStatement","start":3210,"end":3493,"body":[{"type":"VariableDeclaration","start":3220,"end":3347,"kind":"const","declarations":[{"type":"VariableDeclarator","start":3226,"end":3346,"id":{"type":"Identifier","start":3226,"end":3236,"name":"observable"},"init":{"type":"CallExpression","start":3239,"end":3346,"optional":false,"callee":{"type":"MemberExpression","start":3239,"end":3254,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3239,"end":3249,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3239,"end":3243},"property":{"type":"Identifier","start":3244,"end":3249,"name":"state"}},"property":{"type":"Identifier","start":3250,"end":3254,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":3255,"end":3336,"optional":false,"callee":{"type":"Identifier","start":3255,"end":3261,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":3262,"end":3335,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":3262,"end":3263,"name":"x"}],"body":{"type":"LogicalExpression","start":3267,"end":3335,"operator":"&&","left":{"type":"LogicalExpression","start":3267,"end":3304,"operator":"&&","left":{"type":"UnaryExpression","start":3267,"end":3288,"operator":"!","argument":{"type":"CallExpression","start":3268,"end":3288,"optional":false,"callee":{"type":"Identifier","start":3268,"end":3285,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":3286,"end":3287,"name":"x"}]},"prefix":true},"right":{"type":"BinaryExpression","start":3292,"end":3304,"operator":">","left":{"type":"MemberExpression","start":3292,"end":3300,"computed":false,"optional":false,"object":{"type":"Identifier","start":3292,"end":3293,"name":"x"},"property":{"type":"Identifier","start":3294,"end":3300,"name":"length"}},"right":{"type":"Literal","start":3303,"end":3304,"raw":"0","value":0}}},"right":{"type":"UnaryExpression","start":3308,"end":3335,"operator":"!","argument":{"type":"MemberExpression","start":3309,"end":3335,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3309,"end":3313},"property":{"type":"Identifier","start":3314,"end":3335,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]},{"type":"CallExpression","start":3338,"end":3345,"optional":false,"callee":{"type":"Identifier","start":3338,"end":3343,"name":"first"},"arguments":[]}]}}]},{"type":"ReturnStatement","start":3356,"end":3487,"argument":{"type":"CallExpression","start":3363,"end":3486,"optional":false,"callee":{"type":"MemberExpression","start":3363,"end":3387,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3363,"end":3367},"property":{"type":"Identifier","start":3368,"end":3387,"name":"prepareSubscription"}},"arguments":[{"type":"ObjectExpression","start":3388,"end":3485,"properties":[{"type":"Property","start":3402,"end":3412,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3402,"end":3412,"name":"observable"},"value":{"type":"Identifier","start":3402,"end":3412,"name":"observable"},"kind":"init"},{"type":"Property","start":3426,"end":3434,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3426,"end":3434,"name":"observer"},"value":{"type":"Identifier","start":3426,"end":3434,"name":"observer"},"kind":"init"},{"type":"Property","start":3448,"end":3453,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3448,"end":3453,"name":"error"},"value":{"type":"Identifier","start":3448,"end":3453,"name":"error"},"kind":"init"},{"type":"Property","start":3467,"end":3475,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3467,"end":3475,"name":"complete"},"value":{"type":"Identifier","start":3467,"end":3475,"name":"complete"},"kind":"init"}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":3498,"end":3846,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":3498,"end":3511,"name":"onFirstChange"},"value":{"type":"FunctionExpression","start":3511,"end":3846,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":3512,"end":3520,"name":"observer"},{"type":"Identifier","start":3522,"end":3527,"name":"error"},{"type":"Identifier","start":3529,"end":3537,"name":"complete"}],"body":{"type":"BlockStatement","start":3539,"end":3846,"body":[{"type":"VariableDeclaration","start":3549,"end":3700,"kind":"const","declarations":[{"type":"VariableDeclarator","start":3555,"end":3699,"id":{"type":"Identifier","start":3555,"end":3565,"name":"observable"},"init":{"type":"CallExpression","start":3568,"end":3699,"optional":false,"callee":{"type":"MemberExpression","start":3568,"end":3583,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3568,"end":3578,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3568,"end":3572},"property":{"type":"Identifier","start":3573,"end":3578,"name":"state"}},"property":{"type":"Identifier","start":3579,"end":3583,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":3584,"end":3606,"optional":false,"callee":{"type":"Identifier","start":3584,"end":3604,"name":"distinctUntilChanged"},"arguments":[]},{"type":"CallExpression","start":3608,"end":3689,"optional":false,"callee":{"type":"Identifier","start":3608,"end":3614,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":3615,"end":3688,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":3615,"end":3616,"name":"x"}],"body":{"type":"LogicalExpression","start":3620,"end":3688,"operator":"&&","left":{"type":"LogicalExpression","start":3620,"end":3657,"operator":"&&","left":{"type":"UnaryExpression","start":3620,"end":3641,"operator":"!","argument":{"type":"CallExpression","start":3621,"end":3641,"optional":false,"callee":{"type":"Identifier","start":3621,"end":3638,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":3639,"end":3640,"name":"x"}]},"prefix":true},"right":{"type":"BinaryExpression","start":3645,"end":3657,"operator":">","left":{"type":"MemberExpression","start":3645,"end":3653,"computed":false,"optional":false,"object":{"type":"Identifier","start":3645,"end":3646,"name":"x"},"property":{"type":"Identifier","start":3647,"end":3653,"name":"length"}},"right":{"type":"Literal","start":3656,"end":3657,"raw":"0","value":0}}},"right":{"type":"UnaryExpression","start":3661,"end":3688,"operator":"!","argument":{"type":"MemberExpression","start":3662,"end":3688,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3662,"end":3666},"property":{"type":"Identifier","start":3667,"end":3688,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]},{"type":"CallExpression","start":3691,"end":3698,"optional":false,"callee":{"type":"Identifier","start":3691,"end":3696,"name":"first"},"arguments":[]}]}}]},{"type":"ReturnStatement","start":3709,"end":3840,"argument":{"type":"CallExpression","start":3716,"end":3839,"optional":false,"callee":{"type":"MemberExpression","start":3716,"end":3740,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3716,"end":3720},"property":{"type":"Identifier","start":3721,"end":3740,"name":"prepareSubscription"}},"arguments":[{"type":"ObjectExpression","start":3741,"end":3838,"properties":[{"type":"Property","start":3755,"end":3765,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3755,"end":3765,"name":"observable"},"value":{"type":"Identifier","start":3755,"end":3765,"name":"observable"},"kind":"init"},{"type":"Property","start":3779,"end":3787,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3779,"end":3787,"name":"observer"},"value":{"type":"Identifier","start":3779,"end":3787,"name":"observer"},"kind":"init"},{"type":"Property","start":3801,"end":3806,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3801,"end":3806,"name":"error"},"value":{"type":"Identifier","start":3801,"end":3806,"name":"error"},"kind":"init"},{"type":"Property","start":3820,"end":3828,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3820,"end":3828,"name":"complete"},"value":{"type":"Identifier","start":3820,"end":3828,"name":"complete"},"kind":"init"}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":3851,"end":4205,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":3851,"end":3866,"name":"onFromSecondSet"},"value":{"type":"FunctionExpression","start":3866,"end":4205,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":3867,"end":3875,"name":"observer"},{"type":"Identifier","start":3877,"end":3882,"name":"error"},{"type":"Identifier","start":3884,"end":3892,"name":"complete"},{"type":"Identifier","start":3894,"end":3909,"name":"callerComponent"}],"body":{"type":"BlockStatement","start":3911,"end":4205,"body":[{"type":"VariableDeclaration","start":3921,"end":4030,"kind":"let","declarations":[{"type":"VariableDeclarator","start":3925,"end":4029,"id":{"type":"Identifier","start":3925,"end":3935,"name":"observable"},"init":{"type":"CallExpression","start":3938,"end":4029,"optional":false,"callee":{"type":"MemberExpression","start":3938,"end":3953,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3938,"end":3948,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3938,"end":3942},"property":{"type":"Identifier","start":3943,"end":3948,"name":"state"}},"property":{"type":"Identifier","start":3949,"end":3953,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":3954,"end":4019,"optional":false,"callee":{"type":"Identifier","start":3954,"end":3960,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":3961,"end":4018,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":3961,"end":3962,"name":"x"}],"body":{"type":"LogicalExpression","start":3966,"end":4018,"operator":"&&","left":{"type":"UnaryExpression","start":3966,"end":3987,"operator":"!","argument":{"type":"CallExpression","start":3967,"end":3987,"optional":false,"callee":{"type":"Identifier","start":3967,"end":3984,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":3985,"end":3986,"name":"x"}]},"prefix":true},"right":{"type":"UnaryExpression","start":3991,"end":4018,"operator":"!","argument":{"type":"MemberExpression","start":3992,"end":4018,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3992,"end":3996},"property":{"type":"Identifier","start":3997,"end":4018,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]},{"type":"CallExpression","start":4021,"end":4028,"optional":false,"callee":{"type":"Identifier","start":4021,"end":4025,"name":"skip"},"arguments":[{"type":"Literal","start":4026,"end":4027,"raw":"1","value":1}]}]}}]},{"type":"ReturnStatement","start":4039,"end":4199,"argument":{"type":"CallExpression","start":4046,"end":4198,"optional":false,"callee":{"type":"MemberExpression","start":4046,"end":4070,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4046,"end":4050},"property":{"type":"Identifier","start":4051,"end":4070,"name":"prepareSubscription"}},"arguments":[{"type":"ObjectExpression","start":4071,"end":4197,"properties":[{"type":"Property","start":4085,"end":4095,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4085,"end":4095,"name":"observable"},"value":{"type":"Identifier","start":4085,"end":4095,"name":"observable"},"kind":"init"},{"type":"Property","start":4109,"end":4117,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4109,"end":4117,"name":"observer"},"value":{"type":"Identifier","start":4109,"end":4117,"name":"observer"},"kind":"init"},{"type":"Property","start":4131,"end":4136,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4131,"end":4136,"name":"error"},"value":{"type":"Identifier","start":4131,"end":4136,"name":"error"},"kind":"init"},{"type":"Property","start":4150,"end":4158,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4150,"end":4158,"name":"complete"},"value":{"type":"Identifier","start":4150,"end":4158,"name":"complete"},"kind":"init"},{"type":"Property","start":4172,"end":4187,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4172,"end":4187,"name":"callerComponent"},"value":{"type":"Identifier","start":4172,"end":4187,"name":"callerComponent"},"kind":"init"}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":4210,"end":4591,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":4210,"end":4228,"name":"onFromSecondChange"},"value":{"type":"FunctionExpression","start":4228,"end":4591,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":4229,"end":4237,"name":"observer"},{"type":"Identifier","start":4239,"end":4244,"name":"error"},{"type":"Identifier","start":4246,"end":4254,"name":"complete"},{"type":"Identifier","start":4256,"end":4271,"name":"callerComponent"}],"body":{"type":"BlockStatement","start":4273,"end":4591,"body":[{"type":"VariableDeclaration","start":4283,"end":4416,"kind":"let","declarations":[{"type":"VariableDeclarator","start":4287,"end":4415,"id":{"type":"Identifier","start":4287,"end":4297,"name":"observable"},"init":{"type":"CallExpression","start":4300,"end":4415,"optional":false,"callee":{"type":"MemberExpression","start":4300,"end":4315,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4300,"end":4310,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4300,"end":4304},"property":{"type":"Identifier","start":4305,"end":4310,"name":"state"}},"property":{"type":"Identifier","start":4311,"end":4315,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":4316,"end":4338,"optional":false,"callee":{"type":"Identifier","start":4316,"end":4336,"name":"distinctUntilChanged"},"arguments":[]},{"type":"CallExpression","start":4340,"end":4405,"optional":false,"callee":{"type":"Identifier","start":4340,"end":4346,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":4347,"end":4404,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":4347,"end":4348,"name":"x"}],"body":{"type":"LogicalExpression","start":4352,"end":4404,"operator":"&&","left":{"type":"UnaryExpression","start":4352,"end":4373,"operator":"!","argument":{"type":"CallExpression","start":4353,"end":4373,"optional":false,"callee":{"type":"Identifier","start":4353,"end":4370,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":4371,"end":4372,"name":"x"}]},"prefix":true},"right":{"type":"UnaryExpression","start":4377,"end":4404,"operator":"!","argument":{"type":"MemberExpression","start":4378,"end":4404,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4378,"end":4382},"property":{"type":"Identifier","start":4383,"end":4404,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]},{"type":"CallExpression","start":4407,"end":4414,"optional":false,"callee":{"type":"Identifier","start":4407,"end":4411,"name":"skip"},"arguments":[{"type":"Literal","start":4412,"end":4413,"raw":"1","value":1}]}]}}]},{"type":"ReturnStatement","start":4425,"end":4585,"argument":{"type":"CallExpression","start":4432,"end":4584,"optional":false,"callee":{"type":"MemberExpression","start":4432,"end":4456,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4432,"end":4436},"property":{"type":"Identifier","start":4437,"end":4456,"name":"prepareSubscription"}},"arguments":[{"type":"ObjectExpression","start":4457,"end":4583,"properties":[{"type":"Property","start":4471,"end":4481,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4471,"end":4481,"name":"observable"},"value":{"type":"Identifier","start":4471,"end":4481,"name":"observable"},"kind":"init"},{"type":"Property","start":4495,"end":4503,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4495,"end":4503,"name":"observer"},"value":{"type":"Identifier","start":4495,"end":4503,"name":"observer"},"kind":"init"},{"type":"Property","start":4517,"end":4522,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4517,"end":4522,"name":"error"},"value":{"type":"Identifier","start":4517,"end":4522,"name":"error"},"kind":"init"},{"type":"Property","start":4536,"end":4544,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4536,"end":4544,"name":"complete"},"value":{"type":"Identifier","start":4536,"end":4544,"name":"complete"},"kind":"init"},{"type":"Property","start":4558,"end":4573,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4558,"end":4573,"name":"callerComponent"},"value":{"type":"Identifier","start":4558,"end":4573,"name":"callerComponent"},"kind":"init"}]}]}}]},"expression":false},"kind":"method"}]}}}],"_rollupRemoved":[{"end":21608,"start":4594,"type":"sourcemap"}],"sourceType":"module"},"attributes":{},"code":"import { BehaviorSubject } from \"rxjs\";\nimport { distinctUntilChanged, filter, first, map, skip } from \"rxjs/operators\";\nimport { isNullOrUndefined } from \"../helpers/type.helper\";\nimport { BaseState } from \"./base-state\";\nexport class ArrayState extends BaseState {\n    subject;\n    get state() {\n        return this.subject.asObservable();\n    }\n    get value() {\n        return this.subject.getValue();\n    }\n    get length() {\n        return this.value.length;\n    }\n    includes(value) {\n        return this.value.includes(value);\n    }\n    hasItem(item, exactMatch = true) {\n        return this.state.pipe(map(record => {\n            if (typeof item === 'string' && !exactMatch) {\n                return record.some(i => i.includes(item));\n            }\n            else {\n                return record.includes(item);\n            }\n        }), distinctUntilChanged());\n    }\n    constructor(initialValue) {\n        super();\n        this.subject = new BehaviorSubject(initialValue ?? []);\n    }\n    set(value, bypassChangeDetection = false) {\n        this.bypassChangeDetection = bypassChangeDetection;\n        this.subject.next(value);\n        return this.state;\n    }\n    stateOfItem(predicate) {\n        return this.state.pipe(map(items => items.find(predicate)), filter((item) => item !== undefined), first());\n    }\n    stateOfItems(predicate) {\n        return this.state.pipe(map(items => items.filter(predicate)), distinctUntilChanged((prev, curr) => JSON.stringify(prev) === JSON.stringify(curr)));\n    }\n    getFirstItem(predicate) {\n        return this.value.find(predicate);\n    }\n    getItems(predicate) {\n        return this.value.filter(predicate);\n    }\n    add(value, unique, bypassChangeDetection = false) {\n        this.bypassChangeDetection = bypassChangeDetection;\n        const newSet = { ...this.value };\n        const isUnique = unique ?? true;\n        if ((isUnique && !newSet.includes(value)) ||\n            !isUnique) {\n            newSet.push(value);\n            this.set(newSet);\n        }\n    }\n    update(value, bypassChangeDetection = false) {\n        this.bypassChangeDetection = bypassChangeDetection;\n        const newSet = { ...this.value };\n        this.set(newSet.map(x => (x !== value) ? x : value));\n    }\n    remove(value, bypassChangeDetection = false) {\n        this.bypassChangeDetection = bypassChangeDetection;\n        const newSet = { ...this.value };\n        this.set(newSet.filter(x => x !== value));\n    }\n    onSet(observer, error, complete, callerComponent) {\n        let observable = this.state.pipe(filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    onChange(observer, error, complete, callerComponent) {\n        let observable = this.state.pipe(distinctUntilChanged(), filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    onFirstSet(observer, error, complete) {\n        const observable = this.state.pipe(filter(x => !isNullOrUndefined(x) && x.length > 0 && !this.bypassChangeDetection), first());\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete\n        });\n    }\n    onFirstChange(observer, error, complete) {\n        const observable = this.state.pipe(distinctUntilChanged(), filter(x => !isNullOrUndefined(x) && x.length > 0 && !this.bypassChangeDetection), first());\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete\n        });\n    }\n    onFromSecondSet(observer, error, complete, callerComponent) {\n        let observable = this.state.pipe(filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection), skip(1));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    onFromSecondChange(observer, error, complete, callerComponent) {\n        let observable = this.state.pipe(distinctUntilChanged(), filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection), skip(1));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXJyYXktc3RhdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtc3RhdGVzL3NyYy9saWIvc3RhdGVzL2FycmF5LXN0YXRlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxlQUFlLEVBQTZDLE1BQU0sTUFBTSxDQUFDO0FBQ2xGLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNoRixPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUMzRCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBRXpDLE1BQU0sT0FBTyxVQUFjLFNBQVEsU0FBUztJQUNoQyxPQUFPLENBQXVCO0lBRXhDLElBQVcsS0FBSztRQUNkLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUNyQyxDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ2QsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQ2pDLENBQUM7SUFFRCxJQUFXLE1BQU07UUFDZixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDO0lBQzNCLENBQUM7SUFFTSxRQUFRLENBQUMsS0FBUTtRQUN0QixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFFTSxPQUFPLENBQUMsSUFBTyxFQUFFLFVBQVUsR0FBRyxJQUFJO1FBQ3ZDLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQ3BCLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUNYLElBQUksT0FBTyxJQUFJLEtBQUssUUFBUSxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7Z0JBQzVDLE9BQU8sTUFBTSxDQUFDLElBQUks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SUFBSSxDQUFDLHFCQUFxQixDQUFDLEVBQ2pFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FDUixDQUFDO1FBRUYsT0FBTyxJQUFJLENBQUMsbUJBQW1CLENBQUM7WUFDOUIsVUFBVTtZQUNWLFFBQVE7WUFDUixLQUFLO1lBQ0wsUUFBUTtZQUNSLGVBQWU7U0FDaEIsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQXFCTSxrQkFBa0IsQ0FBQyxRQUF3RCxFQUFFLEtBQTRCLEVBQUUsUUFBcUIsRUFBRSxlQUF3QjtRQUMvSixJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FDOUIsb0JBQW9CLEVBQUUsRUFDdEIsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxFQUNqRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQ1IsQ0FBQztRQUVGLE9BQU8sSUFBSSxDQUFDLG1CQUFtQixDQUFDO1lBQzlCLFVBQVU7WUFDVixRQUFRO1lBQ1IsS0FBSztZQUNMLFFBQVE7WUFDUixlQUFlO1NBQ2hCLENBQUMsQ0FBQztJQUNMLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgT2JzZXJ2YWJsZSwgUGFydGlhbE9ic2VydmVyLCBTdWJzY3JpcHRpb24gfSBmcm9tIFwicnhqc1wiO1xuaW1wb3J0IHsgZGlzdGluY3RVbnRpbENoYW5nZWQsIGZpbHRlciwgZmlyc3QsIG1hcCwgc2tpcCB9IGZyb20gXCJyeGpzL29wZXJhdG9yc1wiO1xuaW1wb3J0IHsgaXNOdWxsT3JVbmRlZmluZWQgfSBmcm9tIFwiLi4vaGVscGVycy90eXBlLmhlbHBlclwiO1xuaW1wb3J0IHsgQmFzZVN0YXRlIH0gZnJvbSBcIi4vYmFzZS1zdGF0ZVwiO1xuXG5leHBvcnQgY2xhc3MgQXJyYXlTdGF0ZTxUPiBleHRlbmRzIEJhc2VTdGF0ZSB7XG4gIHByb3RlY3RlZCBzdWJqZWN0OiBCZWhhdmlvclN1YmplY3Q8VFtdPjtcblxuICBwdWJsaWMgZ2V0IHN0YXRlKCk6IE9ic2VydmFibGU8VFtdPiB7XG4gICAgcmV0dXJuIHRoaXMuc3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgdmFsdWUoKTogVFtdIHtcbiAgICByZXR1cm4gdGhpcy5zdWJqZWN0LmdldFZhbHVlKCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0IGxlbmd0aCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnZhbHVlLmxlbmd0aDtcbiAgfVxuXG4gIHB1YmxpYyBpbmNsdWRlcyh2YWx1ZTogVCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnZhbHVlLmluY2x1ZGVzKHZhbHVlKTtcbiAgfVxuXG4gIHB1YmxpYyBoYXNJdGVtKGl0ZW06IFQsIGV4YWN0TWF0Y2ggPSB0cnVlKTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUucGlwZShcbiAgICAgIG1hcChyZWNvcmQgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnICYmICFleGFjdE1hdGNoKSB7XG4gICAgICAgICAgcmV0dXJuIHJlY29yZC5zb21lKGkgPT4gKGkgYXMgdW5rbm93biBhcyBzdHJpbmcpLmluY2x1ZGVzKGl0ZW0pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gcmVjb3JkLmluY2x1ZGVzKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKClcbiAgICApO1xuICB9XG5cbiAgY29uc3RydWN0b3IoaW5pdGlhbFZhbHVlPzogVFtdKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFRbXT4oaW5pdGlhbFZhbHVlID8/IFtdKTtcbiAgfVxuXG4gIHB1YmxpYyBzZXQodmFsdWU6IFRbXSwgYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uID0gZmFsc2UpOiBPYnNlcnZhYmxlPFRbXT4ge1xuICAgIHRoaXMuYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uID0gYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uO1xuICAgIHRoaXMuc3ViamVjdC5uZXh0KHZhbHVlKTtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0ZU9mSXRlbShwcmVkaWNhdGU6IChpdGVtOiBUKSA9PiBib29sZWFuKTogT2JzZXJ2YWJsZTxUPiB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUucGlwZShcbiAgICAgIG1hcChpdGVtcyA9PiBpdGVtcy5maW5kKHByZWRpY2F0ZSkpLFxuICAgICAgZmlsdGVyKChpdGVtKTogaXRlbSBpcyBUID0+IGl0ZW0gIT09IHVuZGVmaW5lZCksXG4gICAgICBmaXJzdCgpKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0ZU9mSXRlbXMocHJlZGljYXRlOiAoaXRlbTogVCkgPT4gYm9vbGVhbik6IE9ic2VydmFibGU8VFtdPiB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUucGlwZShtYXAoaXRlbXMgPT4gaXRlbXMuZmlsdGVyKHByZWRpY2F0ZSkpLFxuICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKHByZXYsIGN1cnIpID0+IEpTT04uc3RyaW5naWZ5KHByZXYpID09PSBKU09OLnN0cmluZ2lmeShjdXJyKSlcbiAgICApO1xuICB9XG5cbiAgcHVibGljIGdldEZpcnN0SXRlbShwcmVkaWNhdGU6IChpdGVtOiBUKSA9PiBib29sZWFuKTogVCB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWUuZmluZChwcmVkaWNhdGUpO1xuICB9XG5cbiAgcHVibGljIGdldEl0ZW1zKHByZWRpY2F0ZTogKGl0ZW06IFQpID0+IGJvb2xlYW4pOiBUW10ge1xuICAgIHJldHVybiB0aGlzLnZhbHVlLmZpbHRlcihwcmVkaWNhdGUpO1xuICB9XG5cbiAgcHVibGljIGFkZCh2YWx1ZTogVCwgdW5pcXVlPzogYm9vbGVhbiwgYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uID0gZmFsc2UpOiB2b2lkIHtcbiAgICB0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvbiA9IGJ5cGFzc0NoYW5nZURldGVjdGlvbjtcbiAgICBjb25zdCBuZXdTZXQgPSB7Li4udGhpcy52YWx1ZX07XG4gICAgY29uc3QgaXNVbmlxdWUgPSB1bmlxdWUgPz8gdHJ1ZTtcbiAgICBpZiAoKGlzVW5pcXVlICYmICFuZXdTZXQuaW5jbHVkZXModmFsdWUpKSB8fFxuICAgICAgICAhaXNVbmlxdWUpIHtcbiAgICAgICAgbmV3U2V0LnB1c2godmFsdWUpO1xuICAgICAgICB0aGlzLnNldChuZXdTZXQpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGUodmFsdWU6IFQsIGJ5cGFzc0NoYW5nZURldGVjdGlvbiA9IGZhbHNlKTogdm9pZCB7XG4gICAgdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBieXBhc3NDaGFuZ2VEZXRlY3Rpb247XG4gICAgY29uc3QgbmV3U2V0ID0gey4uLnRoaXMudmFsdWV9O1xuICAgIHRoaXMuc2V0KG5ld1NldC5tYXAoeCA9PiAoeCAhPT0gdmFsdWUpID8geCA6IHZhbHVlKSk7XG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlKHZhbHVlOiBULCBieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBmYWxzZSk6IHZvaWQge1xuICAgIHRoaXMuYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uID0gYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uO1xuICAgIGNvbnN0IG5ld1NldCA9IHsuLi50aGlzLnZhbHVlfTtcbiAgICB0aGlzLnNldChuZXdTZXQuZmlsdGVyKHggPT4geCAhPT0gdmFsdWUpKTtcbiAgfVxuXG4gIHB1YmxpYyBvblNldChcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFRbXT4sXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvblNldChcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBUW10pID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvblNldChcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBUW10pID0+IHZvaWQsXG4gICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uU2V0KFxuICAgIG9ic2VydmVyOiAodmFsdWU6IFRbXSkgPT4gdm9pZCxcbiAgICBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLFxuICAgIGNvbXBsZXRlPzogKCkgPT4gdm9pZCxcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uU2V0KG9ic2VydmVyPzogKCh2YWx1ZTogVFtdKSA9PiB2b2lkKSB8IFBhcnRpYWxPYnNlcnZlcjxUW10+LCBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLCBjb21wbGV0ZT86ICgpID0+IHZvaWQsIGNhbGxlckNvbXBvbmVudD86IG9iamVjdCk6IFN1YnNjcmlwdGlvbiB7XG4gICAgbGV0IG9ic2VydmFibGUgPSB0aGlzLnN0YXRlLnBpcGUoXG4gICAgICBmaWx0ZXIoeCA9PiAhaXNOdWxsT3JVbmRlZmluZWQoeCkgJiYgIXRoaXMuYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uKVxuICAgICk7XG5cbiAgICByZXR1cm4gdGhpcy5wcmVwYXJlU3Vic2NyaXB0aW9uKHtcbiAgICAgIG9ic2VydmFibGUsXG4gICAgICBvYnNlcnZlcixcbiAgICAgIGVycm9yLFxuICAgICAgY29tcGxldGUsXG4gICAgICBjYWxsZXJDb21wb25lbnRcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBvbkNoYW5nZShcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFRbXT4sXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvbkNoYW5nZShcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBUW10pID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvbkNoYW5nZShcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBUW10pID0+IHZvaWQsXG4gICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uQ2hhbmdlKFxuICAgIG9ic2VydmVyOiBQYXJ0aWFsT2JzZXJ2ZXI8VFtdPixcbiAgICBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLFxuICAgIGNvbXBsZXRlPzogKCkgPT4gdm9pZCxcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uQ2hhbmdlKG9ic2VydmVyPzogKCh2YWx1ZTogVFtdKSA9PiB2b2lkKSB8IFBhcnRpYWxPYnNlcnZlcjxUW10+LCBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLCBjb21wbGV0ZT86ICgpID0+IHZvaWQsIGNhbGxlckNvbXBvbmVudD86IG9iamVjdCk6IFN1YnNjcmlwdGlvbiB7XG4gICAgbGV0IG9ic2VydmFibGUgPSB0aGlzLnN0YXRlLnBpcGUoXG4gICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLFxuICAgICAgZmlsdGVyKHggPT4gIWlzTnVsbE9yVW5kZWZpbmVkKHgpICYmICF0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvbikpO1xuXG4gICAgcmV0dXJuIHRoaXMucHJlcGFyZVN1YnNjcmlwdGlvbih7XG4gICAgICBvYnNlcnZhYmxlLFxuICAgICAgb2JzZXJ2ZXIsXG4gICAgICBlcnJvcixcbiAgICAgIGNvbXBsZXRlLFxuICAgICAgY2FsbGVyQ29tcG9uZW50XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgb25GaXJzdFNldChvYnNlcnZlcj86ICgodmFsdWU6IFRbXSkgPT4gdm9pZCkgfCBQYXJ0aWFsT2JzZXJ2ZXI8VFtdPiwgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCwgY29tcGxldGU/OiAoKSA9PiB2b2lkKTogU3Vic2NyaXB0aW9uIHtcbiAgICBjb25zdCBvYnNlcnZhYmxlID0gdGhpcy5zdGF0ZS5waXBlKFxuICAgICAgZmlsdGVyKHggPT4gIWlzTnVsbE9yVW5kZWZpbmVkKHgpICYmIHgubGVuZ3RoID4gMCAmJiAhdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24pLFxuICAgICAgZmlyc3QoKVxuICAgICk7XG5cbiAgICByZXR1cm4gdGhpcy5wcmVwYXJlU3Vic2NyaXB0aW9uKHtcbiAgICAgIG9ic2VydmFibGUsXG4gICAgICBvYnNlcnZlcixcbiAgICAgIGVycm9yLFxuICAgICAgY29tcGxldGVcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBvbkZpcnN0Q2hhbmdlKG9ic2VydmVyPzogKCh2YWx1ZTogVFtdKSA9PiB2b2lkKSB8IFBhcnRpYWxPYnNlcnZlcjxUW10+LCBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLCBjb21wbGV0ZT86ICgpID0+IHZvaWQpOiBTdWJzY3JpcHRpb24ge1xuICAgIGNvbnN0IG9ic2VydmFibGUgPSB0aGlzLnN0YXRlLnBpcGUoXG4gICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLFxuICAgICAgZmlsdGVyKHggPT4gIWlzTnVsbE9yVW5kZWZpbmVkKHgpICYmIHgubGVuZ3RoID4gMCAmJiAhdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24pLFxuICAgICAgZmlyc3QoKVxuICAgICk7XG5cbiAgICByZXR1cm4gdGhpcy5wcmVwYXJlU3Vic2NyaXB0aW9uKHtcbiAgICAgIG9ic2VydmFibGUsXG4gICAgICBvYnNlcnZlcixcbiAgICAgIGVycm9yLFxuICAgICAgY29tcGxldGVcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBvbkZyb21TZWNvbmRTZXQoXG4gICAgb2JzZXJ2ZXI6IFBhcnRpYWxPYnNlcnZlcjxUW10+LFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25Gcm9tU2Vjb25kU2V0KFxuICAgIG9ic2VydmVyOiAodmFsdWU6IFRbXSkgPT4gdm9pZCxcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uRnJvbVNlY29uZFNldChcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFRbXT4sXG4gICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uRnJvbVNlY29uZFNldChcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFRbXT4sXG4gICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICBjb21wbGV0ZT86ICgpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvbkZyb21TZWNvbmRTZXQob2JzZXJ2ZXI/OiAoKHZhbHVlOiBUW10pID0+IHZvaWQpIHwgUGFydGlhbE9ic2VydmVyPFRbXT4sIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsIGNvbXBsZXRlPzogKCkgPT4gdm9pZCwgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0KTogU3Vic2NyaXB0aW9uIHtcbiAgICBsZXQgb2JzZXJ2YWJsZSA9IHRoaXMuc3RhdGUucGlwZShcbiAgICAgIGZpbHRlcih4ID0+ICFpc051bGxPclVuZGVmaW5lZCh4KSAmJiAhdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24pLFxuICAgICAgc2tpcCgxKVxuICAgICk7XG5cbiAgICByZXR1cm4gdGhpcy5wcmVwYXJlU3Vic2NyaXB0aW9uKHtcbiAgICAgIG9ic2VydmFibGUsXG4gICAgICBvYnNlcnZlcixcbiAgICAgIGVycm9yLFxuICAgICAgY29tcGxldGUsXG4gICAgICBjYWxsZXJDb21wb25lbnRcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBvbkZyb21TZWNvbmRDaGFuZ2UoXG4gICAgb2JzZXJ2ZXI6IFBhcnRpYWxPYnNlcnZlcjxUW10+LFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25Gcm9tU2Vjb25kQ2hhbmdlKFxuICAgIG9ic2VydmVyOiAodmFsdWU6IFRbXSkgPT4gdm9pZCxcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uRnJvbVNlY29uZENoYW5nZShcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFRbXT4sXG4gICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uRnJvbVNlY29uZENoYW5nZShcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFRbXT4sXG4gICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICBjb21wbGV0ZT86ICgpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvbkZyb21TZWNvbmRDaGFuZ2Uob2JzZXJ2ZXI/OiAoKHZhbHVlOiBUW10pID0+IHZvaWQpIHwgUGFydGlhbE9ic2VydmVyPFRbXT4sIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsIGNvbXBsZXRlPzogKCkgPT4gdm9pZCwgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0KTogU3Vic2NyaXB0aW9uIHtcbiAgICBsZXQgb2JzZXJ2YWJsZSA9IHRoaXMuc3RhdGUucGlwZShcbiAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKCksXG4gICAgICBmaWx0ZXIoeCA9PiAhaXNOdWxsT3JVbmRlZmluZWQoeCkgJiYgIXRoaXMuYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uKSxcbiAgICAgIHNraXAoMSlcbiAgICApO1xuXG4gICAgcmV0dXJuIHRoaXMucHJlcGFyZVN1YnNjcmlwdGlvbih7XG4gICAgICBvYnNlcnZhYmxlLFxuICAgICAgb2JzZXJ2ZXIsXG4gICAgICBlcnJvcixcbiAgICAgIGNvbXBsZXRlLFxuICAgICAgY2FsbGVyQ29tcG9uZW50XG4gICAgfSk7XG4gIH1cbn1cbiJdfQ==","customTransformCache":false,"dependencies":["rxjs","rxjs/operators","/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/helpers/type.helper.mjs","/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/states/base-state.mjs"],"id":"/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/states/array-state.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { BehaviorSubject } from \"rxjs\";\nimport { distinctUntilChanged, filter, first, map, skip } from \"rxjs/operators\";\nimport { isNullOrUndefined } from \"../helpers/type.helper\";\nimport { BaseState } from \"./base-state\";\nexport class ArrayState extends BaseState {\n    subject;\n    get state() {\n        return this.subject.asObservable();\n    }\n    get value() {\n        return this.subject.getValue();\n    }\n    get length() {\n        return this.value.length;\n    }\n    includes(value) {\n        return this.value.includes(value);\n    }\n    hasItem(item, exactMatch = true) {\n        return this.state.pipe(map(record => {\n            if (typeof item === 'string' && !exactMatch) {\n                return record.some(i => i.includes(item));\n            }\n            else {\n                return record.includes(item);\n            }\n        }), distinctUntilChanged());\n    }\n    constructor(initialValue) {\n        super();\n        this.subject = new BehaviorSubject(initialValue ?? []);\n    }\n    set(value, bypassChangeDetection = false) {\n        this.bypassChangeDetection = bypassChangeDetection;\n        this.subject.next(value);\n        return this.state;\n    }\n    stateOfItem(predicate) {\n        return this.state.pipe(map(items => items.find(predicate)), filter((item) => item !== undefined), first());\n    }\n    stateOfItems(predicate) {\n        return this.state.pipe(map(items => items.filter(predicate)), distinctUntilChanged((prev, curr) => JSON.stringify(prev) === JSON.stringify(curr)));\n    }\n    getFirstItem(predicate) {\n        return this.value.find(predicate);\n    }\n    getItems(predicate) {\n        return this.value.filter(predicate);\n    }\n    add(value, unique, bypassChangeDetection = false) {\n        this.bypassChangeDetection = bypassChangeDetection;\n        const newSet = { ...this.value };\n        const isUnique = unique ?? true;\n        if ((isUnique && !newSet.includes(value)) ||\n            !isUnique) {\n            newSet.push(value);\n            this.set(newSet);\n        }\n    }\n    update(value, bypassChangeDetection = false) {\n        this.bypassChangeDetection = bypassChangeDetection;\n        const newSet = { ...this.value };\n        this.set(newSet.map(x => (x !== value) ? x : value));\n    }\n    remove(value, bypassChangeDetection = false) {\n        this.bypassChangeDetection = bypassChangeDetection;\n        const newSet = { ...this.value };\n        this.set(newSet.filter(x => x !== value));\n    }\n    onSet(observer, error, complete, callerComponent) {\n        let observable = this.state.pipe(filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    onChange(observer, error, complete, callerComponent) {\n        let observable = this.state.pipe(distinctUntilChanged(), filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    onFirstSet(observer, error, complete) {\n        const observable = this.state.pipe(filter(x => !isNullOrUndefined(x) && x.length > 0 && !this.bypassChangeDetection), first());\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete\n        });\n    }\n    onFirstChange(observer, error, complete) {\n        const observable = this.state.pipe(distinctUntilChanged(), filter(x => !isNullOrUndefined(x) && x.length > 0 && !this.bypassChangeDetection), first());\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete\n        });\n    }\n    onFromSecondSet(observer, error, complete, callerComponent) {\n        let observable = this.state.pipe(filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection), skip(1));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    onFromSecondChange(observer, error, complete, callerComponent) {\n        let observable = this.state.pipe(distinctUntilChanged(), filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection), skip(1));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXJyYXktc3RhdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtc3RhdGVzL3NyYy9saWIvc3RhdGVzL2FycmF5LXN0YXRlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxlQUFlLEVBQTZDLE1BQU0sTUFBTSxDQUFDO0FBQ2xGLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNoRixPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUMzRCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBRXpDLE1BQU0sT0FBTyxVQUFjLFNBQVEsU0FBUztJQUNoQyxPQUFPLENBQXVCO0lBRXhDLElBQVcsS0FBSztRQUNkLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUNyQyxDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ2QsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQ2pDLENBQUM7SUFFRCxJQUFXLE1BQU07UUFDZixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDO0lBQzNCLENBQUM7SUFFTSxRQUFRLENBQUMsS0FBUTtRQUN0QixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFFTSxPQUFPLENBQUMsSUFBTyxFQUFFLFVBQVUsR0FBRyxJQUFJO1FBQ3ZDLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQ3BCLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUNYLElBQUksT0FBTyxJQUFJLEtBQUssUUFBUSxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7Z0JBQzVDLE9BQU8sTUFBTSxDQUFDLElBQUks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SUFBSSxDQUFDLHFCQUFxQixDQUFDLEVBQ2pFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FDUixDQUFDO1FBRUYsT0FBTyxJQUFJLENBQUMsbUJBQW1CLENBQUM7WUFDOUIsVUFBVTtZQUNWLFFBQVE7WUFDUixLQUFLO1lBQ0wsUUFBUTtZQUNSLGVBQWU7U0FDaEIsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQXFCTSxrQkFBa0IsQ0FBQyxRQUF3RCxFQUFFLEtBQTRCLEVBQUUsUUFBcUIsRUFBRSxlQUF3QjtRQUMvSixJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FDOUIsb0JBQW9CLEVBQUUsRUFDdEIsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxFQUNqRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQ1IsQ0FBQztRQUVGLE9BQU8sSUFBSSxDQUFDLG1CQUFtQixDQUFDO1lBQzlCLFVBQVU7WUFDVixRQUFRO1lBQ1IsS0FBSztZQUNMLFFBQVE7WUFDUixlQUFlO1NBQ2hCLENBQUMsQ0FBQztJQUNMLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgT2JzZXJ2YWJsZSwgUGFydGlhbE9ic2VydmVyLCBTdWJzY3JpcHRpb24gfSBmcm9tIFwicnhqc1wiO1xuaW1wb3J0IHsgZGlzdGluY3RVbnRpbENoYW5nZWQsIGZpbHRlciwgZmlyc3QsIG1hcCwgc2tpcCB9IGZyb20gXCJyeGpzL29wZXJhdG9yc1wiO1xuaW1wb3J0IHsgaXNOdWxsT3JVbmRlZmluZWQgfSBmcm9tIFwiLi4vaGVscGVycy90eXBlLmhlbHBlclwiO1xuaW1wb3J0IHsgQmFzZVN0YXRlIH0gZnJvbSBcIi4vYmFzZS1zdGF0ZVwiO1xuXG5leHBvcnQgY2xhc3MgQXJyYXlTdGF0ZTxUPiBleHRlbmRzIEJhc2VTdGF0ZSB7XG4gIHByb3RlY3RlZCBzdWJqZWN0OiBCZWhhdmlvclN1YmplY3Q8VFtdPjtcblxuICBwdWJsaWMgZ2V0IHN0YXRlKCk6IE9ic2VydmFibGU8VFtdPiB7XG4gICAgcmV0dXJuIHRoaXMuc3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgdmFsdWUoKTogVFtdIHtcbiAgICByZXR1cm4gdGhpcy5zdWJqZWN0LmdldFZhbHVlKCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0IGxlbmd0aCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnZhbHVlLmxlbmd0aDtcbiAgfVxuXG4gIHB1YmxpYyBpbmNsdWRlcyh2YWx1ZTogVCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnZhbHVlLmluY2x1ZGVzKHZhbHVlKTtcbiAgfVxuXG4gIHB1YmxpYyBoYXNJdGVtKGl0ZW06IFQsIGV4YWN0TWF0Y2ggPSB0cnVlKTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUucGlwZShcbiAgICAgIG1hcChyZWNvcmQgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnICYmICFleGFjdE1hdGNoKSB7XG4gICAgICAgICAgcmV0dXJuIHJlY29yZC5zb21lKGkgPT4gKGkgYXMgdW5rbm93biBhcyBzdHJpbmcpLmluY2x1ZGVzKGl0ZW0pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gcmVjb3JkLmluY2x1ZGVzKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKClcbiAgICApO1xuICB9XG5cbiAgY29uc3RydWN0b3IoaW5pdGlhbFZhbHVlPzogVFtdKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFRbXT4oaW5pdGlhbFZhbHVlID8/IFtdKTtcbiAgfVxuXG4gIHB1YmxpYyBzZXQodmFsdWU6IFRbXSwgYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uID0gZmFsc2UpOiBPYnNlcnZhYmxlPFRbXT4ge1xuICAgIHRoaXMuYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uID0gYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uO1xuICAgIHRoaXMuc3ViamVjdC5uZXh0KHZhbHVlKTtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0ZU9mSXRlbShwcmVkaWNhdGU6IChpdGVtOiBUKSA9PiBib29sZWFuKTogT2JzZXJ2YWJsZTxUPiB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUucGlwZShcbiAgICAgIG1hcChpdGVtcyA9PiBpdGVtcy5maW5kKHByZWRpY2F0ZSkpLFxuICAgICAgZmlsdGVyKChpdGVtKTogaXRlbSBpcyBUID0+IGl0ZW0gIT09IHVuZGVmaW5lZCksXG4gICAgICBmaXJzdCgpKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0ZU9mSXRlbXMocHJlZGljYXRlOiAoaXRlbTogVCkgPT4gYm9vbGVhbik6IE9ic2VydmFibGU8VFtdPiB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUucGlwZShtYXAoaXRlbXMgPT4gaXRlbXMuZmlsdGVyKHByZWRpY2F0ZSkpLFxuICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKHByZXYsIGN1cnIpID0+IEpTT04uc3RyaW5naWZ5KHByZXYpID09PSBKU09OLnN0cmluZ2lmeShjdXJyKSlcbiAgICApO1xuICB9XG5cbiAgcHVibGljIGdldEZpcnN0SXRlbShwcmVkaWNhdGU6IChpdGVtOiBUKSA9PiBib29sZWFuKTogVCB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWUuZmluZChwcmVkaWNhdGUpO1xuICB9XG5cbiAgcHVibGljIGdldEl0ZW1zKHByZWRpY2F0ZTogKGl0ZW06IFQpID0+IGJvb2xlYW4pOiBUW10ge1xuICAgIHJldHVybiB0aGlzLnZhbHVlLmZpbHRlcihwcmVkaWNhdGUpO1xuICB9XG5cbiAgcHVibGljIGFkZCh2YWx1ZTogVCwgdW5pcXVlPzogYm9vbGVhbiwgYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uID0gZmFsc2UpOiB2b2lkIHtcbiAgICB0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvbiA9IGJ5cGFzc0NoYW5nZURldGVjdGlvbjtcbiAgICBjb25zdCBuZXdTZXQgPSB7Li4udGhpcy52YWx1ZX07XG4gICAgY29uc3QgaXNVbmlxdWUgPSB1bmlxdWUgPz8gdHJ1ZTtcbiAgICBpZiAoKGlzVW5pcXVlICYmICFuZXdTZXQuaW5jbHVkZXModmFsdWUpKSB8fFxuICAgICAgICAhaXNVbmlxdWUpIHtcbiAgICAgICAgbmV3U2V0LnB1c2godmFsdWUpO1xuICAgICAgICB0aGlzLnNldChuZXdTZXQpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGUodmFsdWU6IFQsIGJ5cGFzc0NoYW5nZURldGVjdGlvbiA9IGZhbHNlKTogdm9pZCB7XG4gICAgdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBieXBhc3NDaGFuZ2VEZXRlY3Rpb247XG4gICAgY29uc3QgbmV3U2V0ID0gey4uLnRoaXMudmFsdWV9O1xuICAgIHRoaXMuc2V0KG5ld1NldC5tYXAoeCA9PiAoeCAhPT0gdmFsdWUpID8geCA6IHZhbHVlKSk7XG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlKHZhbHVlOiBULCBieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBmYWxzZSk6IHZvaWQge1xuICAgIHRoaXMuYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uID0gYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uO1xuICAgIGNvbnN0IG5ld1NldCA9IHsuLi50aGlzLnZhbHVlfTtcbiAgICB0aGlzLnNldChuZXdTZXQuZmlsdGVyKHggPT4geCAhPT0gdmFsdWUpKTtcbiAgfVxuXG4gIHB1YmxpYyBvblNldChcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFRbXT4sXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvblNldChcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBUW10pID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvblNldChcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBUW10pID0+IHZvaWQsXG4gICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uU2V0KFxuICAgIG9ic2VydmVyOiAodmFsdWU6IFRbXSkgPT4gdm9pZCxcbiAgICBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLFxuICAgIGNvbXBsZXRlPzogKCkgPT4gdm9pZCxcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uU2V0KG9ic2VydmVyPzogKCh2YWx1ZTogVFtdKSA9PiB2b2lkKSB8IFBhcnRpYWxPYnNlcnZlcjxUW10+LCBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLCBjb21wbGV0ZT86ICgpID0+IHZvaWQsIGNhbGxlckNvbXBvbmVudD86IG9iamVjdCk6IFN1YnNjcmlwdGlvbiB7XG4gICAgbGV0IG9ic2VydmFibGUgPSB0aGlzLnN0YXRlLnBpcGUoXG4gICAgICBmaWx0ZXIoeCA9PiAhaXNOdWxsT3JVbmRlZmluZWQoeCkgJiYgIXRoaXMuYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uKVxuICAgICk7XG5cbiAgICByZXR1cm4gdGhpcy5wcmVwYXJlU3Vic2NyaXB0aW9uKHtcbiAgICAgIG9ic2VydmFibGUsXG4gICAgICBvYnNlcnZlcixcbiAgICAgIGVycm9yLFxuICAgICAgY29tcGxldGUsXG4gICAgICBjYWxsZXJDb21wb25lbnRcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBvbkNoYW5nZShcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFRbXT4sXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvbkNoYW5nZShcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBUW10pID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvbkNoYW5nZShcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBUW10pID0+IHZvaWQsXG4gICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uQ2hhbmdlKFxuICAgIG9ic2VydmVyOiBQYXJ0aWFsT2JzZXJ2ZXI8VFtdPixcbiAgICBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLFxuICAgIGNvbXBsZXRlPzogKCkgPT4gdm9pZCxcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uQ2hhbmdlKG9ic2VydmVyPzogKCh2YWx1ZTogVFtdKSA9PiB2b2lkKSB8IFBhcnRpYWxPYnNlcnZlcjxUW10+LCBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLCBjb21wbGV0ZT86ICgpID0+IHZvaWQsIGNhbGxlckNvbXBvbmVudD86IG9iamVjdCk6IFN1YnNjcmlwdGlvbiB7XG4gICAgbGV0IG9ic2VydmFibGUgPSB0aGlzLnN0YXRlLnBpcGUoXG4gICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLFxuICAgICAgZmlsdGVyKHggPT4gIWlzTnVsbE9yVW5kZWZpbmVkKHgpICYmICF0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvbikpO1xuXG4gICAgcmV0dXJuIHRoaXMucHJlcGFyZVN1YnNjcmlwdGlvbih7XG4gICAgICBvYnNlcnZhYmxlLFxuICAgICAgb2JzZXJ2ZXIsXG4gICAgICBlcnJvcixcbiAgICAgIGNvbXBsZXRlLFxuICAgICAgY2FsbGVyQ29tcG9uZW50XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgb25GaXJzdFNldChvYnNlcnZlcj86ICgodmFsdWU6IFRbXSkgPT4gdm9pZCkgfCBQYXJ0aWFsT2JzZXJ2ZXI8VFtdPiwgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCwgY29tcGxldGU/OiAoKSA9PiB2b2lkKTogU3Vic2NyaXB0aW9uIHtcbiAgICBjb25zdCBvYnNlcnZhYmxlID0gdGhpcy5zdGF0ZS5waXBlKFxuICAgICAgZmlsdGVyKHggPT4gIWlzTnVsbE9yVW5kZWZpbmVkKHgpICYmIHgubGVuZ3RoID4gMCAmJiAhdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24pLFxuICAgICAgZmlyc3QoKVxuICAgICk7XG5cbiAgICByZXR1cm4gdGhpcy5wcmVwYXJlU3Vic2NyaXB0aW9uKHtcbiAgICAgIG9ic2VydmFibGUsXG4gICAgICBvYnNlcnZlcixcbiAgICAgIGVycm9yLFxuICAgICAgY29tcGxldGVcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBvbkZpcnN0Q2hhbmdlKG9ic2VydmVyPzogKCh2YWx1ZTogVFtdKSA9PiB2b2lkKSB8IFBhcnRpYWxPYnNlcnZlcjxUW10+LCBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLCBjb21wbGV0ZT86ICgpID0+IHZvaWQpOiBTdWJzY3JpcHRpb24ge1xuICAgIGNvbnN0IG9ic2VydmFibGUgPSB0aGlzLnN0YXRlLnBpcGUoXG4gICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLFxuICAgICAgZmlsdGVyKHggPT4gIWlzTnVsbE9yVW5kZWZpbmVkKHgpICYmIHgubGVuZ3RoID4gMCAmJiAhdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24pLFxuICAgICAgZmlyc3QoKVxuICAgICk7XG5cbiAgICByZXR1cm4gdGhpcy5wcmVwYXJlU3Vic2NyaXB0aW9uKHtcbiAgICAgIG9ic2VydmFibGUsXG4gICAgICBvYnNlcnZlcixcbiAgICAgIGVycm9yLFxuICAgICAgY29tcGxldGVcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBvbkZyb21TZWNvbmRTZXQoXG4gICAgb2JzZXJ2ZXI6IFBhcnRpYWxPYnNlcnZlcjxUW10+LFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25Gcm9tU2Vjb25kU2V0KFxuICAgIG9ic2VydmVyOiAodmFsdWU6IFRbXSkgPT4gdm9pZCxcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uRnJvbVNlY29uZFNldChcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFRbXT4sXG4gICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uRnJvbVNlY29uZFNldChcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFRbXT4sXG4gICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICBjb21wbGV0ZT86ICgpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvbkZyb21TZWNvbmRTZXQob2JzZXJ2ZXI/OiAoKHZhbHVlOiBUW10pID0+IHZvaWQpIHwgUGFydGlhbE9ic2VydmVyPFRbXT4sIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsIGNvbXBsZXRlPzogKCkgPT4gdm9pZCwgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0KTogU3Vic2NyaXB0aW9uIHtcbiAgICBsZXQgb2JzZXJ2YWJsZSA9IHRoaXMuc3RhdGUucGlwZShcbiAgICAgIGZpbHRlcih4ID0+ICFpc051bGxPclVuZGVmaW5lZCh4KSAmJiAhdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24pLFxuICAgICAgc2tpcCgxKVxuICAgICk7XG5cbiAgICByZXR1cm4gdGhpcy5wcmVwYXJlU3Vic2NyaXB0aW9uKHtcbiAgICAgIG9ic2VydmFibGUsXG4gICAgICBvYnNlcnZlcixcbiAgICAgIGVycm9yLFxuICAgICAgY29tcGxldGUsXG4gICAgICBjYWxsZXJDb21wb25lbnRcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBvbkZyb21TZWNvbmRDaGFuZ2UoXG4gICAgb2JzZXJ2ZXI6IFBhcnRpYWxPYnNlcnZlcjxUW10+LFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25Gcm9tU2Vjb25kQ2hhbmdlKFxuICAgIG9ic2VydmVyOiAodmFsdWU6IFRbXSkgPT4gdm9pZCxcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uRnJvbVNlY29uZENoYW5nZShcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFRbXT4sXG4gICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uRnJvbVNlY29uZENoYW5nZShcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFRbXT4sXG4gICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICBjb21wbGV0ZT86ICgpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvbkZyb21TZWNvbmRDaGFuZ2Uob2JzZXJ2ZXI/OiAoKHZhbHVlOiBUW10pID0+IHZvaWQpIHwgUGFydGlhbE9ic2VydmVyPFRbXT4sIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsIGNvbXBsZXRlPzogKCkgPT4gdm9pZCwgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0KTogU3Vic2NyaXB0aW9uIHtcbiAgICBsZXQgb2JzZXJ2YWJsZSA9IHRoaXMuc3RhdGUucGlwZShcbiAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKCksXG4gICAgICBmaWx0ZXIoeCA9PiAhaXNOdWxsT3JVbmRlZmluZWQoeCkgJiYgIXRoaXMuYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uKSxcbiAgICAgIHNraXAoMSlcbiAgICApO1xuXG4gICAgcmV0dXJuIHRoaXMucHJlcGFyZVN1YnNjcmlwdGlvbih7XG4gICAgICBvYnNlcnZhYmxlLFxuICAgICAgb2JzZXJ2ZXIsXG4gICAgICBlcnJvcixcbiAgICAgIGNvbXBsZXRlLFxuICAgICAgY2FsbGVyQ29tcG9uZW50XG4gICAgfSk7XG4gIH1cbn1cbiJdfQ==","originalSourcemap":{"version":3,"file":"array-state.js","sourceRoot":"","sources":["../../../../../projects/ngx-states/src/lib/states/array-state.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[24,0,0,24],[26,0,0,69],[32,0,0,75],[38,0,0,81],[39,0,0,82]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[29,0,1,29],[31,0,1,31],[37,0,1,37],[39,0,1,39],[44,0,1,44],[46,0,1,46],[49,0,1,49],[51,0,1,51],[55,0,1,55],[57,0,1,57],[63,0,1,63],[79,0,1,79],[80,0,1,80]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[26,0,2,26],[28,0,2,28],[34,0,2,34],[58,0,2,58],[59,0,2,59]],[[0,0,3,0],[7,0,3,7],[9,0,3,9],[18,0,3,18],[20,0,3,20],[26,0,3,26],[40,0,3,40],[41,0,3,41]],[[0,0,5,0],[6,0,5,6],[13,0,5,13],[23,0,5,27],[32,0,5,35],[41,0,5,44]],[[4,0,6,12],[11,0,6,19],[12,0,6,42]],[[4,0,8,2],[8,0,8,13],[13,0,8,18]],[[8,0,9,4],[15,0,9,11],[19,0,9,15],[20,0,9,16],[27,0,9,23],[28,0,9,24],[40,0,9,36],[42,0,9,38],[43,0,9,39]],[[4,0,10,2],[5,0,10,3]],[[4,0,12,2],[8,0,12,13],[13,0,12,18]],[[8,0,13,4],[15,0,13,11],[19,0,13,15],[20,0,13,16],[27,0,13,23],[28,0,13,24],[36,0,13,32],[38,0,13,34],[39,0,13,35]],[[4,0,14,2],[5,0,14,3]],[[4,0,16,2],[8,0,16,13],[14,0,16,19]],[[8,0,17,4],[15,0,17,11],[19,0,17,15],[20,0,17,16],[25,0,17,21],[26,0,17,22],[32,0,17,28],[33,0,17,29]],[[4,0,18,2],[5,0,18,3]],[[4,0,20,9],[12,0,20,17],[13,0,20,18],[18,0,20,26]],[[8,0,21,4],[15,0,21,11],[19,0,21,15],[20,0,21,16],[25,0,21,21],[26,0,21,22],[34,0,21,30],[35,0,21,31],[40,0,21,36],[41,0,21,37],[42,0,21,38]],[[4,0,22,2],[5,0,22,3]],[[4,0,24,9],[11,0,24,16],[12,0,24,17],[16,0,24,24],[18,0,24,26],[28,0,24,36],[31,0,24,39],[35,0,24,43]],[[8,0,25,4],[15,0,25,11],[19,0,25,15],[20,0,25,16],[25,0,25,21],[26,0,25,22],[30,0,25,26],[31,0,26,6],[34,0,26,9],[35,0,26,10],[41,0,26,16],[42,0,26,17],[44,0,26,19]],[[12,0,27,8],[16,0,27,12],[23,0,27,19],[27,0,27,23],[32,0,27,28],[40,0,27,36],[44,0,27,40],[45,0,27,41],[55,0,27,51],[57,0,27,53],[58,0,27,54]],[[16,0,28,10],[23,0,28,17],[29,0,28,23],[30,0,28,24],[34,0,28,28],[35,0,28,29],[36,0,28,30],[37,0,28,31],[39,0,28,33],[40,0,28,35],[41,0,28,58],[42,0,28,59],[50,0,28,67],[51,0,28,68],[55,0,28,72],[56,0,28,73],[57,0,28,74],[58,0,28,75]],[[12,0,29,8],[13,0,29,9]],[[17,0,29,15],[18,0,29,16]],[[16,0,30,10],[23,0,30,17],[29,0,30,23],[30,0,30,24],[38,0,30,32],[39,0,30,33],[43,0,30,37],[44,0,30,38],[45,0,30,39]],[[12,0,31,8],[13,0,31,9]],[[8,0,32,6],[9,0,32,7],[10,0,32,8],[12,0,33,6],[32,0,33,26],[34,0,33,28],[35,0,34,5],[36,0,34,6]],[[4,0,35,2],[5,0,35,3]],[[4,0,37,2],[16,0,37,14],[28,0,37,32]],[[8,0,38,4],[13,0,38,9],[15,0,38,11],[16,0,38,12]],[[8,0,39,4],[12,0,39,8],[13,0,39,9],[20,0,39,16],[23,0,39,19],[27,0,39,23],[42,0,39,38],[43,0,39,44],[55,0,39,56],[59,0,39,60],[61,0,39,62],[62,0,39,63],[63,0,39,64]],[[4,0,40,2],[5,0,40,3]],[[4,0,42,9],[7,0,42,12],[8,0,42,13],[13,0,42,23],[15,0,42,25],[36,0,42,46],[39,0,42,49],[44,0,42,54]],[[8,0,43,4],[12,0,43,8],[13,0,43,9],[34,0,43,30],[37,0,43,33],[58,0,43,54],[59,0,43,55]],[[8,0,44,4],[12,0,44,8],[13,0,44,9],[20,0,44,16],[21,0,44,17],[25,0,44,21],[26,0,44,22],[31,0,44,27],[32,0,44,28],[33,0,44,29]],[[8,0,45,4],[15,0,45,11],[19,0,45,15],[20,0,45,16],[25,0,45,21],[26,0,45,22]],[[4,0,46,2],[5,0,46,3]],[[4,0,48,9],[15,0,48,20],[16,0,48,21],[25,0,48,52]],[[8,0,49,4],[15,0,49,11],[19,0,49,15],[20,0,49,16],[25,0,49,21],[26,0,49,22],[30,0,49,26],[31,0,50,6],[34,0,50,9],[35,0,50,10],[40,0,50,15],[41,0,50,16],[43,0,50,18],[44,0,50,19],[49,0,50,24],[50,0,50,25],[54,0,50,29],[55,0,50,30],[64,0,50,39],[65,0,50,40],[66,0,50,41],[68,0,51,6],[74,0,51,12],[75,0,51,13],[76,0,51,14],[80,0,51,18],[82,0,51,31],[84,0,51,33],[85,0,51,34],[89,0,51,38],[94,0,51,43],[103,0,51,52],[104,0,51,53],[106,0,52,6],[111,0,52,11],[113,0,52,13],[114,0,52,14],[115,0,52,15]],[[4,0,53,2],[5,0,53,3]],[[4,0,55,9],[16,0,55,21],[17,0,55,22],[26,0,55,53]],[[8,0,56,4],[15,0,56,11],[19,0,56,15],[20,0,56,16],[25,0,56,21],[26,0,56,22],[30,0,56,26],[31,0,56,27],[34,0,56,30],[35,0,56,31],[40,0,56,36],[41,0,56,37],[43,0,56,39],[44,0,56,40],[49,0,56,45],[50,0,56,46],[56,0,56,52],[57,0,56,53],[66,0,56,62],[67,0,56,63],[68,0,56,64],[70,0,57,6],[90,0,57,26],[91,0,57,27],[92,0,57,28],[96,0,57,32],[98,0,57,34],[102,0,57,38],[104,0,57,40],[106,0,57,42],[107,0,57,43],[111,0,57,47],[112,0,57,48],[121,0,57,57],[122,0,57,58],[126,0,57,62],[127,0,57,63],[132,0,57,68],[136,0,57,72],[137,0,57,73],[146,0,57,82],[147,0,57,83],[151,0,57,87],[152,0,57,88],[153,0,57,89],[154,0,58,5],[155,0,58,6]],[[4,0,59,2],[5,0,59,3]],[[4,0,61,9],[16,0,61,21],[17,0,61,22],[26,0,61,53]],[[8,0,62,4],[15,0,62,11],[19,0,62,15],[20,0,62,16],[25,0,62,21],[26,0,62,22],[30,0,62,26],[31,0,62,27],[40,0,62,36],[41,0,62,37],[42,0,62,38]],[[4,0,63,2],[5,0,63,3]],[[4,0,65,9],[12,0,65,17],[13,0,65,18],[22,0,65,49]],[[8,0,66,4],[15,0,66,11],[19,0,66,15],[20,0,66,16],[25,0,66,21],[26,0,66,22],[32,0,66,28],[33,0,66,29],[42,0,66,38],[43,0,66,39],[44,0,66,40]],[[4,0,67,2],[5,0,67,3]],[[4,0,69,9],[7,0,69,12],[8,0,69,13],[13,0,69,21],[15,0,69,23],[21,0,69,39],[23,0,69,41],[44,0,69,62],[47,0,69,65],[52,0,69,70]],[[8,0,70,4],[12,0,70,8],[13,0,70,9],[34,0,70,30],[37,0,70,33],[58,0,70,54],[59,0,70,55]],[[8,0,71,4],[14,0,71,10],[20,0,71,16],[23,0,71,19],[25,0,71,20],[28,0,71,23],[32,0,71,27],[33,0,71,28],[38,0,71,33],[40,0,71,34],[41,0,71,35]],[[8,0,72,4],[14,0,72,10],[22,0,72,18],[25,0,72,21],[31,0,72,27],[35,0,72,31],[39,0,72,35],[40,0,72,36]],[[8,0,73,4],[12,0,73,8],[13,0,73,9],[21,0,73,17],[25,0,73,21],[26,0,73,22],[32,0,73,28],[33,0,73,29],[41,0,73,37],[42,0,73,38],[47,0,73,43],[48,0,73,44],[49,0,73,45]],[[12,0,74,8],[13,0,74,9],[21,0,74,17],[23,0,74,19],[24,0,74,20]],[[12,0,75,8],[18,0,75,14],[19,0,75,15],[23,0,75,19],[24,0,75,20],[29,0,75,25],[30,0,75,26],[31,0,75,27]],[[12,0,76,8],[16,0,76,12],[17,0,76,13],[20,0,76,16],[21,0,76,17],[27,0,76,23],[28,0,76,24],[29,0,76,25]],[[8,0,77,4],[9,0,77,5]],[[4,0,78,2],[5,0,78,3]],[[4,0,80,9],[10,0,80,15],[11,0,80,16],[16,0,80,24],[18,0,80,26],[39,0,80,47],[42,0,80,50],[47,0,80,55]],[[8,0,81,4],[12,0,81,8],[13,0,81,9],[34,0,81,30],[37,0,81,33],[58,0,81,54],[59,0,81,55]],[[8,0,82,4],[14,0,82,10],[20,0,82,16],[23,0,82,19],[25,0,82,20],[28,0,82,23],[32,0,82,27],[33,0,82,28],[38,0,82,33],[40,0,82,34],[41,0,82,35]],[[8,0,83,4],[12,0,83,8],[13,0,83,9],[16,0,83,12],[17,0,83,13],[23,0,83,19],[24,0,83,20],[27,0,83,23],[28,0,83,24],[29,0,83,25],[30,0,83,26],[32,0,83,28],[33,0,83,29],[34,0,83,30],[35,0,83,31],[40,0,83,36],[45,0,83,41],[46,0,83,42],[47,0,83,43],[48,0,83,44],[49,0,83,45],[50,0,83,46],[51,0,83,47],[52,0,83,48],[53,0,83,49],[58,0,83,54],[59,0,83,55],[60,0,83,56],[61,0,83,57]],[[4,0,84,2],[5,0,84,3]],[[4,0,86,9],[10,0,86,15],[11,0,86,16],[16,0,86,24],[18,0,86,26],[39,0,86,47],[42,0,86,50],[47,0,86,55]],[[8,0,87,4],[12,0,87,8],[13,0,87,9],[34,0,87,30],[37,0,87,33],[58,0,87,54],[59,0,87,55]],[[8,0,88,4],[14,0,88,10],[20,0,88,16],[23,0,88,19],[25,0,88,20],[28,0,88,23],[32,0,88,27],[33,0,88,28],[38,0,88,33],[40,0,88,34],[41,0,88,35]],[[8,0,89,4],[12,0,89,8],[13,0,89,9],[16,0,89,12],[17,0,89,13],[23,0,89,19],[24,0,89,20],[30,0,89,26],[31,0,89,27],[32,0,89,28],[33,0,89,29],[35,0,89,31],[36,0,89,32],[37,0,89,33],[42,0,89,38],[47,0,89,43],[48,0,89,44],[49,0,89,45],[50,0,89,46]],[[4,0,90,2],[5,0,90,3]],[[4,0,111,9],[9,0,111,14],[10,0,111,15],[18,0,111,71],[20,0,111,73],[25,0,111,101],[27,0,111,103],[35,0,111,124],[37,0,111,126],[52,0,111,150]],[[8,0,112,4],[12,0,112,8],[22,0,112,18],[25,0,112,21],[29,0,112,25],[30,0,112,26],[35,0,112,31],[36,0,112,32],[40,0,112,36],[41,0,113,6],[47,0,113,12],[48,0,113,13],[49,0,113,14],[50,0,113,15],[52,0,113,17],[53,0,113,18],[54,0,113,19],[71,0,113,36],[72,0,113,37],[73,0,113,38],[74,0,113,39],[78,0,113,43],[79,0,113,44],[83,0,113,48],[84,0,113,49],[105,0,113,70],[106,0,113,71],[107,0,114,5],[108,0,114,6]],[[8,0,116,4],[15,0,116,11],[19,0,116,15],[20,0,116,16],[39,0,116,35],[40,0,116,36]],[[12,0,117,6],[22,0,117,16]],[[12,0,118,6],[20,0,118,14]],[[12,0,119,6],[17,0,119,11]],[[12,0,120,6],[20,0,120,14]],[[12,0,121,6],[27,0,121,21]],[[9,0,122,5],[10,0,122,6],[11,0,122,7]],[[4,0,123,2],[5,0,123,3]],[[4,0,144,9],[12,0,144,17],[13,0,144,18],[21,0,144,74],[23,0,144,76],[28,0,144,104],[30,0,144,106],[38,0,144,127],[40,0,144,129],[55,0,144,153]],[[8,0,145,4],[12,0,145,8],[22,0,145,18],[25,0,145,21],[29,0,145,25],[30,0,145,26],[35,0,145,31],[36,0,145,32],[40,0,145,36],[41,0,146,6],[61,0,146,26],[63,0,146,28],[65,0,147,6],[71,0,147,12],[72,0,147,13],[73,0,147,14],[74,0,147,15],[76,0,147,17],[77,0,147,18],[78,0,147,19],[95,0,147,36],[96,0,147,37],[97,0,147,38],[98,0,147,39],[102,0,147,43],[103,0,147,44],[107,0,147,48],[108,0,147,49],[129,0,147,70],[130,0,147,71],[131,0,147,72],[132,0,147,73]],[[8,0,149,4],[15,0,149,11],[19,0,149,15],[20,0,149,16],[39,0,149,35],[40,0,149,36]],[[12,0,150,6],[22,0,150,16]],[[12,0,151,6],[20,0,151,14]],[[12,0,152,6],[17,0,152,11]],[[12,0,153,6],[20,0,153,14]],[[12,0,154,6],[27,0,154,21]],[[9,0,155,5],[10,0,155,6],[11,0,155,7]],[[4,0,156,2],[5,0,156,3]],[[4,0,158,9],[14,0,158,19],[15,0,158,20],[23,0,158,76],[25,0,158,78],[30,0,158,106],[32,0,158,108],[40,0,158,129]],[[8,0,159,4],[14,0,159,10],[24,0,159,20],[27,0,159,23],[31,0,159,27],[32,0,159,28],[37,0,159,33],[38,0,159,34],[42,0,159,38],[43,0,160,6],[49,0,160,12],[50,0,160,13],[51,0,160,14],[52,0,160,15],[54,0,160,17],[55,0,160,18],[56,0,160,19],[73,0,160,36],[74,0,160,37],[75,0,160,38],[76,0,160,39],[80,0,160,43],[81,0,160,44],[82,0,160,45],[88,0,160,51],[91,0,160,54],[92,0,160,55],[96,0,160,59],[97,0,160,60],[101,0,160,64],[102,0,160,65],[123,0,160,86],[124,0,160,87],[126,0,161,6],[131,0,161,11],[133,0,161,13],[134,0,162,5],[135,0,162,6]],[[8,0,164,4],[15,0,164,11],[19,0,164,15],[20,0,164,16],[39,0,164,35],[40,0,164,36]],[[12,0,165,6],[22,0,165,16]],[[12,0,166,6],[20,0,166,14]],[[12,0,167,6],[17,0,167,11]],[[12,0,168,6],[20,0,168,14]],[[9,0,169,5],[10,0,169,6],[11,0,169,7]],[[4,0,170,2],[5,0,170,3]],[[4,0,172,9],[17,0,172,22],[18,0,172,23],[26,0,172,79],[28,0,172,81],[33,0,172,109],[35,0,172,111],[43,0,172,132]],[[8,0,173,4],[14,0,173,10],[24,0,173,20],[27,0,173,23],[31,0,173,27],[32,0,173,28],[37,0,173,33],[38,0,173,34],[42,0,173,38],[43,0,174,6],[63,0,174,26],[65,0,174,28],[67,0,175,6],[73,0,175,12],[74,0,175,13],[75,0,175,14],[76,0,175,15],[78,0,175,17],[79,0,175,18],[80,0,175,19],[97,0,175,36],[98,0,175,37],[99,0,175,38],[100,0,175,39],[104,0,175,43],[105,0,175,44],[106,0,175,45],[112,0,175,51],[115,0,175,54],[116,0,175,55],[120,0,175,59],[121,0,175,60],[125,0,175,64],[126,0,175,65],[147,0,175,86],[148,0,175,87],[150,0,176,6],[155,0,176,11],[157,0,176,13],[158,0,177,5],[159,0,177,6]],[[8,0,179,4],[15,0,179,11],[19,0,179,15],[20,0,179,16],[39,0,179,35],[40,0,179,36]],[[12,0,180,6],[22,0,180,16]],[[12,0,181,6],[20,0,181,14]],[[12,0,182,6],[17,0,182,11]],[[12,0,183,6],[20,0,183,14]],[[9,0,184,5],[10,0,184,6],[11,0,184,7]],[[4,0,185,2],[5,0,185,3]],[[4,0,206,9],[19,0,206,24],[20,0,206,25],[28,0,206,81],[30,0,206,83],[35,0,206,111],[37,0,206,113],[45,0,206,134],[47,0,206,136],[62,0,206,160]],[[8,0,207,4],[12,0,207,8],[22,0,207,18],[25,0,207,21],[29,0,207,25],[30,0,207,26],[35,0,207,31],[36,0,207,32],[40,0,207,36],[41,0,208,6],[47,0,208,12],[48,0,208,13],[49,0,208,14],[50,0,208,15],[52,0,208,17],[53,0,208,18],[54,0,208,19],[71,0,208,36],[72,0,208,37],[73,0,208,38],[74,0,208,39],[78,0,208,43],[79,0,208,44],[83,0,208,48],[84,0,208,49],[105,0,208,70],[106,0,208,71],[108,0,209,6],[112,0,209,10],[113,0,209,11],[114,0,209,12],[115,0,209,13],[116,0,210,5],[117,0,210,6]],[[8,0,212,4],[15,0,212,11],[19,0,212,15],[20,0,212,16],[39,0,212,35],[40,0,212,36]],[[12,0,213,6],[22,0,213,16]],[[12,0,214,6],[20,0,214,14]],[[12,0,215,6],[17,0,215,11]],[[12,0,216,6],[20,0,216,14]],[[12,0,217,6],[27,0,217,21]],[[9,0,218,5],[10,0,218,6],[11,0,218,7]],[[4,0,219,2],[5,0,219,3]],[[4,0,240,9],[22,0,240,27],[23,0,240,28],[31,0,240,84],[33,0,240,86],[38,0,240,114],[40,0,240,116],[48,0,240,137],[50,0,240,139],[65,0,240,163]],[[8,0,241,4],[12,0,241,8],[22,0,241,18],[25,0,241,21],[29,0,241,25],[30,0,241,26],[35,0,241,31],[36,0,241,32],[40,0,241,36],[41,0,242,6],[61,0,242,26],[63,0,242,28],[65,0,243,6],[71,0,243,12],[72,0,243,13],[73,0,243,14],[74,0,243,15],[76,0,243,17],[77,0,243,18],[78,0,243,19],[95,0,243,36],[96,0,243,37],[97,0,243,38],[98,0,243,39],[102,0,243,43],[103,0,243,44],[107,0,243,48],[108,0,243,49],[129,0,243,70],[130,0,243,71],[132,0,244,6],[136,0,244,10],[137,0,244,11],[138,0,244,12],[139,0,244,13],[140,0,245,5],[141,0,245,6]],[[8,0,247,4],[15,0,247,11],[19,0,247,15],[20,0,247,16],[39,0,247,35],[40,0,247,36]],[[12,0,248,6],[22,0,248,16]],[[12,0,249,6],[20,0,249,14]],[[12,0,250,6],[17,0,250,11]],[[12,0,251,6],[20,0,251,14]],[[12,0,252,6],[27,0,252,21]],[[9,0,253,5],[10,0,253,6],[11,0,253,7]],[[4,0,254,2],[5,0,254,3]],[[1,0,255,1]]],"sourcesContent":["import { BehaviorSubject, Observable, PartialObserver, Subscription } from \"rxjs\";\nimport { distinctUntilChanged, filter, first, map, skip } from \"rxjs/operators\";\nimport { isNullOrUndefined } from \"../helpers/type.helper\";\nimport { BaseState } from \"./base-state\";\n\nexport class ArrayState<T> extends BaseState {\n  protected subject: BehaviorSubject<T[]>;\n\n  public get state(): Observable<T[]> {\n    return this.subject.asObservable();\n  }\n\n  public get value(): T[] {\n    return this.subject.getValue();\n  }\n\n  public get length(): number {\n    return this.value.length;\n  }\n\n  public includes(value: T): boolean {\n    return this.value.includes(value);\n  }\n\n  public hasItem(item: T, exactMatch = true): Observable<boolean> {\n    return this.state.pipe(\n      map(record => {\n        if (typeof item === 'string' && !exactMatch) {\n          return record.some(i => (i as unknown as string).includes(item));\n        } else {\n          return record.includes(item);\n        }\n      }),\n      distinctUntilChanged()\n    );\n  }\n\n  constructor(initialValue?: T[]) {\n    super();\n    this.subject = new BehaviorSubject<T[]>(initialValue ?? []);\n  }\n\n  public set(value: T[], bypassChangeDetection = false): Observable<T[]> {\n    this.bypassChangeDetection = bypassChangeDetection;\n    this.subject.next(value);\n    return this.state;\n  }\n\n  public stateOfItem(predicate: (item: T) => boolean): Observable<T> {\n    return this.state.pipe(\n      map(items => items.find(predicate)),\n      filter((item): item is T => item !== undefined),\n      first());\n  }\n\n  public stateOfItems(predicate: (item: T) => boolean): Observable<T[]> {\n    return this.state.pipe(map(items => items.filter(predicate)),\n      distinctUntilChanged((prev, curr) => JSON.stringify(prev) === JSON.stringify(curr))\n    );\n  }\n\n  public getFirstItem(predicate: (item: T) => boolean): T | undefined {\n    return this.value.find(predicate);\n  }\n\n  public getItems(predicate: (item: T) => boolean): T[] {\n    return this.value.filter(predicate);\n  }\n\n  public add(value: T, unique?: boolean, bypassChangeDetection = false): void {\n    this.bypassChangeDetection = bypassChangeDetection;\n    const newSet = {...this.value};\n    const isUnique = unique ?? true;\n    if ((isUnique && !newSet.includes(value)) ||\n        !isUnique) {\n        newSet.push(value);\n        this.set(newSet);\n    }\n  }\n\n  public update(value: T, bypassChangeDetection = false): void {\n    this.bypassChangeDetection = bypassChangeDetection;\n    const newSet = {...this.value};\n    this.set(newSet.map(x => (x !== value) ? x : value));\n  }\n\n  public remove(value: T, bypassChangeDetection = false): void {\n    this.bypassChangeDetection = bypassChangeDetection;\n    const newSet = {...this.value};\n    this.set(newSet.filter(x => x !== value));\n  }\n\n  public onSet(\n    observer: PartialObserver<T[]>,\n    callerComponent?: object\n  ): void;\n  public onSet(\n    observer: (value: T[]) => void,\n    callerComponent?: object\n  ): void;\n  public onSet(\n    observer: (value: T[]) => void,\n    error?: (error: any) => void,\n    callerComponent?: object\n  ): void;\n  public onSet(\n    observer: (value: T[]) => void,\n    error?: (error: any) => void,\n    complete?: () => void,\n    callerComponent?: object\n  ): void;\n  public onSet(observer?: ((value: T[]) => void) | PartialObserver<T[]>, error?: (error: any) => void, complete?: () => void, callerComponent?: object): Subscription {\n    let observable = this.state.pipe(\n      filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection)\n    );\n\n    return this.prepareSubscription({\n      observable,\n      observer,\n      error,\n      complete,\n      callerComponent\n    });\n  }\n\n  public onChange(\n    observer: PartialObserver<T[]>,\n    callerComponent?: object\n  ): void;\n  public onChange(\n    observer: (value: T[]) => void,\n    callerComponent?: object\n  ): void;\n  public onChange(\n    observer: (value: T[]) => void,\n    error?: (error: any) => void,\n    callerComponent?: object\n  ): void;\n  public onChange(\n    observer: PartialObserver<T[]>,\n    error?: (error: any) => void,\n    complete?: () => void,\n    callerComponent?: object\n  ): void;\n  public onChange(observer?: ((value: T[]) => void) | PartialObserver<T[]>, error?: (error: any) => void, complete?: () => void, callerComponent?: object): Subscription {\n    let observable = this.state.pipe(\n      distinctUntilChanged(),\n      filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection));\n\n    return this.prepareSubscription({\n      observable,\n      observer,\n      error,\n      complete,\n      callerComponent\n    });\n  }\n\n  public onFirstSet(observer?: ((value: T[]) => void) | PartialObserver<T[]>, error?: (error: any) => void, complete?: () => void): Subscription {\n    const observable = this.state.pipe(\n      filter(x => !isNullOrUndefined(x) && x.length > 0 && !this.bypassChangeDetection),\n      first()\n    );\n\n    return this.prepareSubscription({\n      observable,\n      observer,\n      error,\n      complete\n    });\n  }\n\n  public onFirstChange(observer?: ((value: T[]) => void) | PartialObserver<T[]>, error?: (error: any) => void, complete?: () => void): Subscription {\n    const observable = this.state.pipe(\n      distinctUntilChanged(),\n      filter(x => !isNullOrUndefined(x) && x.length > 0 && !this.bypassChangeDetection),\n      first()\n    );\n\n    return this.prepareSubscription({\n      observable,\n      observer,\n      error,\n      complete\n    });\n  }\n\n  public onFromSecondSet(\n    observer: PartialObserver<T[]>,\n    callerComponent?: object\n  ): void;\n  public onFromSecondSet(\n    observer: (value: T[]) => void,\n    callerComponent?: object\n  ): void;\n  public onFromSecondSet(\n    observer: PartialObserver<T[]>,\n    error?: (error: any) => void,\n    callerComponent?: object\n  ): void;\n  public onFromSecondSet(\n    observer: PartialObserver<T[]>,\n    error?: (error: any) => void,\n    complete?: () => void,\n    callerComponent?: object\n  ): void;\n  public onFromSecondSet(observer?: ((value: T[]) => void) | PartialObserver<T[]>, error?: (error: any) => void, complete?: () => void, callerComponent?: object): Subscription {\n    let observable = this.state.pipe(\n      filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection),\n      skip(1)\n    );\n\n    return this.prepareSubscription({\n      observable,\n      observer,\n      error,\n      complete,\n      callerComponent\n    });\n  }\n\n  public onFromSecondChange(\n    observer: PartialObserver<T[]>,\n    callerComponent?: object\n  ): void;\n  public onFromSecondChange(\n    observer: (value: T[]) => void,\n    callerComponent?: object\n  ): void;\n  public onFromSecondChange(\n    observer: PartialObserver<T[]>,\n    error?: (error: any) => void,\n    callerComponent?: object\n  ): void;\n  public onFromSecondChange(\n    observer: PartialObserver<T[]>,\n    error?: (error: any) => void,\n    complete?: () => void,\n    callerComponent?: object\n  ): void;\n  public onFromSecondChange(observer?: ((value: T[]) => void) | PartialObserver<T[]>, error?: (error: any) => void, complete?: () => void, callerComponent?: object): Subscription {\n    let observable = this.state.pipe(\n      distinctUntilChanged(),\n      filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection),\n      skip(1)\n    );\n\n    return this.prepareSubscription({\n      observable,\n      observer,\n      error,\n      complete,\n      callerComponent\n    });\n  }\n}\n"]},"resolvedIds":{"rxjs":{"attributes":{},"external":true,"id":"rxjs","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"rxjs/operators":{"attributes":{},"external":true,"id":"rxjs/operators","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"../helpers/type.helper":{"attributes":{},"external":false,"id":"/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/helpers/type.helper.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false},"./base-state":{"attributes":{},"external":false,"id":"/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/states/base-state.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":29896,"body":[{"type":"ImportDeclaration","start":0,"end":39,"specifiers":[{"type":"ImportSpecifier","start":9,"end":24,"imported":{"type":"Identifier","start":9,"end":24,"name":"BehaviorSubject"},"local":{"type":"Identifier","start":9,"end":24,"name":"BehaviorSubject"}}],"source":{"type":"Literal","start":32,"end":38,"value":"rxjs","raw":"\"rxjs\""},"attributes":[]},{"type":"ImportDeclaration","start":40,"end":95,"specifiers":[{"type":"ImportSpecifier","start":49,"end":63,"imported":{"type":"Identifier","start":49,"end":63,"name":"untilDestroyed"},"local":{"type":"Identifier","start":49,"end":63,"name":"untilDestroyed"}}],"source":{"type":"Literal","start":71,"end":94,"value":"@ngneat/until-destroy","raw":"\"@ngneat/until-destroy\""},"attributes":[]},{"type":"ImportDeclaration","start":96,"end":181,"specifiers":[{"type":"ImportSpecifier","start":105,"end":125,"imported":{"type":"Identifier","start":105,"end":125,"name":"distinctUntilChanged"},"local":{"type":"Identifier","start":105,"end":125,"name":"distinctUntilChanged"}},{"type":"ImportSpecifier","start":127,"end":133,"imported":{"type":"Identifier","start":127,"end":133,"name":"filter"},"local":{"type":"Identifier","start":127,"end":133,"name":"filter"}},{"type":"ImportSpecifier","start":135,"end":140,"imported":{"type":"Identifier","start":135,"end":140,"name":"first"},"local":{"type":"Identifier","start":135,"end":140,"name":"first"}},{"type":"ImportSpecifier","start":142,"end":145,"imported":{"type":"Identifier","start":142,"end":145,"name":"map"},"local":{"type":"Identifier","start":142,"end":145,"name":"map"}},{"type":"ImportSpecifier","start":147,"end":151,"imported":{"type":"Identifier","start":147,"end":151,"name":"skip"},"local":{"type":"Identifier","start":147,"end":151,"name":"skip"}},{"type":"ImportSpecifier","start":153,"end":156,"imported":{"type":"Identifier","start":153,"end":156,"name":"tap"},"local":{"type":"Identifier","start":153,"end":156,"name":"tap"}}],"source":{"type":"Literal","start":164,"end":180,"value":"rxjs/operators","raw":"\"rxjs/operators\""},"attributes":[]},{"type":"ImportDeclaration","start":182,"end":241,"specifiers":[{"type":"ImportSpecifier","start":191,"end":208,"imported":{"type":"Identifier","start":191,"end":208,"name":"isNullOrUndefined"},"local":{"type":"Identifier","start":191,"end":208,"name":"isNullOrUndefined"}}],"source":{"type":"Literal","start":216,"end":240,"value":"../helpers/type.helper","raw":"\"../helpers/type.helper\""},"attributes":[]},{"type":"ImportDeclaration","start":242,"end":283,"specifiers":[{"type":"ImportSpecifier","start":251,"end":260,"imported":{"type":"Identifier","start":251,"end":260,"name":"BaseState"},"local":{"type":"Identifier","start":251,"end":260,"name":"BaseState"}}],"source":{"type":"Literal","start":268,"end":282,"value":"./base-state","raw":"\"./base-state\""},"attributes":[]},{"type":"ExportNamedDeclaration","start":284,"end":6005,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"ClassDeclaration","start":291,"end":6005,"decorators":[],"id":{"type":"Identifier","start":297,"end":310,"name":"KeyValueState"},"superClass":{"type":"Identifier","start":319,"end":328,"name":"BaseState"},"body":{"type":"ClassBody","start":329,"end":6005,"body":[{"type":"PropertyDefinition","start":335,"end":344,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":335,"end":343,"name":"_subject"},"value":null},{"type":"PropertyDefinition","start":349,"end":372,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":349,"end":362,"name":"_keySeparator"},"value":{"type":"Literal","start":365,"end":371,"value":"####","raw":"'####'"}},{"type":"MethodDefinition","start":377,"end":441,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":381,"end":386,"name":"state"},"value":{"type":"FunctionExpression","start":386,"end":441,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":389,"end":441,"body":[{"type":"ReturnStatement","start":399,"end":435,"argument":{"type":"CallExpression","start":406,"end":434,"optional":false,"callee":{"type":"MemberExpression","start":406,"end":432,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":406,"end":419,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":406,"end":410},"property":{"type":"Identifier","start":411,"end":419,"name":"_subject"}},"property":{"type":"Identifier","start":420,"end":432,"name":"asObservable"}},"arguments":[]}}]},"expression":false},"kind":"get"},{"type":"MethodDefinition","start":446,"end":804,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":446,"end":456,"name":"stateOfKey"},"value":{"type":"FunctionExpression","start":456,"end":804,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":457,"end":460,"name":"key"},{"type":"AssignmentPattern","start":462,"end":485,"left":{"type":"Identifier","start":462,"end":478,"name":"changedStateOnly"},"right":{"type":"Literal","start":481,"end":485,"value":true,"raw":"true"}}],"body":{"type":"BlockStatement","start":487,"end":804,"body":[{"type":"VariableDeclaration","start":497,"end":679,"kind":"const","declarations":[{"type":"VariableDeclarator","start":503,"end":678,"id":{"type":"Identifier","start":503,"end":508,"name":"state"},"init":{"type":"CallExpression","start":511,"end":678,"optional":false,"callee":{"type":"MemberExpression","start":511,"end":526,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":511,"end":521,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":511,"end":515},"property":{"type":"Identifier","start":516,"end":521,"name":"state"}},"property":{"type":"Identifier","start":522,"end":526,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":527,"end":649,"optional":false,"callee":{"type":"Identifier","start":527,"end":533,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":534,"end":648,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":534,"end":540,"name":"record"}],"body":{"type":"LogicalExpression","start":544,"end":648,"operator":"&&","left":{"type":"LogicalExpression","start":544,"end":617,"operator":"&&","left":{"type":"UnaryExpression","start":544,"end":570,"operator":"!","argument":{"type":"CallExpression","start":545,"end":570,"optional":false,"callee":{"type":"Identifier","start":545,"end":562,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":563,"end":569,"name":"record"}]},"prefix":true},"right":{"type":"UnaryExpression","start":586,"end":617,"operator":"!","argument":{"type":"CallExpression","start":587,"end":617,"optional":false,"callee":{"type":"Identifier","start":587,"end":604,"name":"isNullOrUndefined"},"arguments":[{"type":"MemberExpression","start":605,"end":616,"computed":true,"optional":false,"object":{"type":"Identifier","start":605,"end":611,"name":"record"},"property":{"type":"Identifier","start":612,"end":615,"name":"key"}}]},"prefix":true}},"right":{"type":"UnaryExpression","start":621,"end":648,"operator":"!","argument":{"type":"MemberExpression","start":622,"end":648,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":622,"end":626},"property":{"type":"Identifier","start":627,"end":648,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]},{"type":"CallExpression","start":651,"end":677,"optional":false,"callee":{"type":"Identifier","start":651,"end":654,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":655,"end":676,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":655,"end":661,"name":"record"}],"body":{"type":"MemberExpression","start":665,"end":676,"computed":true,"optional":false,"object":{"type":"Identifier","start":665,"end":671,"name":"record"},"property":{"type":"Identifier","start":672,"end":675,"name":"key"}},"id":null}]}]}}]},{"type":"IfStatement","start":688,"end":776,"test":{"type":"Identifier","start":692,"end":708,"name":"changedStateOnly"},"consequent":{"type":"BlockStatement","start":710,"end":776,"body":[{"type":"ReturnStatement","start":724,"end":766,"argument":{"type":"CallExpression","start":731,"end":765,"optional":false,"callee":{"type":"MemberExpression","start":731,"end":741,"computed":false,"optional":false,"object":{"type":"Identifier","start":731,"end":736,"name":"state"},"property":{"type":"Identifier","start":737,"end":741,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":742,"end":764,"optional":false,"callee":{"type":"Identifier","start":742,"end":762,"name":"distinctUntilChanged"},"arguments":[]}]}}]},"alternate":null},{"type":"ReturnStatement","start":785,"end":798,"argument":{"type":"Identifier","start":792,"end":797,"name":"state"}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":809,"end":900,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":809,"end":820,"name":"stateOfKeys"},"value":{"type":"FunctionExpression","start":820,"end":900,"async":false,"generator":false,"id":null,"params":[{"type":"RestElement","start":821,"end":828,"argument":{"type":"Identifier","start":824,"end":828,"name":"keys"}}],"body":{"type":"BlockStatement","start":830,"end":900,"body":[{"type":"ReturnStatement","start":840,"end":894,"argument":{"type":"CallExpression","start":847,"end":893,"optional":false,"callee":{"type":"MemberExpression","start":847,"end":862,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":847,"end":851},"property":{"type":"Identifier","start":852,"end":862,"name":"stateOfKey"}},"arguments":[{"type":"CallExpression","start":863,"end":892,"optional":false,"callee":{"type":"MemberExpression","start":863,"end":872,"computed":false,"optional":false,"object":{"type":"Identifier","start":863,"end":867,"name":"keys"},"property":{"type":"Identifier","start":868,"end":872,"name":"join"}},"arguments":[{"type":"MemberExpression","start":873,"end":891,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":873,"end":877},"property":{"type":"Identifier","start":878,"end":891,"name":"_keySeparator"}}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":905,"end":1241,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":905,"end":911,"name":"hasKey"},"value":{"type":"FunctionExpression","start":911,"end":1241,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":912,"end":915,"name":"key"},{"type":"AssignmentPattern","start":917,"end":934,"left":{"type":"Identifier","start":917,"end":927,"name":"exactMatch"},"right":{"type":"Literal","start":930,"end":934,"value":true,"raw":"true"}}],"body":{"type":"BlockStatement","start":936,"end":1241,"body":[{"type":"ReturnStatement","start":946,"end":1235,"argument":{"type":"CallExpression","start":953,"end":1234,"optional":false,"callee":{"type":"MemberExpression","start":953,"end":968,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":953,"end":963,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":953,"end":957},"property":{"type":"Identifier","start":958,"end":963,"name":"state"}},"property":{"type":"Identifier","start":964,"end":968,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":969,"end":1209,"optional":false,"callee":{"type":"Identifier","start":969,"end":972,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":973,"end":1208,"async":false,"expression":false,"generator":false,"params":[{"type":"Identifier","start":973,"end":979,"name":"record"}],"body":{"type":"BlockStatement","start":983,"end":1208,"body":[{"type":"IfStatement","start":997,"end":1198,"test":{"type":"LogicalExpression","start":1001,"end":1039,"operator":"&&","left":{"type":"BinaryExpression","start":1001,"end":1024,"operator":"===","left":{"type":"UnaryExpression","start":1001,"end":1011,"operator":"typeof","argument":{"type":"Identifier","start":1008,"end":1011,"name":"key"},"prefix":true},"right":{"type":"Literal","start":1016,"end":1024,"value":"string","raw":"'string'"}},"right":{"type":"UnaryExpression","start":1028,"end":1039,"operator":"!","argument":{"type":"Identifier","start":1029,"end":1039,"name":"exactMatch"},"prefix":true}},"consequent":{"type":"BlockStatement","start":1041,"end":1127,"body":[{"type":"ReturnStatement","start":1059,"end":1113,"argument":{"type":"CallExpression","start":1066,"end":1112,"optional":false,"callee":{"type":"MemberExpression","start":1066,"end":1090,"computed":false,"optional":false,"object":{"type":"CallExpression","start":1066,"end":1085,"optional":false,"callee":{"type":"MemberExpression","start":1066,"end":1077,"computed":false,"optional":false,"object":{"type":"Identifier","start":1066,"end":1072,"name":"Object"},"property":{"type":"Identifier","start":1073,"end":1077,"name":"keys"}},"arguments":[{"type":"Identifier","start":1078,"end":1084,"name":"record"}]},"property":{"type":"Identifier","start":1086,"end":1090,"name":"some"}},"arguments":[{"type":"ArrowFunctionExpression","start":1091,"end":1111,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":1091,"end":1092,"name":"k"}],"body":{"type":"CallExpression","start":1096,"end":1111,"optional":false,"callee":{"type":"MemberExpression","start":1096,"end":1106,"computed":false,"optional":false,"object":{"type":"Identifier","start":1096,"end":1097,"name":"k"},"property":{"type":"Identifier","start":1098,"end":1106,"name":"includes"}},"arguments":[{"type":"Identifier","start":1107,"end":1110,"name":"key"}]},"id":null}]}}]},"alternate":{"type":"BlockStatement","start":1145,"end":1198,"body":[{"type":"ReturnStatement","start":1163,"end":1184,"argument":{"type":"BinaryExpression","start":1170,"end":1183,"operator":"in","left":{"type":"Identifier","start":1170,"end":1173,"name":"key"},"right":{"type":"Identifier","start":1177,"end":1183,"name":"record"}}}]}}]},"id":null}]},{"type":"CallExpression","start":1211,"end":1233,"optional":false,"callee":{"type":"Identifier","start":1211,"end":1231,"name":"distinctUntilChanged"},"arguments":[]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":1246,"end":1304,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1250,"end":1254,"name":"keys"},"value":{"type":"FunctionExpression","start":1254,"end":1304,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":1257,"end":1304,"body":[{"type":"ReturnStatement","start":1267,"end":1298,"argument":{"type":"CallExpression","start":1274,"end":1297,"optional":false,"callee":{"type":"MemberExpression","start":1274,"end":1285,"computed":false,"optional":false,"object":{"type":"Identifier","start":1274,"end":1280,"name":"Object"},"property":{"type":"Identifier","start":1281,"end":1285,"name":"keys"}},"arguments":[{"type":"MemberExpression","start":1286,"end":1296,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1286,"end":1290},"property":{"type":"Identifier","start":1291,"end":1296,"name":"value"}}]}}]},"expression":false},"kind":"get"},{"type":"MethodDefinition","start":1309,"end":1430,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1309,"end":1323,"name":"getKeysOfIndex"},"value":{"type":"FunctionExpression","start":1323,"end":1430,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":1324,"end":1332,"name":"keyIndex"}],"body":{"type":"BlockStatement","start":1334,"end":1430,"body":[{"type":"ReturnStatement","start":1344,"end":1424,"argument":{"type":"CallExpression","start":1351,"end":1423,"optional":false,"callee":{"type":"MemberExpression","start":1351,"end":1364,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1351,"end":1360,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1351,"end":1355},"property":{"type":"Identifier","start":1356,"end":1360,"name":"keys"}},"property":{"type":"Identifier","start":1361,"end":1364,"name":"map"}},"arguments":[{"type":"ArrowFunctionExpression","start":1365,"end":1422,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":1365,"end":1368,"name":"key"}],"body":{"type":"MemberExpression","start":1372,"end":1422,"computed":true,"optional":false,"object":{"type":"CallExpression","start":1372,"end":1412,"optional":false,"callee":{"type":"MemberExpression","start":1372,"end":1392,"computed":false,"optional":false,"object":{"type":"CallExpression","start":1372,"end":1386,"optional":false,"callee":{"type":"MemberExpression","start":1372,"end":1384,"computed":false,"optional":false,"object":{"type":"Identifier","start":1372,"end":1375,"name":"key"},"property":{"type":"Identifier","start":1376,"end":1384,"name":"toString"}},"arguments":[]},"property":{"type":"Identifier","start":1387,"end":1392,"name":"split"}},"arguments":[{"type":"MemberExpression","start":1393,"end":1411,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1393,"end":1397},"property":{"type":"Identifier","start":1398,"end":1411,"name":"_keySeparator"}}]},"property":{"type":"Identifier","start":1413,"end":1421,"name":"keyIndex"}},"id":null}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":1435,"end":1498,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1439,"end":1446,"name":"toArray"},"value":{"type":"FunctionExpression","start":1446,"end":1498,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":1449,"end":1498,"body":[{"type":"ReturnStatement","start":1459,"end":1492,"argument":{"type":"CallExpression","start":1466,"end":1491,"optional":false,"callee":{"type":"MemberExpression","start":1466,"end":1479,"computed":false,"optional":false,"object":{"type":"Identifier","start":1466,"end":1472,"name":"Object"},"property":{"type":"Identifier","start":1473,"end":1479,"name":"values"}},"arguments":[{"type":"MemberExpression","start":1480,"end":1490,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1480,"end":1484},"property":{"type":"Identifier","start":1485,"end":1490,"name":"value"}}]}}]},"expression":false},"kind":"get"},{"type":"MethodDefinition","start":1503,"end":1559,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1507,"end":1513,"name":"length"},"value":{"type":"FunctionExpression","start":1513,"end":1559,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":1516,"end":1559,"body":[{"type":"ReturnStatement","start":1526,"end":1553,"argument":{"type":"MemberExpression","start":1533,"end":1552,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1533,"end":1545,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1533,"end":1537},"property":{"type":"Identifier","start":1538,"end":1545,"name":"toArray"}},"property":{"type":"Identifier","start":1546,"end":1552,"name":"length"}}}]},"expression":false},"kind":"get"},{"type":"MethodDefinition","start":1564,"end":1650,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1568,"end":1580,"name":"toArrayState"},"value":{"type":"FunctionExpression","start":1580,"end":1650,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":1583,"end":1650,"body":[{"type":"ReturnStatement","start":1593,"end":1644,"argument":{"type":"CallExpression","start":1600,"end":1643,"optional":false,"callee":{"type":"MemberExpression","start":1600,"end":1615,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1600,"end":1610,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1600,"end":1604},"property":{"type":"Identifier","start":1605,"end":1610,"name":"state"}},"property":{"type":"Identifier","start":1611,"end":1615,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":1616,"end":1642,"optional":false,"callee":{"type":"Identifier","start":1616,"end":1619,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":1620,"end":1641,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":1620,"end":1621,"name":"x"}],"body":{"type":"CallExpression","start":1625,"end":1641,"optional":false,"callee":{"type":"MemberExpression","start":1625,"end":1638,"computed":false,"optional":false,"object":{"type":"Identifier","start":1625,"end":1631,"name":"Object"},"property":{"type":"Identifier","start":1632,"end":1638,"name":"values"}},"arguments":[{"type":"Identifier","start":1639,"end":1640,"name":"x"}]},"id":null}]}]}}]},"expression":false},"kind":"get"},{"type":"MethodDefinition","start":1655,"end":1715,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1659,"end":1664,"name":"value"},"value":{"type":"FunctionExpression","start":1664,"end":1715,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":1667,"end":1715,"body":[{"type":"ReturnStatement","start":1677,"end":1709,"argument":{"type":"CallExpression","start":1684,"end":1708,"optional":false,"callee":{"type":"MemberExpression","start":1684,"end":1706,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1684,"end":1697,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1684,"end":1688},"property":{"type":"Identifier","start":1689,"end":1697,"name":"_subject"}},"property":{"type":"Identifier","start":1698,"end":1706,"name":"getValue"}},"arguments":[]}}]},"expression":false},"kind":"get"},{"type":"MethodDefinition","start":1720,"end":1835,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1720,"end":1731,"name":"constructor"},"value":{"type":"FunctionExpression","start":1731,"end":1835,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":1732,"end":1744,"name":"initialValue"}],"body":{"type":"BlockStatement","start":1746,"end":1835,"body":[{"type":"ExpressionStatement","start":1756,"end":1764,"expression":{"type":"CallExpression","start":1756,"end":1763,"optional":false,"callee":{"type":"Super","start":1756,"end":1761},"arguments":[]}},{"type":"ExpressionStatement","start":1773,"end":1829,"expression":{"type":"AssignmentExpression","start":1773,"end":1828,"operator":"=","left":{"type":"MemberExpression","start":1773,"end":1786,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1773,"end":1777},"property":{"type":"Identifier","start":1778,"end":1786,"name":"_subject"}},"right":{"type":"NewExpression","start":1789,"end":1828,"callee":{"type":"Identifier","start":1793,"end":1808,"name":"BehaviorSubject"},"arguments":[{"type":"LogicalExpression","start":1809,"end":1827,"operator":"??","left":{"type":"Identifier","start":1809,"end":1821,"name":"initialValue"},"right":{"type":"ObjectExpression","start":1825,"end":1827,"properties":[]}}]}}}]},"expression":false},"kind":"constructor"},{"type":"MethodDefinition","start":1840,"end":1893,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1840,"end":1848,"name":"getValue"},"value":{"type":"FunctionExpression","start":1848,"end":1893,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":1849,"end":1852,"name":"key"}],"body":{"type":"BlockStatement","start":1854,"end":1893,"body":[{"type":"ReturnStatement","start":1864,"end":1887,"argument":{"type":"MemberExpression","start":1871,"end":1886,"computed":true,"optional":false,"object":{"type":"MemberExpression","start":1871,"end":1881,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1871,"end":1875},"property":{"type":"Identifier","start":1876,"end":1881,"name":"value"}},"property":{"type":"Identifier","start":1882,"end":1885,"name":"key"}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":1898,"end":1999,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1898,"end":1912,"name":"getValueByKeys"},"value":{"type":"FunctionExpression","start":1912,"end":1999,"async":false,"generator":false,"id":null,"params":[{"type":"RestElement","start":1913,"end":1920,"argument":{"type":"Identifier","start":1916,"end":1920,"name":"keys"}}],"body":{"type":"BlockStatement","start":1922,"end":1999,"body":[{"type":"ReturnStatement","start":1932,"end":1993,"argument":{"type":"MemberExpression","start":1939,"end":1992,"computed":true,"optional":false,"object":{"type":"MemberExpression","start":1939,"end":1949,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1939,"end":1943},"property":{"type":"Identifier","start":1944,"end":1949,"name":"value"}},"property":{"type":"CallExpression","start":1950,"end":1991,"optional":false,"callee":{"type":"MemberExpression","start":1950,"end":1971,"computed":false,"optional":false,"object":{"type":"CallExpression","start":1950,"end":1966,"optional":false,"callee":{"type":"MemberExpression","start":1950,"end":1958,"computed":false,"optional":false,"object":{"type":"Identifier","start":1950,"end":1954,"name":"keys"},"property":{"type":"Identifier","start":1955,"end":1958,"name":"map"}},"arguments":[{"type":"Identifier","start":1959,"end":1965,"name":"String"}]},"property":{"type":"Identifier","start":1967,"end":1971,"name":"join"}},"arguments":[{"type":"MemberExpression","start":1972,"end":1990,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1972,"end":1976},"property":{"type":"Identifier","start":1977,"end":1990,"name":"_keySeparator"}}]}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2004,"end":2257,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2004,"end":2012,"name":"setValue"},"value":{"type":"FunctionExpression","start":2012,"end":2257,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":2013,"end":2016,"name":"key"},{"type":"Identifier","start":2018,"end":2023,"name":"value"},{"type":"AssignmentPattern","start":2025,"end":2054,"left":{"type":"Identifier","start":2025,"end":2046,"name":"bypassChangeDetection"},"right":{"type":"Literal","start":2049,"end":2054,"value":false,"raw":"false"}}],"body":{"type":"BlockStatement","start":2056,"end":2257,"body":[{"type":"ExpressionStatement","start":2066,"end":2117,"expression":{"type":"AssignmentExpression","start":2066,"end":2116,"operator":"=","left":{"type":"MemberExpression","start":2066,"end":2092,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2066,"end":2070},"property":{"type":"Identifier","start":2071,"end":2092,"name":"bypassChangeDetection"}},"right":{"type":"Identifier","start":2095,"end":2116,"name":"bypassChangeDetection"}}},{"type":"VariableDeclaration","start":2126,"end":2159,"kind":"const","declarations":[{"type":"VariableDeclarator","start":2132,"end":2158,"id":{"type":"Identifier","start":2132,"end":2138,"name":"newSet"},"init":{"type":"ObjectExpression","start":2141,"end":2158,"properties":[{"type":"SpreadElement","start":2143,"end":2156,"argument":{"type":"MemberExpression","start":2146,"end":2156,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2146,"end":2150},"property":{"type":"Identifier","start":2151,"end":2156,"name":"value"}}}]}}]},{"type":"ExpressionStatement","start":2168,"end":2188,"expression":{"type":"AssignmentExpression","start":2168,"end":2187,"operator":"=","left":{"type":"MemberExpression","start":2168,"end":2179,"computed":true,"optional":false,"object":{"type":"Identifier","start":2168,"end":2174,"name":"newSet"},"property":{"type":"Identifier","start":2175,"end":2178,"name":"key"}},"right":{"type":"Identifier","start":2182,"end":2187,"name":"value"}}},{"type":"ExpressionStatement","start":2197,"end":2224,"expression":{"type":"CallExpression","start":2197,"end":2223,"optional":false,"callee":{"type":"MemberExpression","start":2197,"end":2215,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2197,"end":2210,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2197,"end":2201},"property":{"type":"Identifier","start":2202,"end":2210,"name":"_subject"}},"property":{"type":"Identifier","start":2211,"end":2215,"name":"next"}},"arguments":[{"type":"Identifier","start":2216,"end":2222,"name":"newSet"}]}},{"type":"ReturnStatement","start":2233,"end":2251,"argument":{"type":"MemberExpression","start":2240,"end":2250,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2240,"end":2244},"property":{"type":"Identifier","start":2245,"end":2250,"name":"state"}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2262,"end":2422,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2262,"end":2276,"name":"setValueByKeys"},"value":{"type":"FunctionExpression","start":2276,"end":2422,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":2277,"end":2282,"name":"value"},{"type":"AssignmentPattern","start":2284,"end":2313,"left":{"type":"Identifier","start":2284,"end":2305,"name":"bypassChangeDetection"},"right":{"type":"Literal","start":2308,"end":2313,"value":false,"raw":"false"}},{"type":"RestElement","start":2315,"end":2322,"argument":{"type":"Identifier","start":2318,"end":2322,"name":"keys"}}],"body":{"type":"BlockStatement","start":2324,"end":2422,"body":[{"type":"ReturnStatement","start":2334,"end":2416,"argument":{"type":"CallExpression","start":2341,"end":2415,"optional":false,"callee":{"type":"MemberExpression","start":2341,"end":2354,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2341,"end":2345},"property":{"type":"Identifier","start":2346,"end":2354,"name":"setValue"}},"arguments":[{"type":"CallExpression","start":2355,"end":2384,"optional":false,"callee":{"type":"MemberExpression","start":2355,"end":2364,"computed":false,"optional":false,"object":{"type":"Identifier","start":2355,"end":2359,"name":"keys"},"property":{"type":"Identifier","start":2360,"end":2364,"name":"join"}},"arguments":[{"type":"MemberExpression","start":2365,"end":2383,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2365,"end":2369},"property":{"type":"Identifier","start":2370,"end":2383,"name":"_keySeparator"}}]},{"type":"Identifier","start":2386,"end":2391,"name":"value"},{"type":"Identifier","start":2393,"end":2414,"name":"bypassChangeDetection"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2427,"end":2662,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2427,"end":2432,"name":"unset"},"value":{"type":"FunctionExpression","start":2432,"end":2662,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":2433,"end":2436,"name":"key"},{"type":"AssignmentPattern","start":2438,"end":2467,"left":{"type":"Identifier","start":2438,"end":2459,"name":"bypassChangeDetection"},"right":{"type":"Literal","start":2462,"end":2467,"value":false,"raw":"false"}}],"body":{"type":"BlockStatement","start":2469,"end":2662,"body":[{"type":"ExpressionStatement","start":2479,"end":2530,"expression":{"type":"AssignmentExpression","start":2479,"end":2529,"operator":"=","left":{"type":"MemberExpression","start":2479,"end":2505,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2479,"end":2483},"property":{"type":"Identifier","start":2484,"end":2505,"name":"bypassChangeDetection"}},"right":{"type":"Identifier","start":2508,"end":2529,"name":"bypassChangeDetection"}}},{"type":"VariableDeclaration","start":2539,"end":2565,"kind":"const","declarations":[{"type":"VariableDeclarator","start":2545,"end":2564,"id":{"type":"Identifier","start":2545,"end":2551,"name":"newSet"},"init":{"type":"MemberExpression","start":2554,"end":2564,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2554,"end":2558},"property":{"type":"Identifier","start":2559,"end":2564,"name":"value"}}}]},{"type":"ExpressionStatement","start":2574,"end":2593,"expression":{"type":"UnaryExpression","start":2574,"end":2592,"operator":"delete","argument":{"type":"MemberExpression","start":2581,"end":2592,"computed":true,"optional":false,"object":{"type":"Identifier","start":2581,"end":2587,"name":"newSet"},"property":{"type":"Identifier","start":2588,"end":2591,"name":"key"}},"prefix":true}},{"type":"ExpressionStatement","start":2602,"end":2629,"expression":{"type":"CallExpression","start":2602,"end":2628,"optional":false,"callee":{"type":"MemberExpression","start":2602,"end":2620,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2602,"end":2615,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2602,"end":2606},"property":{"type":"Identifier","start":2607,"end":2615,"name":"_subject"}},"property":{"type":"Identifier","start":2616,"end":2620,"name":"next"}},"arguments":[{"type":"Identifier","start":2621,"end":2627,"name":"newSet"}]}},{"type":"ReturnStatement","start":2638,"end":2656,"argument":{"type":"MemberExpression","start":2645,"end":2655,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2645,"end":2649},"property":{"type":"Identifier","start":2650,"end":2655,"name":"state"}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2667,"end":2807,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2667,"end":2678,"name":"unsetByKeys"},"value":{"type":"FunctionExpression","start":2678,"end":2807,"async":false,"generator":false,"id":null,"params":[{"type":"AssignmentPattern","start":2679,"end":2708,"left":{"type":"Identifier","start":2679,"end":2700,"name":"bypassChangeDetection"},"right":{"type":"Literal","start":2703,"end":2708,"value":false,"raw":"false"}},{"type":"RestElement","start":2710,"end":2717,"argument":{"type":"Identifier","start":2713,"end":2717,"name":"keys"}}],"body":{"type":"BlockStatement","start":2719,"end":2807,"body":[{"type":"ReturnStatement","start":2729,"end":2801,"argument":{"type":"CallExpression","start":2736,"end":2800,"optional":false,"callee":{"type":"MemberExpression","start":2736,"end":2746,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2736,"end":2740},"property":{"type":"Identifier","start":2741,"end":2746,"name":"unset"}},"arguments":[{"type":"CallExpression","start":2747,"end":2776,"optional":false,"callee":{"type":"MemberExpression","start":2747,"end":2756,"computed":false,"optional":false,"object":{"type":"Identifier","start":2747,"end":2751,"name":"keys"},"property":{"type":"Identifier","start":2752,"end":2756,"name":"join"}},"arguments":[{"type":"MemberExpression","start":2757,"end":2775,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2757,"end":2761},"property":{"type":"Identifier","start":2762,"end":2775,"name":"_keySeparator"}}]},{"type":"Identifier","start":2778,"end":2799,"name":"bypassChangeDetection"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2812,"end":2975,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2812,"end":2817,"name":"reset"},"value":{"type":"FunctionExpression","start":2817,"end":2975,"async":false,"generator":false,"id":null,"params":[{"type":"AssignmentPattern","start":2818,"end":2847,"left":{"type":"Identifier","start":2818,"end":2839,"name":"bypassChangeDetection"},"right":{"type":"Literal","start":2842,"end":2847,"value":false,"raw":"false"}}],"body":{"type":"BlockStatement","start":2849,"end":2975,"body":[{"type":"ExpressionStatement","start":2859,"end":2910,"expression":{"type":"AssignmentExpression","start":2859,"end":2909,"operator":"=","left":{"type":"MemberExpression","start":2859,"end":2885,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2859,"end":2863},"property":{"type":"Identifier","start":2864,"end":2885,"name":"bypassChangeDetection"}},"right":{"type":"Identifier","start":2888,"end":2909,"name":"bypassChangeDetection"}}},{"type":"ExpressionStatement","start":2919,"end":2942,"expression":{"type":"CallExpression","start":2919,"end":2941,"optional":false,"callee":{"type":"MemberExpression","start":2919,"end":2937,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2919,"end":2932,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2919,"end":2923},"property":{"type":"Identifier","start":2924,"end":2932,"name":"_subject"}},"property":{"type":"Identifier","start":2933,"end":2937,"name":"next"}},"arguments":[{"type":"ObjectExpression","start":2938,"end":2940,"properties":[]}]}},{"type":"ReturnStatement","start":2951,"end":2969,"argument":{"type":"MemberExpression","start":2958,"end":2968,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2958,"end":2962},"property":{"type":"Identifier","start":2963,"end":2968,"name":"state"}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2980,"end":3153,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2980,"end":2983,"name":"set"},"value":{"type":"FunctionExpression","start":2983,"end":3153,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":2984,"end":2990,"name":"record"},{"type":"AssignmentPattern","start":2992,"end":3021,"left":{"type":"Identifier","start":2992,"end":3013,"name":"bypassChangeDetection"},"right":{"type":"Literal","start":3016,"end":3021,"value":false,"raw":"false"}}],"body":{"type":"BlockStatement","start":3023,"end":3153,"body":[{"type":"ExpressionStatement","start":3033,"end":3084,"expression":{"type":"AssignmentExpression","start":3033,"end":3083,"operator":"=","left":{"type":"MemberExpression","start":3033,"end":3059,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3033,"end":3037},"property":{"type":"Identifier","start":3038,"end":3059,"name":"bypassChangeDetection"}},"right":{"type":"Identifier","start":3062,"end":3083,"name":"bypassChangeDetection"}}},{"type":"ExpressionStatement","start":3093,"end":3120,"expression":{"type":"CallExpression","start":3093,"end":3119,"optional":false,"callee":{"type":"MemberExpression","start":3093,"end":3111,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3093,"end":3106,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3093,"end":3097},"property":{"type":"Identifier","start":3098,"end":3106,"name":"_subject"}},"property":{"type":"Identifier","start":3107,"end":3111,"name":"next"}},"arguments":[{"type":"Identifier","start":3112,"end":3118,"name":"record"}]}},{"type":"ReturnStatement","start":3129,"end":3147,"argument":{"type":"MemberExpression","start":3136,"end":3146,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3136,"end":3140},"property":{"type":"Identifier","start":3141,"end":3146,"name":"state"}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":3158,"end":3493,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":3158,"end":3163,"name":"onSet"},"value":{"type":"FunctionExpression","start":3163,"end":3493,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":3164,"end":3172,"name":"observer"},{"type":"Identifier","start":3174,"end":3179,"name":"error"},{"type":"Identifier","start":3181,"end":3189,"name":"complete"},{"type":"Identifier","start":3191,"end":3206,"name":"callerComponent"}],"body":{"type":"BlockStatement","start":3208,"end":3493,"body":[{"type":"VariableDeclaration","start":3218,"end":3318,"kind":"let","declarations":[{"type":"VariableDeclarator","start":3222,"end":3317,"id":{"type":"Identifier","start":3222,"end":3232,"name":"observable"},"init":{"type":"CallExpression","start":3235,"end":3317,"optional":false,"callee":{"type":"MemberExpression","start":3235,"end":3250,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3235,"end":3245,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3235,"end":3239},"property":{"type":"Identifier","start":3240,"end":3245,"name":"state"}},"property":{"type":"Identifier","start":3246,"end":3250,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":3251,"end":3316,"optional":false,"callee":{"type":"Identifier","start":3251,"end":3257,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":3258,"end":3315,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":3258,"end":3259,"name":"x"}],"body":{"type":"LogicalExpression","start":3263,"end":3315,"operator":"&&","left":{"type":"UnaryExpression","start":3263,"end":3284,"operator":"!","argument":{"type":"CallExpression","start":3264,"end":3284,"optional":false,"callee":{"type":"Identifier","start":3264,"end":3281,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":3282,"end":3283,"name":"x"}]},"prefix":true},"right":{"type":"UnaryExpression","start":3288,"end":3315,"operator":"!","argument":{"type":"MemberExpression","start":3289,"end":3315,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3289,"end":3293},"property":{"type":"Identifier","start":3294,"end":3315,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]}]}}]},{"type":"ReturnStatement","start":3327,"end":3487,"argument":{"type":"CallExpression","start":3334,"end":3486,"optional":false,"callee":{"type":"MemberExpression","start":3334,"end":3358,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3334,"end":3338},"property":{"type":"Identifier","start":3339,"end":3358,"name":"prepareSubscription"}},"arguments":[{"type":"ObjectExpression","start":3359,"end":3485,"properties":[{"type":"Property","start":3373,"end":3383,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3373,"end":3383,"name":"observable"},"value":{"type":"Identifier","start":3373,"end":3383,"name":"observable"},"kind":"init"},{"type":"Property","start":3397,"end":3405,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3397,"end":3405,"name":"observer"},"value":{"type":"Identifier","start":3397,"end":3405,"name":"observer"},"kind":"init"},{"type":"Property","start":3419,"end":3424,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3419,"end":3424,"name":"error"},"value":{"type":"Identifier","start":3419,"end":3424,"name":"error"},"kind":"init"},{"type":"Property","start":3438,"end":3446,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3438,"end":3446,"name":"complete"},"value":{"type":"Identifier","start":3438,"end":3446,"name":"complete"},"kind":"init"},{"type":"Property","start":3460,"end":3475,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3460,"end":3475,"name":"callerComponent"},"value":{"type":"Identifier","start":3460,"end":3475,"name":"callerComponent"},"kind":"init"}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":3498,"end":3860,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":3498,"end":3506,"name":"onChange"},"value":{"type":"FunctionExpression","start":3506,"end":3860,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":3507,"end":3515,"name":"observer"},{"type":"Identifier","start":3517,"end":3522,"name":"error"},{"type":"Identifier","start":3524,"end":3532,"name":"complete"},{"type":"Identifier","start":3534,"end":3549,"name":"callerComponent"}],"body":{"type":"BlockStatement","start":3551,"end":3860,"body":[{"type":"VariableDeclaration","start":3561,"end":3685,"kind":"let","declarations":[{"type":"VariableDeclarator","start":3565,"end":3684,"id":{"type":"Identifier","start":3565,"end":3575,"name":"observable"},"init":{"type":"CallExpression","start":3578,"end":3684,"optional":false,"callee":{"type":"MemberExpression","start":3578,"end":3593,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3578,"end":3588,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3578,"end":3582},"property":{"type":"Identifier","start":3583,"end":3588,"name":"state"}},"property":{"type":"Identifier","start":3589,"end":3593,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":3594,"end":3616,"optional":false,"callee":{"type":"Identifier","start":3594,"end":3614,"name":"distinctUntilChanged"},"arguments":[]},{"type":"CallExpression","start":3618,"end":3683,"optional":false,"callee":{"type":"Identifier","start":3618,"end":3624,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":3625,"end":3682,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":3625,"end":3626,"name":"x"}],"body":{"type":"LogicalExpression","start":3630,"end":3682,"operator":"&&","left":{"type":"UnaryExpression","start":3630,"end":3651,"operator":"!","argument":{"type":"CallExpression","start":3631,"end":3651,"optional":false,"callee":{"type":"Identifier","start":3631,"end":3648,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":3649,"end":3650,"name":"x"}]},"prefix":true},"right":{"type":"UnaryExpression","start":3655,"end":3682,"operator":"!","argument":{"type":"MemberExpression","start":3656,"end":3682,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3656,"end":3660},"property":{"type":"Identifier","start":3661,"end":3682,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]}]}}]},{"type":"ReturnStatement","start":3694,"end":3854,"argument":{"type":"CallExpression","start":3701,"end":3853,"optional":false,"callee":{"type":"MemberExpression","start":3701,"end":3725,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3701,"end":3705},"property":{"type":"Identifier","start":3706,"end":3725,"name":"prepareSubscription"}},"arguments":[{"type":"ObjectExpression","start":3726,"end":3852,"properties":[{"type":"Property","start":3740,"end":3750,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3740,"end":3750,"name":"observable"},"value":{"type":"Identifier","start":3740,"end":3750,"name":"observable"},"kind":"init"},{"type":"Property","start":3764,"end":3772,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3764,"end":3772,"name":"observer"},"value":{"type":"Identifier","start":3764,"end":3772,"name":"observer"},"kind":"init"},{"type":"Property","start":3786,"end":3791,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3786,"end":3791,"name":"error"},"value":{"type":"Identifier","start":3786,"end":3791,"name":"error"},"kind":"init"},{"type":"Property","start":3805,"end":3813,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3805,"end":3813,"name":"complete"},"value":{"type":"Identifier","start":3805,"end":3813,"name":"complete"},"kind":"init"},{"type":"Property","start":3827,"end":3842,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3827,"end":3842,"name":"callerComponent"},"value":{"type":"Identifier","start":3827,"end":3842,"name":"callerComponent"},"kind":"init"}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":3865,"end":4370,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":3865,"end":3875,"name":"onValueSet"},"value":{"type":"FunctionExpression","start":3875,"end":4370,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":3876,"end":3879,"name":"key"},{"type":"Identifier","start":3881,"end":3889,"name":"observer"},{"type":"Identifier","start":3891,"end":3896,"name":"error"},{"type":"Identifier","start":3898,"end":3906,"name":"complete"},{"type":"Identifier","start":3908,"end":3919,"name":"filterValue"},{"type":"Identifier","start":3921,"end":3936,"name":"callerComponent"}],"body":{"type":"BlockStatement","start":3938,"end":4370,"body":[{"type":"VariableDeclaration","start":3948,"end":4026,"kind":"let","declarations":[{"type":"VariableDeclarator","start":3952,"end":4025,"id":{"type":"Identifier","start":3952,"end":3967,"name":"isValueFiltered"},"init":{"type":"ConditionalExpression","start":3970,"end":4025,"test":{"type":"BinaryExpression","start":3971,"end":4003,"operator":"===","left":{"type":"UnaryExpression","start":3971,"end":3989,"operator":"typeof","argument":{"type":"Identifier","start":3978,"end":3989,"name":"filterValue"},"prefix":true},"right":{"type":"Literal","start":3994,"end":4003,"value":"boolean","raw":"'boolean'"}},"consequent":{"type":"Identifier","start":4007,"end":4018,"name":"filterValue"},"alternate":{"type":"Literal","start":4021,"end":4025,"value":true,"raw":"true"}}}]},{"type":"VariableDeclaration","start":4035,"end":4195,"kind":"let","declarations":[{"type":"VariableDeclarator","start":4039,"end":4194,"id":{"type":"Identifier","start":4039,"end":4049,"name":"observable"},"init":{"type":"CallExpression","start":4052,"end":4194,"optional":false,"callee":{"type":"MemberExpression","start":4052,"end":4067,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4052,"end":4062,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4052,"end":4056},"property":{"type":"Identifier","start":4057,"end":4062,"name":"state"}},"property":{"type":"Identifier","start":4063,"end":4067,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":4068,"end":4092,"optional":false,"callee":{"type":"Identifier","start":4068,"end":4071,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":4072,"end":4091,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":4072,"end":4077,"name":"value"}],"body":{"type":"MemberExpression","start":4081,"end":4091,"computed":true,"optional":false,"object":{"type":"Identifier","start":4081,"end":4086,"name":"value"},"property":{"type":"Identifier","start":4087,"end":4090,"name":"key"}},"id":null}]},{"type":"ConditionalExpression","start":4094,"end":4193,"test":{"type":"Identifier","start":4094,"end":4109,"name":"isValueFiltered"},"consequent":{"type":"CallExpression","start":4112,"end":4185,"optional":false,"callee":{"type":"Identifier","start":4112,"end":4118,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":4119,"end":4184,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":4119,"end":4124,"name":"value"}],"body":{"type":"LogicalExpression","start":4128,"end":4184,"operator":"&&","left":{"type":"UnaryExpression","start":4128,"end":4153,"operator":"!","argument":{"type":"CallExpression","start":4129,"end":4153,"optional":false,"callee":{"type":"Identifier","start":4129,"end":4146,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":4147,"end":4152,"name":"value"}]},"prefix":true},"right":{"type":"UnaryExpression","start":4157,"end":4184,"operator":"!","argument":{"type":"MemberExpression","start":4158,"end":4184,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4158,"end":4162},"property":{"type":"Identifier","start":4163,"end":4184,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]},"alternate":{"type":"CallExpression","start":4188,"end":4193,"optional":false,"callee":{"type":"Identifier","start":4188,"end":4191,"name":"tap"},"arguments":[]}}]}}]},{"type":"ReturnStatement","start":4204,"end":4364,"argument":{"type":"CallExpression","start":4211,"end":4363,"optional":false,"callee":{"type":"MemberExpression","start":4211,"end":4235,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4211,"end":4215},"property":{"type":"Identifier","start":4216,"end":4235,"name":"prepareSubscription"}},"arguments":[{"type":"ObjectExpression","start":4236,"end":4362,"properties":[{"type":"Property","start":4250,"end":4260,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4250,"end":4260,"name":"observable"},"value":{"type":"Identifier","start":4250,"end":4260,"name":"observable"},"kind":"init"},{"type":"Property","start":4274,"end":4282,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4274,"end":4282,"name":"observer"},"value":{"type":"Identifier","start":4274,"end":4282,"name":"observer"},"kind":"init"},{"type":"Property","start":4296,"end":4301,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4296,"end":4301,"name":"error"},"value":{"type":"Identifier","start":4296,"end":4301,"name":"error"},"kind":"init"},{"type":"Property","start":4315,"end":4323,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4315,"end":4323,"name":"complete"},"value":{"type":"Identifier","start":4315,"end":4323,"name":"complete"},"kind":"init"},{"type":"Property","start":4337,"end":4352,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4337,"end":4352,"name":"callerComponent"},"value":{"type":"Identifier","start":4337,"end":4352,"name":"callerComponent"},"kind":"init"}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":4375,"end":4907,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":4375,"end":4388,"name":"onValueChange"},"value":{"type":"FunctionExpression","start":4388,"end":4907,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":4389,"end":4392,"name":"key"},{"type":"Identifier","start":4394,"end":4402,"name":"observer"},{"type":"Identifier","start":4404,"end":4409,"name":"error"},{"type":"Identifier","start":4411,"end":4419,"name":"complete"},{"type":"Identifier","start":4421,"end":4432,"name":"filterValue"},{"type":"Identifier","start":4434,"end":4449,"name":"callerComponent"}],"body":{"type":"BlockStatement","start":4451,"end":4907,"body":[{"type":"VariableDeclaration","start":4461,"end":4539,"kind":"let","declarations":[{"type":"VariableDeclarator","start":4465,"end":4538,"id":{"type":"Identifier","start":4465,"end":4480,"name":"isValueFiltered"},"init":{"type":"ConditionalExpression","start":4483,"end":4538,"test":{"type":"BinaryExpression","start":4484,"end":4516,"operator":"===","left":{"type":"UnaryExpression","start":4484,"end":4502,"operator":"typeof","argument":{"type":"Identifier","start":4491,"end":4502,"name":"filterValue"},"prefix":true},"right":{"type":"Literal","start":4507,"end":4516,"value":"boolean","raw":"'boolean'"}},"consequent":{"type":"Identifier","start":4520,"end":4531,"name":"filterValue"},"alternate":{"type":"Literal","start":4534,"end":4538,"value":true,"raw":"true"}}}]},{"type":"VariableDeclaration","start":4548,"end":4732,"kind":"let","declarations":[{"type":"VariableDeclarator","start":4552,"end":4731,"id":{"type":"Identifier","start":4552,"end":4562,"name":"observable"},"init":{"type":"CallExpression","start":4565,"end":4731,"optional":false,"callee":{"type":"MemberExpression","start":4565,"end":4580,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4565,"end":4575,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4565,"end":4569},"property":{"type":"Identifier","start":4570,"end":4575,"name":"state"}},"property":{"type":"Identifier","start":4576,"end":4580,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":4581,"end":4605,"optional":false,"callee":{"type":"Identifier","start":4581,"end":4584,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":4585,"end":4604,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":4585,"end":4590,"name":"value"}],"body":{"type":"MemberExpression","start":4594,"end":4604,"computed":true,"optional":false,"object":{"type":"Identifier","start":4594,"end":4599,"name":"value"},"property":{"type":"Identifier","start":4600,"end":4603,"name":"key"}},"id":null}]},{"type":"ConditionalExpression","start":4607,"end":4706,"test":{"type":"Identifier","start":4607,"end":4622,"name":"isValueFiltered"},"consequent":{"type":"CallExpression","start":4625,"end":4698,"optional":false,"callee":{"type":"Identifier","start":4625,"end":4631,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":4632,"end":4697,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":4632,"end":4637,"name":"value"}],"body":{"type":"LogicalExpression","start":4641,"end":4697,"operator":"&&","left":{"type":"UnaryExpression","start":4641,"end":4666,"operator":"!","argument":{"type":"CallExpression","start":4642,"end":4666,"optional":false,"callee":{"type":"Identifier","start":4642,"end":4659,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":4660,"end":4665,"name":"value"}]},"prefix":true},"right":{"type":"UnaryExpression","start":4670,"end":4697,"operator":"!","argument":{"type":"MemberExpression","start":4671,"end":4697,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4671,"end":4675},"property":{"type":"Identifier","start":4676,"end":4697,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]},"alternate":{"type":"CallExpression","start":4701,"end":4706,"optional":false,"callee":{"type":"Identifier","start":4701,"end":4704,"name":"tap"},"arguments":[]}},{"type":"CallExpression","start":4708,"end":4730,"optional":false,"callee":{"type":"Identifier","start":4708,"end":4728,"name":"distinctUntilChanged"},"arguments":[]}]}}]},{"type":"ReturnStatement","start":4741,"end":4901,"argument":{"type":"CallExpression","start":4748,"end":4900,"optional":false,"callee":{"type":"MemberExpression","start":4748,"end":4772,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4748,"end":4752},"property":{"type":"Identifier","start":4753,"end":4772,"name":"prepareSubscription"}},"arguments":[{"type":"ObjectExpression","start":4773,"end":4899,"properties":[{"type":"Property","start":4787,"end":4797,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4787,"end":4797,"name":"observable"},"value":{"type":"Identifier","start":4787,"end":4797,"name":"observable"},"kind":"init"},{"type":"Property","start":4811,"end":4819,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4811,"end":4819,"name":"observer"},"value":{"type":"Identifier","start":4811,"end":4819,"name":"observer"},"kind":"init"},{"type":"Property","start":4833,"end":4838,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4833,"end":4838,"name":"error"},"value":{"type":"Identifier","start":4833,"end":4838,"name":"error"},"kind":"init"},{"type":"Property","start":4852,"end":4860,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4852,"end":4860,"name":"complete"},"value":{"type":"Identifier","start":4852,"end":4860,"name":"complete"},"kind":"init"},{"type":"Property","start":4874,"end":4889,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4874,"end":4889,"name":"callerComponent"},"value":{"type":"Identifier","start":4874,"end":4889,"name":"callerComponent"},"kind":"init"}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":4912,"end":5232,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":4912,"end":4925,"name":"onFirstChange"},"value":{"type":"FunctionExpression","start":4925,"end":5232,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":4926,"end":4934,"name":"observer"},{"type":"Identifier","start":4936,"end":4941,"name":"error"},{"type":"Identifier","start":4943,"end":4951,"name":"complete"}],"body":{"type":"BlockStatement","start":4953,"end":5232,"body":[{"type":"VariableDeclaration","start":4963,"end":5086,"kind":"const","declarations":[{"type":"VariableDeclarator","start":4969,"end":5085,"id":{"type":"Identifier","start":4969,"end":4979,"name":"observable"},"init":{"type":"CallExpression","start":4982,"end":5085,"optional":false,"callee":{"type":"MemberExpression","start":4982,"end":4997,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4982,"end":4992,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4982,"end":4986},"property":{"type":"Identifier","start":4987,"end":4992,"name":"state"}},"property":{"type":"Identifier","start":4993,"end":4997,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":4998,"end":5075,"optional":false,"callee":{"type":"Identifier","start":4998,"end":5004,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":5005,"end":5074,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":5005,"end":5006,"name":"x"}],"body":{"type":"LogicalExpression","start":5010,"end":5074,"operator":"&&","left":{"type":"UnaryExpression","start":5010,"end":5031,"operator":"!","argument":{"type":"CallExpression","start":5011,"end":5031,"optional":false,"callee":{"type":"Identifier","start":5011,"end":5028,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":5029,"end":5030,"name":"x"}]},"prefix":true},"right":{"type":"UnaryExpression","start":5047,"end":5074,"operator":"!","argument":{"type":"MemberExpression","start":5048,"end":5074,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5048,"end":5052},"property":{"type":"Identifier","start":5053,"end":5074,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]},{"type":"CallExpression","start":5077,"end":5084,"optional":false,"callee":{"type":"Identifier","start":5077,"end":5082,"name":"first"},"arguments":[]}]}}]},{"type":"ReturnStatement","start":5095,"end":5226,"argument":{"type":"CallExpression","start":5102,"end":5225,"optional":false,"callee":{"type":"MemberExpression","start":5102,"end":5126,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5102,"end":5106},"property":{"type":"Identifier","start":5107,"end":5126,"name":"prepareSubscription"}},"arguments":[{"type":"ObjectExpression","start":5127,"end":5224,"properties":[{"type":"Property","start":5141,"end":5151,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5141,"end":5151,"name":"observable"},"value":{"type":"Identifier","start":5141,"end":5151,"name":"observable"},"kind":"init"},{"type":"Property","start":5165,"end":5173,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5165,"end":5173,"name":"observer"},"value":{"type":"Identifier","start":5165,"end":5173,"name":"observer"},"kind":"init"},{"type":"Property","start":5187,"end":5192,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5187,"end":5192,"name":"error"},"value":{"type":"Identifier","start":5187,"end":5192,"name":"error"},"kind":"init"},{"type":"Property","start":5206,"end":5214,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5206,"end":5214,"name":"complete"},"value":{"type":"Identifier","start":5206,"end":5214,"name":"complete"},"kind":"init"}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":5237,"end":5606,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":5237,"end":5258,"name":"onFirstNonEmptyChange"},"value":{"type":"FunctionExpression","start":5258,"end":5606,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":5259,"end":5267,"name":"observer"},{"type":"Identifier","start":5269,"end":5274,"name":"error"},{"type":"Identifier","start":5276,"end":5284,"name":"complete"}],"body":{"type":"BlockStatement","start":5286,"end":5606,"body":[{"type":"VariableDeclaration","start":5296,"end":5460,"kind":"const","declarations":[{"type":"VariableDeclarator","start":5302,"end":5459,"id":{"type":"Identifier","start":5302,"end":5312,"name":"observable"},"init":{"type":"CallExpression","start":5315,"end":5459,"optional":false,"callee":{"type":"MemberExpression","start":5315,"end":5330,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":5315,"end":5325,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5315,"end":5319},"property":{"type":"Identifier","start":5320,"end":5325,"name":"state"}},"property":{"type":"Identifier","start":5326,"end":5330,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":5331,"end":5449,"optional":false,"callee":{"type":"Identifier","start":5331,"end":5337,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":5338,"end":5448,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":5338,"end":5339,"name":"x"}],"body":{"type":"LogicalExpression","start":5343,"end":5448,"operator":"&&","left":{"type":"LogicalExpression","start":5343,"end":5405,"operator":"&&","left":{"type":"UnaryExpression","start":5343,"end":5364,"operator":"!","argument":{"type":"CallExpression","start":5344,"end":5364,"optional":false,"callee":{"type":"Identifier","start":5344,"end":5361,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":5362,"end":5363,"name":"x"}]},"prefix":true},"right":{"type":"BinaryExpression","start":5380,"end":5405,"operator":">","left":{"type":"MemberExpression","start":5380,"end":5401,"computed":false,"optional":false,"object":{"type":"CallExpression","start":5380,"end":5394,"optional":false,"callee":{"type":"MemberExpression","start":5380,"end":5391,"computed":false,"optional":false,"object":{"type":"Identifier","start":5380,"end":5386,"name":"Object"},"property":{"type":"Identifier","start":5387,"end":5391,"name":"keys"}},"arguments":[{"type":"Identifier","start":5392,"end":5393,"name":"x"}]},"property":{"type":"Identifier","start":5395,"end":5401,"name":"length"}},"right":{"type":"Literal","start":5404,"end":5405,"raw":"0","value":0}}},"right":{"type":"UnaryExpression","start":5421,"end":5448,"operator":"!","argument":{"type":"MemberExpression","start":5422,"end":5448,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5422,"end":5426},"property":{"type":"Identifier","start":5427,"end":5448,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]},{"type":"CallExpression","start":5451,"end":5458,"optional":false,"callee":{"type":"Identifier","start":5451,"end":5456,"name":"first"},"arguments":[]}]}}]},{"type":"ReturnStatement","start":5469,"end":5600,"argument":{"type":"CallExpression","start":5476,"end":5599,"optional":false,"callee":{"type":"MemberExpression","start":5476,"end":5500,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5476,"end":5480},"property":{"type":"Identifier","start":5481,"end":5500,"name":"prepareSubscription"}},"arguments":[{"type":"ObjectExpression","start":5501,"end":5598,"properties":[{"type":"Property","start":5515,"end":5525,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5515,"end":5525,"name":"observable"},"value":{"type":"Identifier","start":5515,"end":5525,"name":"observable"},"kind":"init"},{"type":"Property","start":5539,"end":5547,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5539,"end":5547,"name":"observer"},"value":{"type":"Identifier","start":5539,"end":5547,"name":"observer"},"kind":"init"},{"type":"Property","start":5561,"end":5566,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5561,"end":5566,"name":"error"},"value":{"type":"Identifier","start":5561,"end":5566,"name":"error"},"kind":"init"},{"type":"Property","start":5580,"end":5588,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5580,"end":5588,"name":"complete"},"value":{"type":"Identifier","start":5580,"end":5588,"name":"complete"},"kind":"init"}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":5611,"end":6003,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":5611,"end":5629,"name":"onFromSecondChange"},"value":{"type":"FunctionExpression","start":5629,"end":6003,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":5630,"end":5638,"name":"observer"},{"type":"Identifier","start":5640,"end":5645,"name":"error"},{"type":"Identifier","start":5647,"end":5655,"name":"complete"},{"type":"Identifier","start":5657,"end":5672,"name":"callerComponent"}],"body":{"type":"BlockStatement","start":5674,"end":6003,"body":[{"type":"VariableDeclaration","start":5684,"end":5828,"kind":"const","declarations":[{"type":"VariableDeclarator","start":5690,"end":5827,"id":{"type":"Identifier","start":5690,"end":5700,"name":"observable"},"init":{"type":"CallExpression","start":5703,"end":5827,"optional":false,"callee":{"type":"MemberExpression","start":5703,"end":5718,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":5703,"end":5713,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5703,"end":5707},"property":{"type":"Identifier","start":5708,"end":5713,"name":"state"}},"property":{"type":"Identifier","start":5714,"end":5718,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":5719,"end":5750,"optional":false,"callee":{"type":"Identifier","start":5719,"end":5733,"name":"untilDestroyed"},"arguments":[{"type":"Identifier","start":5734,"end":5749,"name":"callerComponent"}]},{"type":"CallExpression","start":5752,"end":5817,"optional":false,"callee":{"type":"Identifier","start":5752,"end":5758,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":5759,"end":5816,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":5759,"end":5760,"name":"x"}],"body":{"type":"LogicalExpression","start":5764,"end":5816,"operator":"&&","left":{"type":"UnaryExpression","start":5764,"end":5785,"operator":"!","argument":{"type":"CallExpression","start":5765,"end":5785,"optional":false,"callee":{"type":"Identifier","start":5765,"end":5782,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":5783,"end":5784,"name":"x"}]},"prefix":true},"right":{"type":"UnaryExpression","start":5789,"end":5816,"operator":"!","argument":{"type":"MemberExpression","start":5790,"end":5816,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5790,"end":5794},"property":{"type":"Identifier","start":5795,"end":5816,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]},{"type":"CallExpression","start":5819,"end":5826,"optional":false,"callee":{"type":"Identifier","start":5819,"end":5823,"name":"skip"},"arguments":[{"type":"Literal","start":5824,"end":5825,"raw":"1","value":1}]}]}}]},{"type":"ReturnStatement","start":5837,"end":5997,"argument":{"type":"CallExpression","start":5844,"end":5996,"optional":false,"callee":{"type":"MemberExpression","start":5844,"end":5868,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5844,"end":5848},"property":{"type":"Identifier","start":5849,"end":5868,"name":"prepareSubscription"}},"arguments":[{"type":"ObjectExpression","start":5869,"end":5995,"properties":[{"type":"Property","start":5883,"end":5893,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5883,"end":5893,"name":"observable"},"value":{"type":"Identifier","start":5883,"end":5893,"name":"observable"},"kind":"init"},{"type":"Property","start":5907,"end":5915,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5907,"end":5915,"name":"observer"},"value":{"type":"Identifier","start":5907,"end":5915,"name":"observer"},"kind":"init"},{"type":"Property","start":5929,"end":5934,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5929,"end":5934,"name":"error"},"value":{"type":"Identifier","start":5929,"end":5934,"name":"error"},"kind":"init"},{"type":"Property","start":5948,"end":5956,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5948,"end":5956,"name":"complete"},"value":{"type":"Identifier","start":5948,"end":5956,"name":"complete"},"kind":"init"},{"type":"Property","start":5970,"end":5985,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5970,"end":5985,"name":"callerComponent"},"value":{"type":"Identifier","start":5970,"end":5985,"name":"callerComponent"},"kind":"init"}]}]}}]},"expression":false},"kind":"method"}]}}}],"_rollupRemoved":[{"end":29896,"start":6006,"type":"sourcemap"}],"sourceType":"module"},"attributes":{},"code":"import { BehaviorSubject } from \"rxjs\";\nimport { untilDestroyed } from \"@ngneat/until-destroy\";\nimport { distinctUntilChanged, filter, first, map, skip, tap } from \"rxjs/operators\";\nimport { isNullOrUndefined } from \"../helpers/type.helper\";\nimport { BaseState } from \"./base-state\";\nexport class KeyValueState extends BaseState {\n    _subject;\n    _keySeparator = '####';\n    get state() {\n        return this._subject.asObservable();\n    }\n    stateOfKey(key, changedStateOnly = true) {\n        const state = this.state.pipe(filter(record => !isNullOrUndefined(record) &&\n            !isNullOrUndefined(record[key]) && !this.bypassChangeDetection), map(record => record[key]));\n        if (changedStateOnly) {\n            return state.pipe(distinctUntilChanged());\n        }\n        return state;\n    }\n    stateOfKeys(...keys) {\n        return this.stateOfKey(keys.join(this._keySeparator));\n    }\n    hasKey(key, exactMatch = true) {\n        return this.state.pipe(map(record => {\n            if (typeof key === 'string' && !exactMatch) {\n                return Object.keys(record).some(k => k.includes(key));\n            }\n            else {\n                return key in record;\n            }\n        }), distinctUntilChanged());\n    }\n    get keys() {\n        return Object.keys(this.value);\n    }\n    getKeysOfIndex(keyIndex) {\n        return this.keys.map(key => key.toString().split(this._keySeparator)[keyIndex]);\n    }\n    get toArray() {\n        return Object.values(this.value);\n    }\n    get length() {\n        return this.toArray.length;\n    }\n    get toArrayState() {\n        return this.state.pipe(map(x => Object.values(x)));\n    }\n    get value() {\n        return this._subject.getValue();\n    }\n    constructor(initialValue) {\n        super();\n        this._subject = new BehaviorSubject(initialValue ?? {});\n    }\n    getValue(key) {\n        return this.value[key];\n    }\n    getValueByKeys(...keys) {\n        return this.value[keys.map(String).join(this._keySeparator)];\n    }\n    setValue(key, value, bypassChangeDetection = false) {\n        this.bypassChangeDetection = bypassChangeDetection;\n        const newSet = { ...this.value };\n        newSet[key] = value;\n        this._subject.next(newSet);\n        return this.state;\n    }\n    setValueByKeys(value, bypassChangeDetection = false, ...keys) {\n        return this.setValue(keys.join(this._keySeparator), value, bypassChangeDetection);\n    }\n    unset(key, bypassChangeDetection = false) {\n        this.bypassChangeDetection = bypassChangeDetection;\n        const newSet = this.value;\n        delete newSet[key];\n        this._subject.next(newSet);\n        return this.state;\n    }\n    unsetByKeys(bypassChangeDetection = false, ...keys) {\n        return this.unset(keys.join(this._keySeparator), bypassChangeDetection);\n    }\n    reset(bypassChangeDetection = false) {\n        this.bypassChangeDetection = bypassChangeDetection;\n        this._subject.next({});\n        return this.state;\n    }\n    set(record, bypassChangeDetection = false) {\n        this.bypassChangeDetection = bypassChangeDetection;\n        this._subject.next(record);\n        return this.state;\n    }\n    onSet(observer, error, complete, callerComponent) {\n        let observable = this.state.pipe(filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    onChange(observer, error, complete, callerComponent) {\n        let observable = this.state.pipe(distinctUntilChanged(), filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    onValueSet(key, observer, error, complete, filterValue, callerComponent) {\n        let isValueFiltered = (typeof filterValue === 'boolean') ? filterValue : true;\n        let observable = this.state.pipe(map(value => value[key]), isValueFiltered ? filter(value => !isNullOrUndefined(value) && !this.bypassChangeDetection) : tap());\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    onValueChange(key, observer, error, complete, filterValue, callerComponent) {\n        let isValueFiltered = (typeof filterValue === 'boolean') ? filterValue : true;\n        let observable = this.state.pipe(map(value => value[key]), isValueFiltered ? filter(value => !isNullOrUndefined(value) && !this.bypassChangeDetection) : tap(), distinctUntilChanged());\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    onFirstChange(observer, error, complete) {\n        const observable = this.state.pipe(filter(x => !isNullOrUndefined(x) &&\n            !this.bypassChangeDetection), first());\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete\n        });\n    }\n    onFirstNonEmptyChange(observer, error, complete) {\n        const observable = this.state.pipe(filter(x => !isNullOrUndefined(x) &&\n            Object.keys(x).length > 0 &&\n            !this.bypassChangeDetection), first());\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete\n        });\n    }\n    onFromSecondChange(observer, error, complete, callerComponent) {\n        const observable = this.state.pipe(untilDestroyed(callerComponent), filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection), skip(1));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoia2V5LXZhbHVlLXN0YXRlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbmd4LXN0YXRlcy9zcmMvbGliL3N0YXRlcy9rZXktdmFsdWUtc3RhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGVBQWUsRUFBNkMsTUFBTSxNQUFNLENBQUM7QUFDbEYsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDckYsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDM0QsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUV6QyxNQUFNLE9BQU8sYUFBMkQsU0FBUSxTQUFTO0lBRS9FLFFBQVEsQ0FBc0M7SUFDckMsYUFBYSxHQUFHLE1BQU0sQ0FBQztJQUV4QyxJQUFXLEtBQUs7UUFDZCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDdEMsQ0FBQztJQUVNLFVBQVUsQ0FBQyxHQUFRLEVBQUUsZ0JBQWdCLEdBQUcsSUFBSTtRQUNqRCxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FDM0IsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQ2QsQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUM7WUFDNUIsQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxFQUMvRCxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFVLENBQUMsQ0FDcEMsQ0FBQztRQUVGLElBQUksZ0JBQWdCLEVBQUUs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cUIsQ0FBQyxFQUNqRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQ1IsQ0FBQztRQUNGLE9BQU8sSUFBSSxDQUFDLG1CQUFtQixDQUFDO1lBQzlCLFVBQVU7WUFDVixRQUFRO1lBQ1IsS0FBSztZQUNMLFFBQVE7WUFDUixlQUFlO1NBQ2hCLENBQUMsQ0FBQztJQUNMLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgT2JzZXJ2YWJsZSwgUGFydGlhbE9ic2VydmVyLCBTdWJzY3JpcHRpb24gfSBmcm9tIFwicnhqc1wiO1xuaW1wb3J0IHsgdW50aWxEZXN0cm95ZWQgfSBmcm9tIFwiQG5nbmVhdC91bnRpbC1kZXN0cm95XCI7XG5pbXBvcnQgeyBkaXN0aW5jdFVudGlsQ2hhbmdlZCwgZmlsdGVyLCBmaXJzdCwgbWFwLCBza2lwLCB0YXAgfSBmcm9tIFwicnhqcy9vcGVyYXRvcnNcIjtcbmltcG9ydCB7IGlzTnVsbE9yVW5kZWZpbmVkIH0gZnJvbSBcIi4uL2hlbHBlcnMvdHlwZS5oZWxwZXJcIjtcbmltcG9ydCB7IEJhc2VTdGF0ZSB9IGZyb20gXCIuL2Jhc2Utc3RhdGVcIjtcblxuZXhwb3J0IGNsYXNzIEtleVZhbHVlU3RhdGU8S0VZIGV4dGVuZHMgc3RyaW5nIHwgbnVtYmVyIHwgc3ltYm9sLCBWQUxVRT4gZXh0ZW5kcyBCYXNlU3RhdGUge1xuXG4gIHByaXZhdGUgX3N1YmplY3Q6IEJlaGF2aW9yU3ViamVjdDxSZWNvcmQ8S0VZLCBWQUxVRT4+O1xuICBwcml2YXRlIHJlYWRvbmx5IF9rZXlTZXBhcmF0b3IgPSAnIyMjIyc7XG5cbiAgcHVibGljIGdldCBzdGF0ZSgpOiBPYnNlcnZhYmxlPFJlY29yZDxLRVksIFZBTFVFPj4ge1xuICAgIHJldHVybiB0aGlzLl9zdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuICB9XG5cbiAgcHVibGljIHN0YXRlT2ZLZXkoa2V5OiBLRVksIGNoYW5nZWRTdGF0ZU9ubHkgPSB0cnVlKTogT2JzZXJ2YWJsZTxWQUxVRT4ge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdGF0ZS5waXBlKFxuICAgICAgZmlsdGVyKHJlY29yZCA9PlxuICAgICAgICAhaXNOdWxsT3JVbmRlZmluZWQocmVjb3JkKSAmJlxuICAgICAgIWlzTnVsbE9yVW5kZWZpbmVkKHJlY29yZFtrZXldKSAmJiAhdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24pLFxuICAgICAgbWFwKHJlY29yZCA9PiByZWNvcmRba2V5XSBhcyBWQUxVRSlcbiAgICApO1xuXG4gICAgaWYgKGNoYW5nZWRTdGF0ZU9ubHkpIHtcbiAgICAgIHJldHVybiBzdGF0ZS5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpXG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YXRlO1xuICB9XG5cbiAgcHVibGljIHN0YXRlT2ZLZXlzKC4uLmtleXM6IGFueVtdKTogT2JzZXJ2YWJsZTxWQUxVRT4ge1xuICAgIHJldHVybiB0aGlzLnN0YXRlT2ZLZXkoa2V5cy5qb2luKHRoaXMuX2tleVNlcGFyYXRvcikgYXMgS0VZKTtcbiAgfVxuXG4gIHB1YmxpYyBoYXNLZXkoa2V5OiBLRVksIGV4YWN0TWF0Y2ggPSB0cnVlKTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS5waXBlKFxuICAgICAgICBtYXAocmVjb3JkID0+IHtcbiAgICAgICAgICBpZiAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycgJiYgIWV4YWN0TWF0Y2gpIHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhyZWNvcmQpLnNvbWUoayA9PiBrLmluY2x1ZGVzKGtleSkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ga2V5IGluIHJlY29yZDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpXG4gICAgICApO1xuICB9XG5cbiAgcHVibGljIGdldCBrZXlzKCk6IEtFWVtdIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy52YWx1ZSkgYXMgS0VZW107XG4gIH1cblxuICBwdWJsaWMgZ2V0S2V5c09mSW5kZXgoa2V5SW5kZXg6IG51bWJlcik6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gdGhpcy5rZXlzLm1hcChrZXkgPT4ga2V5LnRvU3RyaW5nKCkuc3BsaXQodGhpcy5fa2V5U2VwYXJhdG9yKVtrZXlJbmRleF0pO1xuICB9XG5cbiAgcHVibGljIGdldCB0b0FycmF5KCk6IFZBTFVFW10ge1xuICAgIHJldHVybiBPYmplY3QudmFsdWVzKHRoaXMudmFsdWUpO1xuICB9XG5cbiAgcHVibGljIGdldCBsZW5ndGgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy50b0FycmF5Lmxlbmd0aDtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgdG9BcnJheVN0YXRlKCk6IE9ic2VydmFibGU8VkFMVUVbXT4ge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLnBpcGUobWFwKHggPT4gT2JqZWN0LnZhbHVlcyh4KSBhcyB1bmtub3duIGFzIFZBTFVFW10pKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgdmFsdWUoKTogUmVjb3JkPEtFWSwgVkFMVUU+IHtcbiAgICByZXR1cm4gdGhpcy5fc3ViamVjdC5nZXRWYWx1ZSgpO1xuICB9XG5cbiAgY29uc3RydWN0b3IoaW5pdGlhbFZhbHVlPzogUmVjb3JkPEtFWSwgVkFMVUU+KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9zdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxSZWNvcmQ8S0VZLCBWQUxVRT4+KGluaXRpYWxWYWx1ZSA/PyB7fSBhcyBSZWNvcmQ8S0VZLCBWQUxVRT4pO1xuICB9XG5cbiAgcHVibGljIGdldFZhbHVlKGtleTogS0VZKTogVkFMVUUge1xuICAgIHJldHVybiB0aGlzLnZhbHVlW2tleV07XG4gIH1cblxuICBwdWJsaWMgZ2V0VmFsdWVCeUtleXMoLi4ua2V5czogYW55W10pOiBWQUxVRSB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWVba2V5cy5tYXAoU3RyaW5nKS5qb2luKHRoaXMuX2tleVNlcGFyYXRvcikgYXMgS0VZXTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRWYWx1ZShrZXk6IEtFWSwgdmFsdWU6IFZBTFVFLCBieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBmYWxzZSk6IE9ic2VydmFibGU8UmVjb3JkPEtFWSwgVkFMVUU+PiB7XG4gICAgdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBieXBhc3NDaGFuZ2VEZXRlY3Rpb247XG4gICAgY29uc3QgbmV3U2V0ID0gey4uLnRoaXMudmFsdWV9O1xuICAgIG5ld1NldFtrZXldID0gdmFsdWU7XG4gICAgdGhpcy5fc3ViamVjdC5uZXh0KG5ld1NldCk7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gIH1cblxuICBwdWJsaWMgc2V0VmFsdWVCeUtleXModmFsdWU6IFZBTFVFLCBieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBmYWxzZSwgLi4ua2V5czogYW55W10pOiBPYnNlcnZhYmxlPFJlY29yZDxLRVksIFZBTFVFPj4ge1xuICAgIHJldHVybiB0aGlzLnNldFZhbHVlKGtleXMuam9pbih0aGlzLl9rZXlTZXBhcmF0b3IpIGFzIEtFWSwgdmFsdWUsIGJ5cGFzc0NoYW5nZURldGVjdGlvbik7XG4gIH1cblxuICBwdWJsaWMgdW5zZXQoa2V5OiBLRVksIGJ5cGFzc0NoYW5nZURldGVjdGlvbiA9IGZhbHNlKTogT2JzZXJ2YWJsZTxSZWNvcmQ8S0VZLCBWQUxVRT4+IHtcbiAgICB0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvbiA9IGJ5cGFzc0NoYW5nZURldGVjdGlvbjtcbiAgICBjb25zdCBuZXdTZXQgPSB0aGlzLnZhbHVlO1xuICAgIGRlbGV0ZSBuZXdTZXRba2V5XTtcbiAgICB0aGlzLl9zdWJqZWN0Lm5leHQobmV3U2V0KTtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgfVxuXG4gIHB1YmxpYyB1bnNldEJ5S2V5cyhieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBmYWxzZSwgLi4ua2V5czogYW55W10pOiBPYnNlcnZhYmxlPFJlY29yZDxLRVksIFZBTFVFPj4ge1xuICAgIHJldHVybiB0aGlzLnVuc2V0KGtleXMuam9pbih0aGlzLl9rZXlTZXBhcmF0b3IpIGFzIEtFWSwgYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uKTtcbiAgfVxuXG4gIHB1YmxpYyByZXNldChieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBmYWxzZSk6IE9ic2VydmFibGU8UmVjb3JkPEtFWSwgVkFMVUU+PiB7XG4gICAgdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBieXBhc3NDaGFuZ2VEZXRlY3Rpb247XG4gICAgdGhpcy5fc3ViamVjdC5uZXh0KHt9IGFzIFJlY29yZDxLRVksIFZBTFVFPik7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gIH1cblxuICBwdWJsaWMgc2V0KHJlY29yZDogUmVjb3JkPEtFWSwgVkFMVUU+LCBieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBmYWxzZSk6IE9ic2VydmFibGU8UmVjb3JkPEtFWSwgVkFMVUU+PiB7XG4gICAgdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBieXBhc3NDaGFuZ2VEZXRlY3Rpb247XG4gICAgdGhpcy5fc3ViamVjdC5uZXh0KHJlY29yZCk7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gIH1cblxuICBwdWJsaWMgb25TZXQoXG4gICAgb2JzZXJ2ZXI6ICh2YWx1ZTogUmVjb3JkPEtFWSwgVkFMVUU+KSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25TZXQoXG4gICAgb2JzZXJ2ZXI6ICh2YWx1ZTogUmVjb3JkPEtFWSwgVkFMVUU+KSA9PiB2b2lkLFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvblNldChcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBSZWNvcmQ8S0VZLCBWQUxVRT4pID0+IHZvaWQsXG4gICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICBjb21wbGV0ZT86ICgpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvblNldChcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFJlY29yZDxLRVksIFZBTFVFPj4sXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvblNldChvYnNlcnZlcj86ICgodmFsdWU6IFJlY29yZDxLRVksIFZBTFVFPikgPT4gdm9pZCkgfCBQYXJ0aWFsT2JzZXJ2ZXI8UmVjb3JkPEtFWSwgVkFMVUU+PiwgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCwgY29tcGxldGU/OiAoKSA9PiB2b2lkLCBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3QpOiBTdWJzY3JpcHRpb24ge1xuICAgIGxldCBvYnNlcnZhYmxlID0gdGhpcy5zdGF0ZS5waXBlKFxuICAgICAgZmlsdGVyKHggPT4gIWlzTnVsbE9yVW5kZWZpbmVkKHgpICYmICF0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvbilcbiAgICApO1xuXG4gICAgcmV0dXJuIHRoaXMucHJlcGFyZVN1YnNjcmlwdGlvbih7XG4gICAgICBvYnNlcnZhYmxlLFxuICAgICAgb2JzZXJ2ZXIsXG4gICAgICBlcnJvcixcbiAgICAgIGNvbXBsZXRlLFxuICAgICAgY2FsbGVyQ29tcG9uZW50XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgb25DaGFuZ2UoXG4gICAgb2JzZXJ2ZXI6ICh2YWx1ZTogUmVjb3JkPEtFWSwgVkFMVUU+KSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25DaGFuZ2UoXG4gICAgb2JzZXJ2ZXI6ICh2YWx1ZTogUmVjb3JkPEtFWSwgVkFMVUU+KSA9PiB2b2lkLFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvbkNoYW5nZShcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBSZWNvcmQ8S0VZLCBWQUxVRT4pID0+IHZvaWQsXG4gICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICBjb21wbGV0ZT86ICgpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvbkNoYW5nZShcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFJlY29yZDxLRVksIFZBTFVFPj4sXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvbkNoYW5nZShvYnNlcnZlcj86ICgodmFsdWU6IFJlY29yZDxLRVksIFZBTFVFPikgPT4gdm9pZCkgfCBQYXJ0aWFsT2JzZXJ2ZXI8UmVjb3JkPEtFWSwgVkFMVUU+PiwgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCwgY29tcGxldGU/OiAoKSA9PiB2b2lkLCBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3QpOiBTdWJzY3JpcHRpb24ge1xuICAgIGxldCBvYnNlcnZhYmxlID0gdGhpcy5zdGF0ZS5waXBlKFxuICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKSxcbiAgICAgIGZpbHRlcih4ID0+ICFpc051bGxPclVuZGVmaW5lZCh4KSAmJiAhdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24pXG4gICAgKTtcblxuICAgIHJldHVybiB0aGlzLnByZXBhcmVTdWJzY3JpcHRpb24oe1xuICAgICAgb2JzZXJ2YWJsZSxcbiAgICAgIG9ic2VydmVyLFxuICAgICAgZXJyb3IsXG4gICAgICBjb21wbGV0ZSxcbiAgICAgIGNhbGxlckNvbXBvbmVudFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIG9uVmFsdWVTZXQoXG4gICAga2V5OiBLRVksXG4gICAgb2JzZXJ2ZXI6ICh2YWx1ZTogVkFMVUUpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvblZhbHVlU2V0KFxuICAgIGtleTogS0VZLFxuICAgIG9ic2VydmVyOiAodmFsdWU6IFZBTFVFKSA9PiB2b2lkLFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvblZhbHVlU2V0KFxuICAgIGtleTogS0VZLFxuICAgIG9ic2VydmVyOiAodmFsdWU6IFZBTFVFKSA9PiB2b2lkLFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY29tcGxldGU/OiAoKSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdCB8IGJvb2xlYW5cbiAgKTogdm9pZDtcbiAgcHVibGljIG9uVmFsdWVTZXQoXG4gICAga2V5OiBLRVksXG4gICAgb2JzZXJ2ZXI6ICh2YWx1ZTogVkFMVUUpID0+IHZvaWQsXG4gICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICBjb21wbGV0ZT86ICgpID0+IHZvaWQsXG4gICAgZmlsdGVyVmFsdWU/OiBib29sZWFuLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25WYWx1ZVNldChcbiAgICBrZXk6IEtFWSxcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFZBTFVFPixcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uVmFsdWVTZXQoXG4gICAga2V5OiBLRVksXG4gICAgb2JzZXJ2ZXI6IFBhcnRpYWxPYnNlcnZlcjxWQUxVRT4sXG4gICAgZmlsdGVyVmFsdWU/OiBib29sZWFuIHwgb2JqZWN0LFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25WYWx1ZVNldChrZXk6IEtFWSwgb2JzZXJ2ZXI/OiAoKHZhbHVlOiBWQUxVRSkgPT4gdm9pZCkgfCBQYXJ0aWFsT2JzZXJ2ZXI8VkFMVUU+LCBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLCBjb21wbGV0ZT86ICgpID0+IHZvaWQsIGZpbHRlclZhbHVlPzogYm9vbGVhbiwgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0KTogU3Vic2NyaXB0aW9uIHtcbiAgICBsZXQgaXNWYWx1ZUZpbHRlcmVkOiBib29sZWFuID0gKHR5cGVvZiBmaWx0ZXJWYWx1ZSA9PT0gJ2Jvb2xlYW4nKSA/IGZpbHRlclZhbHVlIDogdHJ1ZTtcblxuICAgIGxldCBvYnNlcnZhYmxlOiBPYnNlcnZhYmxlPFZBTFVFPiA9IHRoaXMuc3RhdGUucGlwZShcbiAgICAgIG1hcCh2YWx1ZSA9PiB2YWx1ZVtrZXldKSxcbiAgICAgIGlzVmFsdWVGaWx0ZXJlZCA/IGZpbHRlcih2YWx1ZSA9PiAhaXNOdWxsT3JVbmRlZmluZWQodmFsdWUpICYmICF0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvbikgOiB0YXAoKVxuICAgICk7XG5cbiAgICByZXR1cm4gdGhpcy5wcmVwYXJlU3Vic2NyaXB0aW9uKHtcbiAgICAgIG9ic2VydmFibGUsXG4gICAgICBvYnNlcnZlcixcbiAgICAgIGVycm9yLFxuICAgICAgY29tcGxldGUsXG4gICAgICBjYWxsZXJDb21wb25lbnRcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBvblZhbHVlQ2hhbmdlKFxuICAgIGtleTogS0VZLFxuICAgIG9ic2VydmVyOiAodmFsdWU6IFZBTFVFKSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25WYWx1ZUNoYW5nZShcbiAgICBrZXk6IEtFWSxcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBWQUxVRSkgPT4gdm9pZCxcbiAgICBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25WYWx1ZUNoYW5nZShcbiAgICBrZXk6IEtFWSxcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBWQUxVRSkgPT4gdm9pZCxcbiAgICBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLFxuICAgIGNvbXBsZXRlPzogKCkgPT4gdm9pZCxcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3QgfCBib29sZWFuXG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvblZhbHVlQ2hhbmdlKFxuICAgIGtleTogS0VZLFxuICAgIG9ic2VydmVyOiAodmFsdWU6IFZBTFVFKSA9PiB2b2lkLFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY29tcGxldGU/OiAoKSA9PiB2b2lkLFxuICAgIGZpbHRlclZhbHVlPzogYm9vbGVhbixcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uVmFsdWVDaGFuZ2UoXG4gICAga2V5OiBLRVksXG4gICAgb2JzZXJ2ZXI6IFBhcnRpYWxPYnNlcnZlcjxWQUxVRT4sXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvblZhbHVlQ2hhbmdlKFxuICAgIGtleTogS0VZLFxuICAgIG9ic2VydmVyOiBQYXJ0aWFsT2JzZXJ2ZXI8VkFMVUU+LFxuICAgIGZpbHRlclZhbHVlPzogYm9vbGVhbiB8IG9iamVjdCxcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uVmFsdWVDaGFuZ2Uoa2V5OiBLRVksIG9ic2VydmVyPzogKCh2YWx1ZTogVkFMVUUpID0+IHZvaWQpIHwgUGFydGlhbE9ic2VydmVyPFZBTFVFPiwgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCwgY29tcGxldGU/OiAoKSA9PiB2b2lkLCBmaWx0ZXJWYWx1ZT86IGJvb2xlYW4sIGNhbGxlckNvbXBvbmVudD86IG9iamVjdCk6IFN1YnNjcmlwdGlvbiB7XG4gICAgbGV0IGlzVmFsdWVGaWx0ZXJlZDogYm9vbGVhbiA9ICh0eXBlb2YgZmlsdGVyVmFsdWUgPT09ICdib29sZWFuJykgPyBmaWx0ZXJWYWx1ZSA6IHRydWU7XG5cbiAgICBsZXQgb2JzZXJ2YWJsZTogT2JzZXJ2YWJsZTxWQUxVRT4gPSB0aGlzLnN0YXRlLnBpcGUoXG4gICAgICBtYXAodmFsdWUgPT4gdmFsdWVba2V5XSksXG4gICAgICBpc1ZhbHVlRmlsdGVyZWQgPyBmaWx0ZXIodmFsdWUgPT4gIWlzTnVsbE9yVW5kZWZpbmVkKHZhbHVlKSAmJiAhdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24pIDogdGFwKCksXG4gICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpXG4gICAgKTtcblxuICAgIHJldHVybiB0aGlzLnByZXBhcmVTdWJzY3JpcHRpb24oe1xuICAgICAgb2JzZXJ2YWJsZSxcbiAgICAgIG9ic2VydmVyLFxuICAgICAgZXJyb3IsXG4gICAgICBjb21wbGV0ZSxcbiAgICAgIGNhbGxlckNvbXBvbmVudFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIG9uRmlyc3RDaGFuZ2Uob2JzZXJ2ZXI/OiAoKHZhbHVlOiBSZWNvcmQ8S0VZLCBWQUxVRT4pID0+IHZvaWQpIHwgUGFydGlhbE9ic2VydmVyPFJlY29yZDxLRVksIFZBTFVFPj4sIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsIGNvbXBsZXRlPzogKCkgPT4gdm9pZCk6IFN1YnNjcmlwdGlvbiB7XG4gICAgY29uc3Qgb2JzZXJ2YWJsZSA9IHRoaXMuc3RhdGUucGlwZShcbiAgICAgIGZpbHRlcih4ID0+ICFpc051bGxPclVuZGVmaW5lZCh4KSAmJlxuICAgICAgICAhdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24pLFxuICAgICAgZmlyc3QoKVxuICAgICk7XG5cbiAgICByZXR1cm4gdGhpcy5wcmVwYXJlU3Vic2NyaXB0aW9uKHtcbiAgICAgIG9ic2VydmFibGUsXG4gICAgICBvYnNlcnZlcixcbiAgICAgIGVycm9yLFxuICAgICAgY29tcGxldGVcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBvbkZpcnN0Tm9uRW1wdHlDaGFuZ2Uob2JzZXJ2ZXI/OiAoKHZhbHVlOiBSZWNvcmQ8S0VZLCBWQUxVRT4pID0+IHZvaWQpIHwgUGFydGlhbE9ic2VydmVyPFJlY29yZDxLRVksIFZBTFVFPj4sIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsIGNvbXBsZXRlPzogKCkgPT4gdm9pZCk6IFN1YnNjcmlwdGlvbiB7XG4gICAgY29uc3Qgb2JzZXJ2YWJsZSA9IHRoaXMuc3RhdGUucGlwZShcbiAgICAgIGZpbHRlcih4ID0+ICFpc051bGxPclVuZGVmaW5lZCh4KSAmJlxuICAgICAgICBPYmplY3Qua2V5cyh4KS5sZW5ndGggPiAwICYmXG4gICAgICAgICF0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvblxuICAgICAgKSxcbiAgICAgIGZpcnN0KClcbiAgICApXG4gICAgcmV0dXJuIHRoaXMucHJlcGFyZVN1YnNjcmlwdGlvbih7XG4gICAgICBvYnNlcnZhYmxlLFxuICAgICAgb2JzZXJ2ZXIsXG4gICAgICBlcnJvcixcbiAgICAgIGNvbXBsZXRlXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgb25Gcm9tU2Vjb25kQ2hhbmdlKFxuICAgIG9ic2VydmVyOiBQYXJ0aWFsT2JzZXJ2ZXI8UmVjb3JkPEtFWSwgVkFMVUU+PixcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uRnJvbVNlY29uZENoYW5nZShcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBSZWNvcmQ8S0VZLCBWQUxVRT4pID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvbkZyb21TZWNvbmRDaGFuZ2UoXG4gICAgb2JzZXJ2ZXI6ICh2YWx1ZTogUmVjb3JkPEtFWSwgVkFMVUU+KSA9PiB2b2lkLFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvbkZyb21TZWNvbmRDaGFuZ2UoXG4gICAgb2JzZXJ2ZXI6ICh2YWx1ZTogUmVjb3JkPEtFWSwgVkFMVUU+KSA9PiB2b2lkLFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY29tcGxldGU/OiAoKSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25Gcm9tU2Vjb25kQ2hhbmdlKG9ic2VydmVyPzogKCh2YWx1ZTogUmVjb3JkPEtFWSwgVkFMVUU+KSA9PiB2b2lkKSB8IFBhcnRpYWxPYnNlcnZlcjxSZWNvcmQ8S0VZLCBWQUxVRT4+LCBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLCBjb21wbGV0ZT86ICgpID0+IHZvaWQsIGNhbGxlckNvbXBvbmVudD86IG9iamVjdCk6IFN1YnNjcmlwdGlvbiB7XG4gICAgY29uc3Qgb2JzZXJ2YWJsZSA9IHRoaXMuc3RhdGUucGlwZShcbiAgICAgIHVudGlsRGVzdHJveWVkKGNhbGxlckNvbXBvbmVudCksXG4gICAgICBmaWx0ZXIoeCA9PiAhaXNOdWxsT3JVbmRlZmluZWQoeCkgJiYgIXRoaXMuYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uKSxcbiAgICAgIHNraXAoMSlcbiAgICApO1xuICAgIHJldHVybiB0aGlzLnByZXBhcmVTdWJzY3JpcHRpb24oe1xuICAgICAgb2JzZXJ2YWJsZSxcbiAgICAgIG9ic2VydmVyLFxuICAgICAgZXJyb3IsXG4gICAgICBjb21wbGV0ZSxcbiAgICAgIGNhbGxlckNvbXBvbmVudFxuICAgIH0pO1xuICB9XG59XG4iXX0=","customTransformCache":false,"dependencies":["rxjs","@ngneat/until-destroy","rxjs/operators","/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/helpers/type.helper.mjs","/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/states/base-state.mjs"],"id":"/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/states/key-value-state.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { BehaviorSubject } from \"rxjs\";\nimport { untilDestroyed } from \"@ngneat/until-destroy\";\nimport { distinctUntilChanged, filter, first, map, skip, tap } from \"rxjs/operators\";\nimport { isNullOrUndefined } from \"../helpers/type.helper\";\nimport { BaseState } from \"./base-state\";\nexport class KeyValueState extends BaseState {\n    _subject;\n    _keySeparator = '####';\n    get state() {\n        return this._subject.asObservable();\n    }\n    stateOfKey(key, changedStateOnly = true) {\n        const state = this.state.pipe(filter(record => !isNullOrUndefined(record) &&\n            !isNullOrUndefined(record[key]) && !this.bypassChangeDetection), map(record => record[key]));\n        if (changedStateOnly) {\n            return state.pipe(distinctUntilChanged());\n        }\n        return state;\n    }\n    stateOfKeys(...keys) {\n        return this.stateOfKey(keys.join(this._keySeparator));\n    }\n    hasKey(key, exactMatch = true) {\n        return this.state.pipe(map(record => {\n            if (typeof key === 'string' && !exactMatch) {\n                return Object.keys(record).some(k => k.includes(key));\n            }\n            else {\n                return key in record;\n            }\n        }), distinctUntilChanged());\n    }\n    get keys() {\n        return Object.keys(this.value);\n    }\n    getKeysOfIndex(keyIndex) {\n        return this.keys.map(key => key.toString().split(this._keySeparator)[keyIndex]);\n    }\n    get toArray() {\n        return Object.values(this.value);\n    }\n    get length() {\n        return this.toArray.length;\n    }\n    get toArrayState() {\n        return this.state.pipe(map(x => Object.values(x)));\n    }\n    get value() {\n        return this._subject.getValue();\n    }\n    constructor(initialValue) {\n        super();\n        this._subject = new BehaviorSubject(initialValue ?? {});\n    }\n    getValue(key) {\n        return this.value[key];\n    }\n    getValueByKeys(...keys) {\n        return this.value[keys.map(String).join(this._keySeparator)];\n    }\n    setValue(key, value, bypassChangeDetection = false) {\n        this.bypassChangeDetection = bypassChangeDetection;\n        const newSet = { ...this.value };\n        newSet[key] = value;\n        this._subject.next(newSet);\n        return this.state;\n    }\n    setValueByKeys(value, bypassChangeDetection = false, ...keys) {\n        return this.setValue(keys.join(this._keySeparator), value, bypassChangeDetection);\n    }\n    unset(key, bypassChangeDetection = false) {\n        this.bypassChangeDetection = bypassChangeDetection;\n        const newSet = this.value;\n        delete newSet[key];\n        this._subject.next(newSet);\n        return this.state;\n    }\n    unsetByKeys(bypassChangeDetection = false, ...keys) {\n        return this.unset(keys.join(this._keySeparator), bypassChangeDetection);\n    }\n    reset(bypassChangeDetection = false) {\n        this.bypassChangeDetection = bypassChangeDetection;\n        this._subject.next({});\n        return this.state;\n    }\n    set(record, bypassChangeDetection = false) {\n        this.bypassChangeDetection = bypassChangeDetection;\n        this._subject.next(record);\n        return this.state;\n    }\n    onSet(observer, error, complete, callerComponent) {\n        let observable = this.state.pipe(filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    onChange(observer, error, complete, callerComponent) {\n        let observable = this.state.pipe(distinctUntilChanged(), filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    onValueSet(key, observer, error, complete, filterValue, callerComponent) {\n        let isValueFiltered = (typeof filterValue === 'boolean') ? filterValue : true;\n        let observable = this.state.pipe(map(value => value[key]), isValueFiltered ? filter(value => !isNullOrUndefined(value) && !this.bypassChangeDetection) : tap());\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    onValueChange(key, observer, error, complete, filterValue, callerComponent) {\n        let isValueFiltered = (typeof filterValue === 'boolean') ? filterValue : true;\n        let observable = this.state.pipe(map(value => value[key]), isValueFiltered ? filter(value => !isNullOrUndefined(value) && !this.bypassChangeDetection) : tap(), distinctUntilChanged());\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    onFirstChange(observer, error, complete) {\n        const observable = this.state.pipe(filter(x => !isNullOrUndefined(x) &&\n            !this.bypassChangeDetection), first());\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete\n        });\n    }\n    onFirstNonEmptyChange(observer, error, complete) {\n        const observable = this.state.pipe(filter(x => !isNullOrUndefined(x) &&\n            Object.keys(x).length > 0 &&\n            !this.bypassChangeDetection), first());\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete\n        });\n    }\n    onFromSecondChange(observer, error, complete, callerComponent) {\n        const observable = this.state.pipe(untilDestroyed(callerComponent), filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection), skip(1));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoia2V5LXZhbHVlLXN0YXRlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbmd4LXN0YXRlcy9zcmMvbGliL3N0YXRlcy9rZXktdmFsdWUtc3RhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGVBQWUsRUFBNkMsTUFBTSxNQUFNLENBQUM7QUFDbEYsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDckYsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDM0QsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUV6QyxNQUFNLE9BQU8sYUFBMkQsU0FBUSxTQUFTO0lBRS9FLFFBQVEsQ0FBc0M7SUFDckMsYUFBYSxHQUFHLE1BQU0sQ0FBQztJQUV4QyxJQUFXLEtBQUs7UUFDZCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDdEMsQ0FBQztJQUVNLFVBQVUsQ0FBQyxHQUFRLEVBQUUsZ0JBQWdCLEdBQUcsSUFBSTtRQUNqRCxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FDM0IsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQ2QsQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUM7WUFDNUIsQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxFQUMvRCxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFVLENBQUMsQ0FDcEMsQ0FBQztRQUVGLElBQUksZ0JBQWdCLEVBQUUs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cUIsQ0FBQyxFQUNqRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQ1IsQ0FBQztRQUNGLE9BQU8sSUFBSSxDQUFDLG1CQUFtQixDQUFDO1lBQzlCLFVBQVU7WUFDVixRQUFRO1lBQ1IsS0FBSztZQUNMLFFBQVE7WUFDUixlQUFlO1NBQ2hCLENBQUMsQ0FBQztJQUNMLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgT2JzZXJ2YWJsZSwgUGFydGlhbE9ic2VydmVyLCBTdWJzY3JpcHRpb24gfSBmcm9tIFwicnhqc1wiO1xuaW1wb3J0IHsgdW50aWxEZXN0cm95ZWQgfSBmcm9tIFwiQG5nbmVhdC91bnRpbC1kZXN0cm95XCI7XG5pbXBvcnQgeyBkaXN0aW5jdFVudGlsQ2hhbmdlZCwgZmlsdGVyLCBmaXJzdCwgbWFwLCBza2lwLCB0YXAgfSBmcm9tIFwicnhqcy9vcGVyYXRvcnNcIjtcbmltcG9ydCB7IGlzTnVsbE9yVW5kZWZpbmVkIH0gZnJvbSBcIi4uL2hlbHBlcnMvdHlwZS5oZWxwZXJcIjtcbmltcG9ydCB7IEJhc2VTdGF0ZSB9IGZyb20gXCIuL2Jhc2Utc3RhdGVcIjtcblxuZXhwb3J0IGNsYXNzIEtleVZhbHVlU3RhdGU8S0VZIGV4dGVuZHMgc3RyaW5nIHwgbnVtYmVyIHwgc3ltYm9sLCBWQUxVRT4gZXh0ZW5kcyBCYXNlU3RhdGUge1xuXG4gIHByaXZhdGUgX3N1YmplY3Q6IEJlaGF2aW9yU3ViamVjdDxSZWNvcmQ8S0VZLCBWQUxVRT4+O1xuICBwcml2YXRlIHJlYWRvbmx5IF9rZXlTZXBhcmF0b3IgPSAnIyMjIyc7XG5cbiAgcHVibGljIGdldCBzdGF0ZSgpOiBPYnNlcnZhYmxlPFJlY29yZDxLRVksIFZBTFVFPj4ge1xuICAgIHJldHVybiB0aGlzLl9zdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuICB9XG5cbiAgcHVibGljIHN0YXRlT2ZLZXkoa2V5OiBLRVksIGNoYW5nZWRTdGF0ZU9ubHkgPSB0cnVlKTogT2JzZXJ2YWJsZTxWQUxVRT4ge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdGF0ZS5waXBlKFxuICAgICAgZmlsdGVyKHJlY29yZCA9PlxuICAgICAgICAhaXNOdWxsT3JVbmRlZmluZWQocmVjb3JkKSAmJlxuICAgICAgIWlzTnVsbE9yVW5kZWZpbmVkKHJlY29yZFtrZXldKSAmJiAhdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24pLFxuICAgICAgbWFwKHJlY29yZCA9PiByZWNvcmRba2V5XSBhcyBWQUxVRSlcbiAgICApO1xuXG4gICAgaWYgKGNoYW5nZWRTdGF0ZU9ubHkpIHtcbiAgICAgIHJldHVybiBzdGF0ZS5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpXG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YXRlO1xuICB9XG5cbiAgcHVibGljIHN0YXRlT2ZLZXlzKC4uLmtleXM6IGFueVtdKTogT2JzZXJ2YWJsZTxWQUxVRT4ge1xuICAgIHJldHVybiB0aGlzLnN0YXRlT2ZLZXkoa2V5cy5qb2luKHRoaXMuX2tleVNlcGFyYXRvcikgYXMgS0VZKTtcbiAgfVxuXG4gIHB1YmxpYyBoYXNLZXkoa2V5OiBLRVksIGV4YWN0TWF0Y2ggPSB0cnVlKTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS5waXBlKFxuICAgICAgICBtYXAocmVjb3JkID0+IHtcbiAgICAgICAgICBpZiAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycgJiYgIWV4YWN0TWF0Y2gpIHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhyZWNvcmQpLnNvbWUoayA9PiBrLmluY2x1ZGVzKGtleSkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ga2V5IGluIHJlY29yZDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpXG4gICAgICApO1xuICB9XG5cbiAgcHVibGljIGdldCBrZXlzKCk6IEtFWVtdIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy52YWx1ZSkgYXMgS0VZW107XG4gIH1cblxuICBwdWJsaWMgZ2V0S2V5c09mSW5kZXgoa2V5SW5kZXg6IG51bWJlcik6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gdGhpcy5rZXlzLm1hcChrZXkgPT4ga2V5LnRvU3RyaW5nKCkuc3BsaXQodGhpcy5fa2V5U2VwYXJhdG9yKVtrZXlJbmRleF0pO1xuICB9XG5cbiAgcHVibGljIGdldCB0b0FycmF5KCk6IFZBTFVFW10ge1xuICAgIHJldHVybiBPYmplY3QudmFsdWVzKHRoaXMudmFsdWUpO1xuICB9XG5cbiAgcHVibGljIGdldCBsZW5ndGgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy50b0FycmF5Lmxlbmd0aDtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgdG9BcnJheVN0YXRlKCk6IE9ic2VydmFibGU8VkFMVUVbXT4ge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLnBpcGUobWFwKHggPT4gT2JqZWN0LnZhbHVlcyh4KSBhcyB1bmtub3duIGFzIFZBTFVFW10pKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgdmFsdWUoKTogUmVjb3JkPEtFWSwgVkFMVUU+IHtcbiAgICByZXR1cm4gdGhpcy5fc3ViamVjdC5nZXRWYWx1ZSgpO1xuICB9XG5cbiAgY29uc3RydWN0b3IoaW5pdGlhbFZhbHVlPzogUmVjb3JkPEtFWSwgVkFMVUU+KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9zdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxSZWNvcmQ8S0VZLCBWQUxVRT4+KGluaXRpYWxWYWx1ZSA/PyB7fSBhcyBSZWNvcmQ8S0VZLCBWQUxVRT4pO1xuICB9XG5cbiAgcHVibGljIGdldFZhbHVlKGtleTogS0VZKTogVkFMVUUge1xuICAgIHJldHVybiB0aGlzLnZhbHVlW2tleV07XG4gIH1cblxuICBwdWJsaWMgZ2V0VmFsdWVCeUtleXMoLi4ua2V5czogYW55W10pOiBWQUxVRSB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWVba2V5cy5tYXAoU3RyaW5nKS5qb2luKHRoaXMuX2tleVNlcGFyYXRvcikgYXMgS0VZXTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRWYWx1ZShrZXk6IEtFWSwgdmFsdWU6IFZBTFVFLCBieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBmYWxzZSk6IE9ic2VydmFibGU8UmVjb3JkPEtFWSwgVkFMVUU+PiB7XG4gICAgdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBieXBhc3NDaGFuZ2VEZXRlY3Rpb247XG4gICAgY29uc3QgbmV3U2V0ID0gey4uLnRoaXMudmFsdWV9O1xuICAgIG5ld1NldFtrZXldID0gdmFsdWU7XG4gICAgdGhpcy5fc3ViamVjdC5uZXh0KG5ld1NldCk7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gIH1cblxuICBwdWJsaWMgc2V0VmFsdWVCeUtleXModmFsdWU6IFZBTFVFLCBieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBmYWxzZSwgLi4ua2V5czogYW55W10pOiBPYnNlcnZhYmxlPFJlY29yZDxLRVksIFZBTFVFPj4ge1xuICAgIHJldHVybiB0aGlzLnNldFZhbHVlKGtleXMuam9pbih0aGlzLl9rZXlTZXBhcmF0b3IpIGFzIEtFWSwgdmFsdWUsIGJ5cGFzc0NoYW5nZURldGVjdGlvbik7XG4gIH1cblxuICBwdWJsaWMgdW5zZXQoa2V5OiBLRVksIGJ5cGFzc0NoYW5nZURldGVjdGlvbiA9IGZhbHNlKTogT2JzZXJ2YWJsZTxSZWNvcmQ8S0VZLCBWQUxVRT4+IHtcbiAgICB0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvbiA9IGJ5cGFzc0NoYW5nZURldGVjdGlvbjtcbiAgICBjb25zdCBuZXdTZXQgPSB0aGlzLnZhbHVlO1xuICAgIGRlbGV0ZSBuZXdTZXRba2V5XTtcbiAgICB0aGlzLl9zdWJqZWN0Lm5leHQobmV3U2V0KTtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgfVxuXG4gIHB1YmxpYyB1bnNldEJ5S2V5cyhieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBmYWxzZSwgLi4ua2V5czogYW55W10pOiBPYnNlcnZhYmxlPFJlY29yZDxLRVksIFZBTFVFPj4ge1xuICAgIHJldHVybiB0aGlzLnVuc2V0KGtleXMuam9pbih0aGlzLl9rZXlTZXBhcmF0b3IpIGFzIEtFWSwgYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uKTtcbiAgfVxuXG4gIHB1YmxpYyByZXNldChieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBmYWxzZSk6IE9ic2VydmFibGU8UmVjb3JkPEtFWSwgVkFMVUU+PiB7XG4gICAgdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBieXBhc3NDaGFuZ2VEZXRlY3Rpb247XG4gICAgdGhpcy5fc3ViamVjdC5uZXh0KHt9IGFzIFJlY29yZDxLRVksIFZBTFVFPik7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gIH1cblxuICBwdWJsaWMgc2V0KHJlY29yZDogUmVjb3JkPEtFWSwgVkFMVUU+LCBieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBmYWxzZSk6IE9ic2VydmFibGU8UmVjb3JkPEtFWSwgVkFMVUU+PiB7XG4gICAgdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBieXBhc3NDaGFuZ2VEZXRlY3Rpb247XG4gICAgdGhpcy5fc3ViamVjdC5uZXh0KHJlY29yZCk7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gIH1cblxuICBwdWJsaWMgb25TZXQoXG4gICAgb2JzZXJ2ZXI6ICh2YWx1ZTogUmVjb3JkPEtFWSwgVkFMVUU+KSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25TZXQoXG4gICAgb2JzZXJ2ZXI6ICh2YWx1ZTogUmVjb3JkPEtFWSwgVkFMVUU+KSA9PiB2b2lkLFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvblNldChcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBSZWNvcmQ8S0VZLCBWQUxVRT4pID0+IHZvaWQsXG4gICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICBjb21wbGV0ZT86ICgpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvblNldChcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFJlY29yZDxLRVksIFZBTFVFPj4sXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvblNldChvYnNlcnZlcj86ICgodmFsdWU6IFJlY29yZDxLRVksIFZBTFVFPikgPT4gdm9pZCkgfCBQYXJ0aWFsT2JzZXJ2ZXI8UmVjb3JkPEtFWSwgVkFMVUU+PiwgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCwgY29tcGxldGU/OiAoKSA9PiB2b2lkLCBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3QpOiBTdWJzY3JpcHRpb24ge1xuICAgIGxldCBvYnNlcnZhYmxlID0gdGhpcy5zdGF0ZS5waXBlKFxuICAgICAgZmlsdGVyKHggPT4gIWlzTnVsbE9yVW5kZWZpbmVkKHgpICYmICF0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvbilcbiAgICApO1xuXG4gICAgcmV0dXJuIHRoaXMucHJlcGFyZVN1YnNjcmlwdGlvbih7XG4gICAgICBvYnNlcnZhYmxlLFxuICAgICAgb2JzZXJ2ZXIsXG4gICAgICBlcnJvcixcbiAgICAgIGNvbXBsZXRlLFxuICAgICAgY2FsbGVyQ29tcG9uZW50XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgb25DaGFuZ2UoXG4gICAgb2JzZXJ2ZXI6ICh2YWx1ZTogUmVjb3JkPEtFWSwgVkFMVUU+KSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25DaGFuZ2UoXG4gICAgb2JzZXJ2ZXI6ICh2YWx1ZTogUmVjb3JkPEtFWSwgVkFMVUU+KSA9PiB2b2lkLFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvbkNoYW5nZShcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBSZWNvcmQ8S0VZLCBWQUxVRT4pID0+IHZvaWQsXG4gICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICBjb21wbGV0ZT86ICgpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvbkNoYW5nZShcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFJlY29yZDxLRVksIFZBTFVFPj4sXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvbkNoYW5nZShvYnNlcnZlcj86ICgodmFsdWU6IFJlY29yZDxLRVksIFZBTFVFPikgPT4gdm9pZCkgfCBQYXJ0aWFsT2JzZXJ2ZXI8UmVjb3JkPEtFWSwgVkFMVUU+PiwgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCwgY29tcGxldGU/OiAoKSA9PiB2b2lkLCBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3QpOiBTdWJzY3JpcHRpb24ge1xuICAgIGxldCBvYnNlcnZhYmxlID0gdGhpcy5zdGF0ZS5waXBlKFxuICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKSxcbiAgICAgIGZpbHRlcih4ID0+ICFpc051bGxPclVuZGVmaW5lZCh4KSAmJiAhdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24pXG4gICAgKTtcblxuICAgIHJldHVybiB0aGlzLnByZXBhcmVTdWJzY3JpcHRpb24oe1xuICAgICAgb2JzZXJ2YWJsZSxcbiAgICAgIG9ic2VydmVyLFxuICAgICAgZXJyb3IsXG4gICAgICBjb21wbGV0ZSxcbiAgICAgIGNhbGxlckNvbXBvbmVudFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIG9uVmFsdWVTZXQoXG4gICAga2V5OiBLRVksXG4gICAgb2JzZXJ2ZXI6ICh2YWx1ZTogVkFMVUUpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvblZhbHVlU2V0KFxuICAgIGtleTogS0VZLFxuICAgIG9ic2VydmVyOiAodmFsdWU6IFZBTFVFKSA9PiB2b2lkLFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvblZhbHVlU2V0KFxuICAgIGtleTogS0VZLFxuICAgIG9ic2VydmVyOiAodmFsdWU6IFZBTFVFKSA9PiB2b2lkLFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY29tcGxldGU/OiAoKSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdCB8IGJvb2xlYW5cbiAgKTogdm9pZDtcbiAgcHVibGljIG9uVmFsdWVTZXQoXG4gICAga2V5OiBLRVksXG4gICAgb2JzZXJ2ZXI6ICh2YWx1ZTogVkFMVUUpID0+IHZvaWQsXG4gICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICBjb21wbGV0ZT86ICgpID0+IHZvaWQsXG4gICAgZmlsdGVyVmFsdWU/OiBib29sZWFuLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25WYWx1ZVNldChcbiAgICBrZXk6IEtFWSxcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFZBTFVFPixcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uVmFsdWVTZXQoXG4gICAga2V5OiBLRVksXG4gICAgb2JzZXJ2ZXI6IFBhcnRpYWxPYnNlcnZlcjxWQUxVRT4sXG4gICAgZmlsdGVyVmFsdWU/OiBib29sZWFuIHwgb2JqZWN0LFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25WYWx1ZVNldChrZXk6IEtFWSwgb2JzZXJ2ZXI/OiAoKHZhbHVlOiBWQUxVRSkgPT4gdm9pZCkgfCBQYXJ0aWFsT2JzZXJ2ZXI8VkFMVUU+LCBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLCBjb21wbGV0ZT86ICgpID0+IHZvaWQsIGZpbHRlclZhbHVlPzogYm9vbGVhbiwgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0KTogU3Vic2NyaXB0aW9uIHtcbiAgICBsZXQgaXNWYWx1ZUZpbHRlcmVkOiBib29sZWFuID0gKHR5cGVvZiBmaWx0ZXJWYWx1ZSA9PT0gJ2Jvb2xlYW4nKSA/IGZpbHRlclZhbHVlIDogdHJ1ZTtcblxuICAgIGxldCBvYnNlcnZhYmxlOiBPYnNlcnZhYmxlPFZBTFVFPiA9IHRoaXMuc3RhdGUucGlwZShcbiAgICAgIG1hcCh2YWx1ZSA9PiB2YWx1ZVtrZXldKSxcbiAgICAgIGlzVmFsdWVGaWx0ZXJlZCA/IGZpbHRlcih2YWx1ZSA9PiAhaXNOdWxsT3JVbmRlZmluZWQodmFsdWUpICYmICF0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvbikgOiB0YXAoKVxuICAgICk7XG5cbiAgICByZXR1cm4gdGhpcy5wcmVwYXJlU3Vic2NyaXB0aW9uKHtcbiAgICAgIG9ic2VydmFibGUsXG4gICAgICBvYnNlcnZlcixcbiAgICAgIGVycm9yLFxuICAgICAgY29tcGxldGUsXG4gICAgICBjYWxsZXJDb21wb25lbnRcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBvblZhbHVlQ2hhbmdlKFxuICAgIGtleTogS0VZLFxuICAgIG9ic2VydmVyOiAodmFsdWU6IFZBTFVFKSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25WYWx1ZUNoYW5nZShcbiAgICBrZXk6IEtFWSxcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBWQUxVRSkgPT4gdm9pZCxcbiAgICBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25WYWx1ZUNoYW5nZShcbiAgICBrZXk6IEtFWSxcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBWQUxVRSkgPT4gdm9pZCxcbiAgICBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLFxuICAgIGNvbXBsZXRlPzogKCkgPT4gdm9pZCxcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3QgfCBib29sZWFuXG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvblZhbHVlQ2hhbmdlKFxuICAgIGtleTogS0VZLFxuICAgIG9ic2VydmVyOiAodmFsdWU6IFZBTFVFKSA9PiB2b2lkLFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY29tcGxldGU/OiAoKSA9PiB2b2lkLFxuICAgIGZpbHRlclZhbHVlPzogYm9vbGVhbixcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uVmFsdWVDaGFuZ2UoXG4gICAga2V5OiBLRVksXG4gICAgb2JzZXJ2ZXI6IFBhcnRpYWxPYnNlcnZlcjxWQUxVRT4sXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvblZhbHVlQ2hhbmdlKFxuICAgIGtleTogS0VZLFxuICAgIG9ic2VydmVyOiBQYXJ0aWFsT2JzZXJ2ZXI8VkFMVUU+LFxuICAgIGZpbHRlclZhbHVlPzogYm9vbGVhbiB8IG9iamVjdCxcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uVmFsdWVDaGFuZ2Uoa2V5OiBLRVksIG9ic2VydmVyPzogKCh2YWx1ZTogVkFMVUUpID0+IHZvaWQpIHwgUGFydGlhbE9ic2VydmVyPFZBTFVFPiwgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCwgY29tcGxldGU/OiAoKSA9PiB2b2lkLCBmaWx0ZXJWYWx1ZT86IGJvb2xlYW4sIGNhbGxlckNvbXBvbmVudD86IG9iamVjdCk6IFN1YnNjcmlwdGlvbiB7XG4gICAgbGV0IGlzVmFsdWVGaWx0ZXJlZDogYm9vbGVhbiA9ICh0eXBlb2YgZmlsdGVyVmFsdWUgPT09ICdib29sZWFuJykgPyBmaWx0ZXJWYWx1ZSA6IHRydWU7XG5cbiAgICBsZXQgb2JzZXJ2YWJsZTogT2JzZXJ2YWJsZTxWQUxVRT4gPSB0aGlzLnN0YXRlLnBpcGUoXG4gICAgICBtYXAodmFsdWUgPT4gdmFsdWVba2V5XSksXG4gICAgICBpc1ZhbHVlRmlsdGVyZWQgPyBmaWx0ZXIodmFsdWUgPT4gIWlzTnVsbE9yVW5kZWZpbmVkKHZhbHVlKSAmJiAhdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24pIDogdGFwKCksXG4gICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpXG4gICAgKTtcblxuICAgIHJldHVybiB0aGlzLnByZXBhcmVTdWJzY3JpcHRpb24oe1xuICAgICAgb2JzZXJ2YWJsZSxcbiAgICAgIG9ic2VydmVyLFxuICAgICAgZXJyb3IsXG4gICAgICBjb21wbGV0ZSxcbiAgICAgIGNhbGxlckNvbXBvbmVudFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIG9uRmlyc3RDaGFuZ2Uob2JzZXJ2ZXI/OiAoKHZhbHVlOiBSZWNvcmQ8S0VZLCBWQUxVRT4pID0+IHZvaWQpIHwgUGFydGlhbE9ic2VydmVyPFJlY29yZDxLRVksIFZBTFVFPj4sIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsIGNvbXBsZXRlPzogKCkgPT4gdm9pZCk6IFN1YnNjcmlwdGlvbiB7XG4gICAgY29uc3Qgb2JzZXJ2YWJsZSA9IHRoaXMuc3RhdGUucGlwZShcbiAgICAgIGZpbHRlcih4ID0+ICFpc051bGxPclVuZGVmaW5lZCh4KSAmJlxuICAgICAgICAhdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24pLFxuICAgICAgZmlyc3QoKVxuICAgICk7XG5cbiAgICByZXR1cm4gdGhpcy5wcmVwYXJlU3Vic2NyaXB0aW9uKHtcbiAgICAgIG9ic2VydmFibGUsXG4gICAgICBvYnNlcnZlcixcbiAgICAgIGVycm9yLFxuICAgICAgY29tcGxldGVcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBvbkZpcnN0Tm9uRW1wdHlDaGFuZ2Uob2JzZXJ2ZXI/OiAoKHZhbHVlOiBSZWNvcmQ8S0VZLCBWQUxVRT4pID0+IHZvaWQpIHwgUGFydGlhbE9ic2VydmVyPFJlY29yZDxLRVksIFZBTFVFPj4sIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsIGNvbXBsZXRlPzogKCkgPT4gdm9pZCk6IFN1YnNjcmlwdGlvbiB7XG4gICAgY29uc3Qgb2JzZXJ2YWJsZSA9IHRoaXMuc3RhdGUucGlwZShcbiAgICAgIGZpbHRlcih4ID0+ICFpc051bGxPclVuZGVmaW5lZCh4KSAmJlxuICAgICAgICBPYmplY3Qua2V5cyh4KS5sZW5ndGggPiAwICYmXG4gICAgICAgICF0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvblxuICAgICAgKSxcbiAgICAgIGZpcnN0KClcbiAgICApXG4gICAgcmV0dXJuIHRoaXMucHJlcGFyZVN1YnNjcmlwdGlvbih7XG4gICAgICBvYnNlcnZhYmxlLFxuICAgICAgb2JzZXJ2ZXIsXG4gICAgICBlcnJvcixcbiAgICAgIGNvbXBsZXRlXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgb25Gcm9tU2Vjb25kQ2hhbmdlKFxuICAgIG9ic2VydmVyOiBQYXJ0aWFsT2JzZXJ2ZXI8UmVjb3JkPEtFWSwgVkFMVUU+PixcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uRnJvbVNlY29uZENoYW5nZShcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBSZWNvcmQ8S0VZLCBWQUxVRT4pID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvbkZyb21TZWNvbmRDaGFuZ2UoXG4gICAgb2JzZXJ2ZXI6ICh2YWx1ZTogUmVjb3JkPEtFWSwgVkFMVUU+KSA9PiB2b2lkLFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvbkZyb21TZWNvbmRDaGFuZ2UoXG4gICAgb2JzZXJ2ZXI6ICh2YWx1ZTogUmVjb3JkPEtFWSwgVkFMVUU+KSA9PiB2b2lkLFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY29tcGxldGU/OiAoKSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25Gcm9tU2Vjb25kQ2hhbmdlKG9ic2VydmVyPzogKCh2YWx1ZTogUmVjb3JkPEtFWSwgVkFMVUU+KSA9PiB2b2lkKSB8IFBhcnRpYWxPYnNlcnZlcjxSZWNvcmQ8S0VZLCBWQUxVRT4+LCBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLCBjb21wbGV0ZT86ICgpID0+IHZvaWQsIGNhbGxlckNvbXBvbmVudD86IG9iamVjdCk6IFN1YnNjcmlwdGlvbiB7XG4gICAgY29uc3Qgb2JzZXJ2YWJsZSA9IHRoaXMuc3RhdGUucGlwZShcbiAgICAgIHVudGlsRGVzdHJveWVkKGNhbGxlckNvbXBvbmVudCksXG4gICAgICBmaWx0ZXIoeCA9PiAhaXNOdWxsT3JVbmRlZmluZWQoeCkgJiYgIXRoaXMuYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uKSxcbiAgICAgIHNraXAoMSlcbiAgICApO1xuICAgIHJldHVybiB0aGlzLnByZXBhcmVTdWJzY3JpcHRpb24oe1xuICAgICAgb2JzZXJ2YWJsZSxcbiAgICAgIG9ic2VydmVyLFxuICAgICAgZXJyb3IsXG4gICAgICBjb21wbGV0ZSxcbiAgICAgIGNhbGxlckNvbXBvbmVudFxuICAgIH0pO1xuICB9XG59XG4iXX0=","originalSourcemap":{"version":3,"file":"key-value-state.js","sourceRoot":"","sources":["../../../../../projects/ngx-states/src/lib/states/key-value-state.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[24,0,0,24],[26,0,0,69],[32,0,0,75],[38,0,0,81],[39,0,0,82]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[23,0,1,23],[25,0,1,25],[31,0,1,31],[54,0,1,54],[55,0,1,55]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[29,0,2,29],[31,0,2,31],[37,0,2,37],[39,0,2,39],[44,0,2,44],[46,0,2,46],[49,0,2,49],[51,0,2,51],[55,0,2,55],[57,0,2,57],[60,0,2,60],[62,0,2,62],[68,0,2,68],[84,0,2,84],[85,0,2,85]],[[0,0,3,0],[7,0,3,7],[9,0,3,9],[26,0,3,26],[28,0,3,28],[34,0,3,34],[58,0,3,58],[59,0,3,59]],[[0,0,4,0],[7,0,4,7],[9,0,4,9],[18,0,4,18],[20,0,4,20],[26,0,4,26],[40,0,4,40],[41,0,4,41]],[[0,0,6,0],[6,0,6,6],[13,0,6,13],[26,0,6,72],[35,0,6,80],[44,0,6,89]],[[4,0,8,10],[12,0,8,18],[13,0,8,56]],[[4,0,9,19],[17,0,9,32],[20,0,9,35],[26,0,9,41],[27,0,9,42]],[[4,0,11,2],[8,0,11,13],[13,0,11,18]],[[8,0,12,4],[15,0,12,11],[19,0,12,15],[20,0,12,16],[28,0,12,24],[29,0,12,25],[41,0,12,37],[43,0,12,39],[44,0,12,40]],[[4,0,13,2],[5,0,13,3]],[[4,0,15,9],[14,0,15,19],[15,0,15,20],[18,0,15,28],[20,0,15,30],[36,0,15,46],[39,0,15,49],[43,0,15,53]],[[8,0,16,4],[14,0,16,10],[19,0,16,15],[22,0,16,18],[26,0,16,22],[27,0,16,23],[32,0,16,28],[33,0,16,29],[37,0,16,33],[38,0,17,6],[44,0,17,12],[45,0,17,13],[51,0,17,19],[52,0,17,20],[54,0,17,22],[55,0,18,8],[56,0,18,9],[73,0,18,26],[74,0,18,27],[80,0,18,33],[81,0,18,34]],[[12,0,19,6],[13,0,19,7],[30,0,19,24],[31,0,19,25],[37,0,19,31],[38,0,19,32],[41,0,19,35],[42,0,19,36],[43,0,19,37],[47,0,19,41],[48,0,19,42],[52,0,19,46],[53,0,19,47],[74,0,19,68],[75,0,19,69],[77,0,20,6],[80,0,20,9],[81,0,20,10],[87,0,20,16],[88,0,20,17],[90,0,20,19],[91,0,20,20],[97,0,20,26],[98,0,20,27],[101,0,20,30],[102,0,20,40],[103,0,20,41],[104,0,21,5],[105,0,21,6]],[[8,0,23,4],[12,0,23,8],[28,0,23,24],[30,0,23,26],[31,0,23,27]],[[12,0,24,6],[19,0,24,13],[24,0,24,18],[25,0,24,19],[29,0,24,23],[30,0,24,24],[50,0,24,44],[52,0,24,46],[53,0,24,47],[54,0,24,47]],[[8,0,25,4],[9,0,25,5]],[[8,0,27,4],[15,0,27,11],[20,0,27,16],[21,0,27,17]],[[4,0,28,2],[5,0,28,3]],[[4,0,30,9],[15,0,30,20],[16,0,30,21],[19,0,30,24],[23,0,30,35]],[[8,0,31,4],[15,0,31,11],[19,0,31,15],[20,0,31,16],[30,0,31,26],[31,0,31,27],[35,0,31,31],[36,0,31,32],[40,0,31,36],[41,0,31,37],[45,0,31,41],[46,0,31,42],[59,0,31,55],[60,0,31,63],[61,0,31,64],[62,0,31,65]],[[4,0,32,2],[5,0,32,3]],[[4,0,34,9],[10,0,34,15],[11,0,34,16],[14,0,34,24],[16,0,34,26],[26,0,34,36],[29,0,34,39],[33,0,34,43]],[[8,0,35,6],[15,0,35,13],[19,0,35,17],[20,0,35,18],[25,0,35,23],[26,0,35,24],[30,0,35,28],[31,0,36,8],[34,0,36,11],[35,0,36,12],[41,0,36,18],[42,0,36,19],[44,0,36,21]],[[12,0,37,10],[16,0,37,14],[23,0,37,21],[26,0,37,24],[31,0,37,29],[39,0,37,37],[43,0,37,41],[44,0,37,42],[54,0,37,52],[56,0,37,54],[57,0,37,55]],[[16,0,38,12],[23,0,38,19],[29,0,38,25],[30,0,38,26],[34,0,38,30],[35,0,38,31],[41,0,38,37],[42,0,38,38],[43,0,38,39],[47,0,38,43],[48,0,38,44],[49,0,38,45],[50,0,38,46],[52,0,38,48],[53,0,38,49],[54,0,38,50],[55,0,38,51],[63,0,38,59],[64,0,38,60],[67,0,38,63],[68,0,38,64],[69,0,38,65],[70,0,38,66]],[[12,0,39,10],[13,0,39,11]],[[17,0,39,17],[18,0,39,18]],[[16,0,40,12],[23,0,40,19],[26,0,40,22],[30,0,40,26],[36,0,40,32],[37,0,40,33]],[[12,0,41,10],[13,0,41,11]],[[8,0,42,8],[9,0,42,9],[10,0,42,10],[12,0,43,8],[32,0,43,28],[34,0,43,30],[35,0,44,7],[36,0,44,8]],[[4,0,45,2],[5,0,45,3]],[[4,0,47,2],[8,0,47,13],[12,0,47,17]],[[8,0,48,4],[15,0,48,11],[21,0,48,17],[22,0,48,18],[26,0,48,22],[27,0,48,23],[31,0,48,27],[32,0,48,28],[37,0,48,33],[38,0,48,43],[39,0,48,44]],[[4,0,49,2],[5,0,49,3]],[[4,0,51,9],[18,0,51,23],[19,0,51,24],[27,0,51,40]],[[8,0,52,4],[15,0,52,11],[19,0,52,15],[20,0,52,16],[24,0,52,20],[25,0,52,21],[28,0,52,24],[29,0,52,25],[32,0,52,28],[33,0,52,29],[35,0,52,31],[36,0,52,32],[39,0,52,35],[40,0,52,36],[48,0,52,44],[50,0,52,46],[51,0,52,47],[56,0,52,52],[57,0,52,53],[61,0,52,57],[62,0,52,58],[75,0,52,71],[76,0,52,72],[77,0,52,73],[85,0,52,81],[86,0,52,82],[87,0,52,83],[88,0,52,84]],[[4,0,53,2],[5,0,53,3]],[[4,0,55,2],[8,0,55,13],[15,0,55,20]],[[8,0,56,4],[15,0,56,11],[21,0,56,17],[22,0,56,18],[28,0,56,24],[29,0,56,25],[33,0,56,29],[34,0,56,30],[39,0,56,35],[40,0,56,36],[41,0,56,37]],[[4,0,57,2],[5,0,57,3]],[[4,0,59,2],[8,0,59,13],[14,0,59,19]],[[8,0,60,4],[15,0,60,11],[19,0,60,15],[20,0,60,16],[27,0,60,23],[28,0,60,24],[34,0,60,30],[35,0,60,31]],[[4,0,61,2],[5,0,61,3]],[[4,0,63,2],[8,0,63,13],[20,0,63,25]],[[8,0,64,4],[15,0,64,11],[19,0,64,15],[20,0,64,16],[25,0,64,21],[26,0,64,22],[30,0,64,26],[31,0,64,27],[34,0,64,30],[35,0,64,31],[36,0,64,32],[37,0,64,33],[39,0,64,35],[40,0,64,36],[46,0,64,42],[47,0,64,43],[53,0,64,49],[54,0,64,50],[55,0,64,51],[56,0,64,74],[57,0,64,75],[58,0,64,76],[59,0,64,77]],[[4,0,65,2],[5,0,65,3]],[[4,0,67,2],[8,0,67,13],[13,0,67,18]],[[8,0,68,4],[15,0,68,11],[19,0,68,15],[20,0,68,16],[28,0,68,24],[29,0,68,25],[37,0,68,33],[39,0,68,35],[40,0,68,36]],[[4,0,69,2],[5,0,69,3]],[[4,0,71,2],[16,0,71,14],[28,0,71,47]],[[8,0,72,4],[13,0,72,9],[15,0,72,11],[16,0,72,12]],[[8,0,73,4],[12,0,73,8],[13,0,73,9],[21,0,73,17],[24,0,73,20],[28,0,73,24],[43,0,73,39],[44,0,73,60],[56,0,73,72],[60,0,73,76],[62,0,73,100],[63,0,73,101],[64,0,73,102]],[[4,0,74,2],[5,0,74,3]],[[4,0,76,9],[12,0,76,17],[13,0,76,18],[16,0,76,26]],[[8,0,77,4],[15,0,77,11],[19,0,77,15],[20,0,77,16],[25,0,77,21],[26,0,77,22],[29,0,77,25],[30,0,77,26],[31,0,77,27]],[[4,0,78,2],[5,0,78,3]],[[4,0,80,9],[18,0,80,23],[19,0,80,24],[22,0,80,27],[26,0,80,38]],[[8,0,81,4],[15,0,81,11],[19,0,81,15],[20,0,81,16],[25,0,81,21],[26,0,81,22],[30,0,81,26],[31,0,81,27],[34,0,81,30],[35,0,81,31],[41,0,81,37],[42,0,81,38],[43,0,81,39],[47,0,81,43],[48,0,81,44],[52,0,81,48],[53,0,81,49],[66,0,81,62],[67,0,81,70],[68,0,81,71],[69,0,81,72]],[[4,0,82,2],[5,0,82,3]],[[4,0,84,9],[12,0,84,17],[13,0,84,18],[16,0,84,26],[18,0,84,28],[23,0,84,40],[25,0,84,42],[46,0,84,63],[49,0,84,66],[54,0,84,71]],[[8,0,85,4],[12,0,85,8],[13,0,85,9],[34,0,85,30],[37,0,85,33],[58,0,85,54],[59,0,85,55]],[[8,0,86,4],[14,0,86,10],[20,0,86,16],[23,0,86,19],[25,0,86,20],[28,0,86,23],[32,0,86,27],[33,0,86,28],[38,0,86,33],[40,0,86,34],[41,0,86,35]],[[8,0,87,4],[14,0,87,10],[15,0,87,11],[18,0,87,14],[19,0,87,15],[22,0,87,18],[27,0,87,23],[28,0,87,24]],[[8,0,88,4],[12,0,88,8],[13,0,88,9],[21,0,88,17],[22,0,88,18],[26,0,88,22],[27,0,88,23],[33,0,88,29],[34,0,88,30],[35,0,88,31]],[[8,0,89,4],[15,0,89,11],[19,0,89,15],[20,0,89,16],[25,0,89,21],[26,0,89,22]],[[4,0,90,2],[5,0,90,3]],[[4,0,92,9],[18,0,92,23],[19,0,92,24],[24,0,92,36],[26,0,92,38],[47,0,92,59],[50,0,92,62],[55,0,92,67],[57,0,92,69],[60,0,92,72],[64,0,92,83]],[[8,0,93,4],[15,0,93,11],[19,0,93,15],[20,0,93,16],[28,0,93,24],[29,0,93,25],[33,0,93,29],[34,0,93,30],[38,0,93,34],[39,0,93,35],[43,0,93,39],[44,0,93,40],[57,0,93,53],[58,0,93,61],[60,0,93,63],[65,0,93,68],[67,0,93,70],[88,0,93,91],[89,0,93,92],[90,0,93,93]],[[4,0,94,2],[5,0,94,3]],[[4,0,96,9],[9,0,96,14],[10,0,96,15],[13,0,96,23],[15,0,96,25],[36,0,96,46],[39,0,96,49],[44,0,96,54]],[[8,0,97,4],[12,0,97,8],[13,0,97,9],[34,0,97,30],[37,0,97,33],[58,0,97,54],[59,0,97,55]],[[8,0,98,4],[14,0,98,10],[20,0,98,16],[23,0,98,19],[27,0,98,23],[28,0,98,24],[33,0,98,29],[34,0,98,30]],[[8,0,99,4],[15,0,99,11],[21,0,99,17],[22,0,99,18],[25,0,99,21],[26,0,99,22],[27,0,99,23]],[[8,0,100,4],[12,0,100,8],[13,0,100,9],[21,0,100,17],[22,0,100,18],[26,0,100,22],[27,0,100,23],[33,0,100,29],[34,0,100,30],[35,0,100,31]],[[8,0,101,4],[15,0,101,11],[19,0,101,15],[20,0,101,16],[25,0,101,21],[26,0,101,22]],[[4,0,102,2],[5,0,102,3]],[[4,0,104,9],[15,0,104,20],[16,0,104,21],[37,0,104,42],[40,0,104,45],[45,0,104,50],[47,0,104,52],[50,0,104,55],[54,0,104,66]],[[8,0,105,4],[15,0,105,11],[19,0,105,15],[20,0,105,16],[25,0,105,21],[26,0,105,22],[30,0,105,26],[31,0,105,27],[35,0,105,31],[36,0,105,32],[40,0,105,36],[41,0,105,37],[54,0,105,50],[55,0,105,58],[57,0,105,60],[78,0,105,81],[79,0,105,82],[80,0,105,83]],[[4,0,106,2],[5,0,106,3]],[[4,0,108,9],[9,0,108,14],[10,0,108,15],[31,0,108,36],[34,0,108,39],[39,0,108,44]],[[8,0,109,4],[12,0,109,8],[13,0,109,9],[34,0,109,30],[37,0,109,33],[58,0,109,54],[59,0,109,55]],[[8,0,110,4],[12,0,110,8],[13,0,110,9],[21,0,110,17],[22,0,110,18],[26,0,110,22],[27,0,110,23],[29,0,110,47],[30,0,110,48],[31,0,110,49]],[[8,0,111,4],[15,0,111,11],[19,0,111,15],[20,0,111,16],[25,0,111,21],[26,0,111,22]],[[4,0,112,2],[5,0,112,3]],[[4,0,114,9],[7,0,114,12],[8,0,114,13],[14,0,114,39],[16,0,114,41],[37,0,114,62],[40,0,114,65],[45,0,114,70]],[[8,0,115,4],[12,0,115,8],[13,0,115,9],[34,0,115,30],[37,0,115,33],[58,0,115,54],[59,0,115,55]],[[8,0,116,4],[12,0,116,8],[13,0,116,9],[21,0,116,17],[22,0,116,18],[26,0,116,22],[27,0,116,23],[33,0,116,29],[34,0,116,30],[35,0,116,31]],[[8,0,117,4],[15,0,117,11],[19,0,117,15],[20,0,117,16],[25,0,117,21],[26,0,117,22]],[[4,0,118,2],[5,0,118,3]],[[4,0,139,9],[9,0,139,14],[10,0,139,15],[18,0,139,101],[20,0,139,103],[25,0,139,131],[27,0,139,133],[35,0,139,154],[37,0,139,156],[52,0,139,180]],[[8,0,140,4],[12,0,140,8],[22,0,140,18],[25,0,140,21],[29,0,140,25],[30,0,140,26],[35,0,140,31],[36,0,140,32],[40,0,140,36],[41,0,141,6],[47,0,141,12],[48,0,141,13],[49,0,141,14],[50,0,141,15],[52,0,141,17],[53,0,141,18],[54,0,141,19],[71,0,141,36],[72,0,141,37],[73,0,141,38],[74,0,141,39],[78,0,141,43],[79,0,141,44],[83,0,141,48],[84,0,141,49],[105,0,141,70],[106,0,141,71],[107,0,142,5],[108,0,142,6]],[[8,0,144,4],[15,0,144,11],[19,0,144,15],[20,0,144,16],[39,0,144,35],[40,0,144,36]],[[12,0,145,6],[22,0,145,16]],[[12,0,146,6],[20,0,146,14]],[[12,0,147,6],[17,0,147,11]],[[12,0,148,6],[20,0,148,14]],[[12,0,149,6],[27,0,149,21]],[[9,0,150,5],[10,0,150,6],[11,0,150,7]],[[4,0,151,2],[5,0,151,3]],[[4,0,172,9],[12,0,172,17],[13,0,172,18],[21,0,172,104],[23,0,172,106],[28,0,172,134],[30,0,172,136],[38,0,172,157],[40,0,172,159],[55,0,172,183]],[[8,0,173,4],[12,0,173,8],[22,0,173,18],[25,0,173,21],[29,0,173,25],[30,0,173,26],[35,0,173,31],[36,0,173,32],[40,0,173,36],[41,0,174,6],[61,0,174,26],[63,0,174,28],[65,0,175,6],[71,0,175,12],[72,0,175,13],[73,0,175,14],[74,0,175,15],[76,0,175,17],[77,0,175,18],[78,0,175,19],[95,0,175,36],[96,0,175,37],[97,0,175,38],[98,0,175,39],[102,0,175,43],[103,0,175,44],[107,0,175,48],[108,0,175,49],[129,0,175,70],[130,0,175,71],[131,0,176,5],[132,0,176,6]],[[8,0,178,4],[15,0,178,11],[19,0,178,15],[20,0,178,16],[39,0,178,35],[40,0,178,36]],[[12,0,179,6],[22,0,179,16]],[[12,0,180,6],[20,0,180,14]],[[12,0,181,6],[17,0,181,11]],[[12,0,182,6],[20,0,182,14]],[[12,0,183,6],[27,0,183,21]],[[9,0,184,5],[10,0,184,6],[11,0,184,7]],[[4,0,185,2],[5,0,185,3]],[[4,0,224,9],[14,0,224,19],[15,0,224,20],[18,0,224,28],[20,0,224,30],[28,0,224,90],[30,0,224,92],[35,0,224,120],[37,0,224,122],[45,0,224,143],[47,0,224,145],[58,0,224,166],[60,0,224,168],[75,0,224,192]],[[8,0,225,4],[12,0,225,8],[27,0,225,23],[30,0,225,35],[31,0,225,36],[38,0,225,43],[49,0,225,54],[54,0,225,59],[63,0,225,68],[64,0,225,69],[65,0,225,70],[66,0,225,71],[67,0,225,72],[78,0,225,83],[79,0,225,84],[80,0,225,85],[81,0,225,86],[85,0,225,90],[86,0,225,91]],[[8,0,227,4],[12,0,227,8],[22,0,227,18],[25,0,227,40],[29,0,227,44],[30,0,227,45],[35,0,227,50],[36,0,227,51],[40,0,227,55],[41,0,228,6],[44,0,228,9],[45,0,228,10],[50,0,228,15],[51,0,228,16],[53,0,228,18],[54,0,228,19],[59,0,228,24],[60,0,228,25],[63,0,228,28],[64,0,228,29],[65,0,228,30],[67,0,229,6],[82,0,229,21],[83,0,229,22],[84,0,229,23],[85,0,229,24],[91,0,229,30],[92,0,229,31],[97,0,229,36],[98,0,229,37],[100,0,229,39],[101,0,229,40],[102,0,229,41],[119,0,229,58],[120,0,229,59],[125,0,229,64],[126,0,229,65],[130,0,229,69],[131,0,229,70],[135,0,229,74],[136,0,229,75],[157,0,229,96],[158,0,229,97],[159,0,229,98],[160,0,229,99],[161,0,229,100],[164,0,229,103],[166,0,229,105],[167,0,230,5],[168,0,230,6]],[[8,0,232,4],[15,0,232,11],[19,0,232,15],[20,0,232,16],[39,0,232,35],[40,0,232,36]],[[12,0,233,6],[22,0,233,16]],[[12,0,234,6],[20,0,234,14]],[[12,0,235,6],[17,0,235,11]],[[12,0,236,6],[20,0,236,14]],[[12,0,237,6],[27,0,237,21]],[[9,0,238,5],[10,0,238,6],[11,0,238,7]],[[4,0,239,2],[5,0,239,3]],[[4,0,278,9],[17,0,278,22],[18,0,278,23],[21,0,278,31],[23,0,278,33],[31,0,278,93],[33,0,278,95],[38,0,278,123],[40,0,278,125],[48,0,278,146],[50,0,278,148],[61,0,278,169],[63,0,278,171],[78,0,278,195]],[[8,0,279,4],[12,0,279,8],[27,0,279,23],[30,0,279,35],[31,0,279,36],[38,0,279,43],[49,0,279,54],[54,0,279,59],[63,0,279,68],[64,0,279,69],[65,0,279,70],[66,0,279,71],[67,0,279,72],[78,0,279,83],[79,0,279,84],[80,0,279,85],[81,0,279,86],[85,0,279,90],[86,0,279,91]],[[8,0,281,4],[12,0,281,8],[22,0,281,18],[25,0,281,40],[29,0,281,44],[30,0,281,45],[35,0,281,50],[36,0,281,51],[40,0,281,55],[41,0,282,6],[44,0,282,9],[45,0,282,10],[50,0,282,15],[51,0,282,16],[53,0,282,18],[54,0,282,19],[59,0,282,24],[60,0,282,25],[63,0,282,28],[64,0,282,29],[65,0,282,30],[67,0,283,6],[82,0,283,21],[83,0,283,22],[84,0,283,23],[85,0,283,24],[91,0,283,30],[92,0,283,31],[97,0,283,36],[98,0,283,37],[100,0,283,39],[101,0,283,40],[102,0,283,41],[119,0,283,58],[120,0,283,59],[125,0,283,64],[126,0,283,65],[130,0,283,69],[131,0,283,70],[135,0,283,74],[136,0,283,75],[157,0,283,96],[158,0,283,97],[159,0,283,98],[160,0,283,99],[161,0,283,100],[164,0,283,103],[166,0,283,105],[168,0,284,6],[188,0,284,26],[190,0,284,28],[191,0,285,5],[192,0,285,6]],[[8,0,287,4],[15,0,287,11],[19,0,287,15],[20,0,287,16],[39,0,287,35],[40,0,287,36]],[[12,0,288,6],[22,0,288,16]],[[12,0,289,6],[20,0,289,14]],[[12,0,290,6],[17,0,290,11]],[[12,0,291,6],[20,0,291,14]],[[12,0,292,6],[27,0,292,21]],[[9,0,293,5],[10,0,293,6],[11,0,293,7]],[[4,0,294,2],[5,0,294,3]],[[4,0,296,9],[17,0,296,22],[18,0,296,23],[26,0,296,109],[28,0,296,111],[33,0,296,139],[35,0,296,141],[43,0,296,162]],[[8,0,297,4],[14,0,297,10],[24,0,297,20],[27,0,297,23],[31,0,297,27],[32,0,297,28],[37,0,297,33],[38,0,297,34],[42,0,297,38],[43,0,298,6],[49,0,298,12],[50,0,298,13],[51,0,298,14],[52,0,298,15],[54,0,298,17],[55,0,298,18],[56,0,298,19],[73,0,298,36],[74,0,298,37],[75,0,298,38],[76,0,298,39]],[[12,0,299,8],[13,0,299,9],[17,0,299,13],[18,0,299,14],[39,0,299,35],[40,0,299,36],[42,0,300,6],[47,0,300,11],[49,0,300,13],[50,0,301,5],[51,0,301,6]],[[8,0,303,4],[15,0,303,11],[19,0,303,15],[20,0,303,16],[39,0,303,35],[40,0,303,36]],[[12,0,304,6],[22,0,304,16]],[[12,0,305,6],[20,0,305,14]],[[12,0,306,6],[17,0,306,11]],[[12,0,307,6],[20,0,307,14]],[[9,0,308,5],[10,0,308,6],[11,0,308,7]],[[4,0,309,2],[5,0,309,3]],[[4,0,311,9],[25,0,311,30],[26,0,311,31],[34,0,311,117],[36,0,311,119],[41,0,311,147],[43,0,311,149],[51,0,311,170]],[[8,0,312,4],[14,0,312,10],[24,0,312,20],[27,0,312,23],[31,0,312,27],[32,0,312,28],[37,0,312,33],[38,0,312,34],[42,0,312,38],[43,0,313,6],[49,0,313,12],[50,0,313,13],[51,0,313,14],[52,0,313,15],[54,0,313,17],[55,0,313,18],[56,0,313,19],[73,0,313,36],[74,0,313,37],[75,0,313,38],[76,0,313,39]],[[12,0,314,8],[18,0,314,14],[19,0,314,15],[23,0,314,19],[24,0,314,20],[25,0,314,21],[26,0,314,22],[27,0,314,23],[33,0,314,29],[36,0,314,32],[37,0,314,33]],[[12,0,315,8],[13,0,315,9],[17,0,315,13],[18,0,315,14],[39,0,315,35],[40,0,316,7],[42,0,317,6],[47,0,317,11],[49,0,317,13],[50,0,318,5],[51,0,318,5]],[[8,0,319,4],[15,0,319,11],[19,0,319,15],[20,0,319,16],[39,0,319,35],[40,0,319,36]],[[12,0,320,6],[22,0,320,16]],[[12,0,321,6],[20,0,321,14]],[[12,0,322,6],[17,0,322,11]],[[12,0,323,6],[20,0,323,14]],[[9,0,324,5],[10,0,324,6],[11,0,324,7]],[[4,0,325,2],[5,0,325,3]],[[4,0,346,9],[22,0,346,27],[23,0,346,28],[31,0,346,114],[33,0,346,116],[38,0,346,144],[40,0,346,146],[48,0,346,167],[50,0,346,169],[65,0,346,193]],[[8,0,347,4],[14,0,347,10],[24,0,347,20],[27,0,347,23],[31,0,347,27],[32,0,347,28],[37,0,347,33],[38,0,347,34],[42,0,347,38],[43,0,348,6],[57,0,348,20],[58,0,348,21],[73,0,348,36],[74,0,348,37],[76,0,349,6],[82,0,349,12],[83,0,349,13],[84,0,349,14],[85,0,349,15],[87,0,349,17],[88,0,349,18],[89,0,349,19],[106,0,349,36],[107,0,349,37],[108,0,349,38],[109,0,349,39],[113,0,349,43],[114,0,349,44],[118,0,349,48],[119,0,349,49],[140,0,349,70],[141,0,349,71],[143,0,350,6],[147,0,350,10],[148,0,350,11],[149,0,350,12],[150,0,350,13],[151,0,351,5],[152,0,351,6]],[[8,0,352,4],[15,0,352,11],[19,0,352,15],[20,0,352,16],[39,0,352,35],[40,0,352,36]],[[12,0,353,6],[22,0,353,16]],[[12,0,354,6],[20,0,354,14]],[[12,0,355,6],[17,0,355,11]],[[12,0,356,6],[20,0,356,14]],[[12,0,357,6],[27,0,357,21]],[[9,0,358,5],[10,0,358,6],[11,0,358,7]],[[4,0,359,2],[5,0,359,3]],[[1,0,360,1]]],"sourcesContent":["import { BehaviorSubject, Observable, PartialObserver, Subscription } from \"rxjs\";\nimport { untilDestroyed } from \"@ngneat/until-destroy\";\nimport { distinctUntilChanged, filter, first, map, skip, tap } from \"rxjs/operators\";\nimport { isNullOrUndefined } from \"../helpers/type.helper\";\nimport { BaseState } from \"./base-state\";\n\nexport class KeyValueState<KEY extends string | number | symbol, VALUE> extends BaseState {\n\n  private _subject: BehaviorSubject<Record<KEY, VALUE>>;\n  private readonly _keySeparator = '####';\n\n  public get state(): Observable<Record<KEY, VALUE>> {\n    return this._subject.asObservable();\n  }\n\n  public stateOfKey(key: KEY, changedStateOnly = true): Observable<VALUE> {\n    const state = this.state.pipe(\n      filter(record =>\n        !isNullOrUndefined(record) &&\n      !isNullOrUndefined(record[key]) && !this.bypassChangeDetection),\n      map(record => record[key] as VALUE)\n    );\n\n    if (changedStateOnly) {\n      return state.pipe(distinctUntilChanged())\n    }\n\n    return state;\n  }\n\n  public stateOfKeys(...keys: any[]): Observable<VALUE> {\n    return this.stateOfKey(keys.join(this._keySeparator) as KEY);\n  }\n\n  public hasKey(key: KEY, exactMatch = true): Observable<boolean> {\n      return this.state.pipe(\n        map(record => {\n          if (typeof key === 'string' && !exactMatch) {\n            return Object.keys(record).some(k => k.includes(key));\n          } else {\n            return key in record;\n          }\n        }),\n        distinctUntilChanged()\n      );\n  }\n\n  public get keys(): KEY[] {\n    return Object.keys(this.value) as KEY[];\n  }\n\n  public getKeysOfIndex(keyIndex: number): string[] {\n    return this.keys.map(key => key.toString().split(this._keySeparator)[keyIndex]);\n  }\n\n  public get toArray(): VALUE[] {\n    return Object.values(this.value);\n  }\n\n  public get length(): number {\n    return this.toArray.length;\n  }\n\n  public get toArrayState(): Observable<VALUE[]> {\n    return this.state.pipe(map(x => Object.values(x) as unknown as VALUE[]));\n  }\n\n  public get value(): Record<KEY, VALUE> {\n    return this._subject.getValue();\n  }\n\n  constructor(initialValue?: Record<KEY, VALUE>) {\n    super();\n    this._subject = new BehaviorSubject<Record<KEY, VALUE>>(initialValue ?? {} as Record<KEY, VALUE>);\n  }\n\n  public getValue(key: KEY): VALUE {\n    return this.value[key];\n  }\n\n  public getValueByKeys(...keys: any[]): VALUE {\n    return this.value[keys.map(String).join(this._keySeparator) as KEY];\n  }\n\n  public setValue(key: KEY, value: VALUE, bypassChangeDetection = false): Observable<Record<KEY, VALUE>> {\n    this.bypassChangeDetection = bypassChangeDetection;\n    const newSet = {...this.value};\n    newSet[key] = value;\n    this._subject.next(newSet);\n    return this.state;\n  }\n\n  public setValueByKeys(value: VALUE, bypassChangeDetection = false, ...keys: any[]): Observable<Record<KEY, VALUE>> {\n    return this.setValue(keys.join(this._keySeparator) as KEY, value, bypassChangeDetection);\n  }\n\n  public unset(key: KEY, bypassChangeDetection = false): Observable<Record<KEY, VALUE>> {\n    this.bypassChangeDetection = bypassChangeDetection;\n    const newSet = this.value;\n    delete newSet[key];\n    this._subject.next(newSet);\n    return this.state;\n  }\n\n  public unsetByKeys(bypassChangeDetection = false, ...keys: any[]): Observable<Record<KEY, VALUE>> {\n    return this.unset(keys.join(this._keySeparator) as KEY, bypassChangeDetection);\n  }\n\n  public reset(bypassChangeDetection = false): Observable<Record<KEY, VALUE>> {\n    this.bypassChangeDetection = bypassChangeDetection;\n    this._subject.next({} as Record<KEY, VALUE>);\n    return this.state;\n  }\n\n  public set(record: Record<KEY, VALUE>, bypassChangeDetection = false): Observable<Record<KEY, VALUE>> {\n    this.bypassChangeDetection = bypassChangeDetection;\n    this._subject.next(record);\n    return this.state;\n  }\n\n  public onSet(\n    observer: (value: Record<KEY, VALUE>) => void,\n    callerComponent?: object\n  ): void;\n  public onSet(\n    observer: (value: Record<KEY, VALUE>) => void,\n    error?: (error: any) => void,\n    callerComponent?: object\n  ): void;\n  public onSet(\n    observer: (value: Record<KEY, VALUE>) => void,\n    error?: (error: any) => void,\n    complete?: () => void,\n    callerComponent?: object\n  ): void;\n  public onSet(\n    observer: PartialObserver<Record<KEY, VALUE>>,\n    callerComponent?: object\n  ): void;\n  public onSet(observer?: ((value: Record<KEY, VALUE>) => void) | PartialObserver<Record<KEY, VALUE>>, error?: (error: any) => void, complete?: () => void, callerComponent?: object): Subscription {\n    let observable = this.state.pipe(\n      filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection)\n    );\n\n    return this.prepareSubscription({\n      observable,\n      observer,\n      error,\n      complete,\n      callerComponent\n    });\n  }\n\n  public onChange(\n    observer: (value: Record<KEY, VALUE>) => void,\n    callerComponent?: object\n  ): void;\n  public onChange(\n    observer: (value: Record<KEY, VALUE>) => void,\n    error?: (error: any) => void,\n    callerComponent?: object\n  ): void;\n  public onChange(\n    observer: (value: Record<KEY, VALUE>) => void,\n    error?: (error: any) => void,\n    complete?: () => void,\n    callerComponent?: object\n  ): void;\n  public onChange(\n    observer: PartialObserver<Record<KEY, VALUE>>,\n    callerComponent?: object\n  ): void;\n  public onChange(observer?: ((value: Record<KEY, VALUE>) => void) | PartialObserver<Record<KEY, VALUE>>, error?: (error: any) => void, complete?: () => void, callerComponent?: object): Subscription {\n    let observable = this.state.pipe(\n      distinctUntilChanged(),\n      filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection)\n    );\n\n    return this.prepareSubscription({\n      observable,\n      observer,\n      error,\n      complete,\n      callerComponent\n    });\n  }\n\n  public onValueSet(\n    key: KEY,\n    observer: (value: VALUE) => void,\n    callerComponent?: object\n  ): void;\n  public onValueSet(\n    key: KEY,\n    observer: (value: VALUE) => void,\n    error?: (error: any) => void,\n    callerComponent?: object\n  ): void;\n  public onValueSet(\n    key: KEY,\n    observer: (value: VALUE) => void,\n    error?: (error: any) => void,\n    complete?: () => void,\n    callerComponent?: object | boolean\n  ): void;\n  public onValueSet(\n    key: KEY,\n    observer: (value: VALUE) => void,\n    error?: (error: any) => void,\n    complete?: () => void,\n    filterValue?: boolean,\n    callerComponent?: object\n  ): void;\n  public onValueSet(\n    key: KEY,\n    observer: PartialObserver<VALUE>,\n    callerComponent?: object\n  ): void;\n  public onValueSet(\n    key: KEY,\n    observer: PartialObserver<VALUE>,\n    filterValue?: boolean | object,\n    callerComponent?: object\n  ): void;\n  public onValueSet(key: KEY, observer?: ((value: VALUE) => void) | PartialObserver<VALUE>, error?: (error: any) => void, complete?: () => void, filterValue?: boolean, callerComponent?: object): Subscription {\n    let isValueFiltered: boolean = (typeof filterValue === 'boolean') ? filterValue : true;\n\n    let observable: Observable<VALUE> = this.state.pipe(\n      map(value => value[key]),\n      isValueFiltered ? filter(value => !isNullOrUndefined(value) && !this.bypassChangeDetection) : tap()\n    );\n\n    return this.prepareSubscription({\n      observable,\n      observer,\n      error,\n      complete,\n      callerComponent\n    });\n  }\n\n  public onValueChange(\n    key: KEY,\n    observer: (value: VALUE) => void,\n    callerComponent?: object\n  ): void;\n  public onValueChange(\n    key: KEY,\n    observer: (value: VALUE) => void,\n    error?: (error: any) => void,\n    callerComponent?: object\n  ): void;\n  public onValueChange(\n    key: KEY,\n    observer: (value: VALUE) => void,\n    error?: (error: any) => void,\n    complete?: () => void,\n    callerComponent?: object | boolean\n  ): void;\n  public onValueChange(\n    key: KEY,\n    observer: (value: VALUE) => void,\n    error?: (error: any) => void,\n    complete?: () => void,\n    filterValue?: boolean,\n    callerComponent?: object\n  ): void;\n  public onValueChange(\n    key: KEY,\n    observer: PartialObserver<VALUE>,\n    callerComponent?: object\n  ): void;\n  public onValueChange(\n    key: KEY,\n    observer: PartialObserver<VALUE>,\n    filterValue?: boolean | object,\n    callerComponent?: object\n  ): void;\n  public onValueChange(key: KEY, observer?: ((value: VALUE) => void) | PartialObserver<VALUE>, error?: (error: any) => void, complete?: () => void, filterValue?: boolean, callerComponent?: object): Subscription {\n    let isValueFiltered: boolean = (typeof filterValue === 'boolean') ? filterValue : true;\n\n    let observable: Observable<VALUE> = this.state.pipe(\n      map(value => value[key]),\n      isValueFiltered ? filter(value => !isNullOrUndefined(value) && !this.bypassChangeDetection) : tap(),\n      distinctUntilChanged()\n    );\n\n    return this.prepareSubscription({\n      observable,\n      observer,\n      error,\n      complete,\n      callerComponent\n    });\n  }\n\n  public onFirstChange(observer?: ((value: Record<KEY, VALUE>) => void) | PartialObserver<Record<KEY, VALUE>>, error?: (error: any) => void, complete?: () => void): Subscription {\n    const observable = this.state.pipe(\n      filter(x => !isNullOrUndefined(x) &&\n        !this.bypassChangeDetection),\n      first()\n    );\n\n    return this.prepareSubscription({\n      observable,\n      observer,\n      error,\n      complete\n    });\n  }\n\n  public onFirstNonEmptyChange(observer?: ((value: Record<KEY, VALUE>) => void) | PartialObserver<Record<KEY, VALUE>>, error?: (error: any) => void, complete?: () => void): Subscription {\n    const observable = this.state.pipe(\n      filter(x => !isNullOrUndefined(x) &&\n        Object.keys(x).length > 0 &&\n        !this.bypassChangeDetection\n      ),\n      first()\n    )\n    return this.prepareSubscription({\n      observable,\n      observer,\n      error,\n      complete\n    });\n  }\n\n  public onFromSecondChange(\n    observer: PartialObserver<Record<KEY, VALUE>>,\n    callerComponent?: object\n  ): void;\n  public onFromSecondChange(\n    observer: (value: Record<KEY, VALUE>) => void,\n    callerComponent?: object\n  ): void;\n  public onFromSecondChange(\n    observer: (value: Record<KEY, VALUE>) => void,\n    error?: (error: any) => void,\n    callerComponent?: object\n  ): void;\n  public onFromSecondChange(\n    observer: (value: Record<KEY, VALUE>) => void,\n    error?: (error: any) => void,\n    complete?: () => void,\n    callerComponent?: object\n  ): void;\n  public onFromSecondChange(observer?: ((value: Record<KEY, VALUE>) => void) | PartialObserver<Record<KEY, VALUE>>, error?: (error: any) => void, complete?: () => void, callerComponent?: object): Subscription {\n    const observable = this.state.pipe(\n      untilDestroyed(callerComponent),\n      filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection),\n      skip(1)\n    );\n    return this.prepareSubscription({\n      observable,\n      observer,\n      error,\n      complete,\n      callerComponent\n    });\n  }\n}\n"]},"resolvedIds":{"rxjs":{"attributes":{},"external":true,"id":"rxjs","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"@ngneat/until-destroy":{"attributes":{},"external":true,"id":"@ngneat/until-destroy","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"rxjs/operators":{"attributes":{},"external":true,"id":"rxjs/operators","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"../helpers/type.helper":{"attributes":{},"external":false,"id":"/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/helpers/type.helper.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false},"./base-state":{"attributes":{},"external":false,"id":"/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/states/base-state.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":40141,"body":[{"type":"ImportDeclaration","start":0,"end":39,"specifiers":[{"type":"ImportSpecifier","start":9,"end":24,"imported":{"type":"Identifier","start":9,"end":24,"name":"BehaviorSubject"},"local":{"type":"Identifier","start":9,"end":24,"name":"BehaviorSubject"}}],"source":{"type":"Literal","start":32,"end":38,"value":"rxjs","raw":"\"rxjs\""},"attributes":[]},{"type":"ImportDeclaration","start":40,"end":95,"specifiers":[{"type":"ImportSpecifier","start":49,"end":63,"imported":{"type":"Identifier","start":49,"end":63,"name":"untilDestroyed"},"local":{"type":"Identifier","start":49,"end":63,"name":"untilDestroyed"}}],"source":{"type":"Literal","start":71,"end":94,"value":"@ngneat/until-destroy","raw":"\"@ngneat/until-destroy\""},"attributes":[]},{"type":"ImportDeclaration","start":96,"end":176,"specifiers":[{"type":"ImportSpecifier","start":105,"end":125,"imported":{"type":"Identifier","start":105,"end":125,"name":"distinctUntilChanged"},"local":{"type":"Identifier","start":105,"end":125,"name":"distinctUntilChanged"}},{"type":"ImportSpecifier","start":127,"end":133,"imported":{"type":"Identifier","start":127,"end":133,"name":"filter"},"local":{"type":"Identifier","start":127,"end":133,"name":"filter"}},{"type":"ImportSpecifier","start":135,"end":140,"imported":{"type":"Identifier","start":135,"end":140,"name":"first"},"local":{"type":"Identifier","start":135,"end":140,"name":"first"}},{"type":"ImportSpecifier","start":142,"end":145,"imported":{"type":"Identifier","start":142,"end":145,"name":"map"},"local":{"type":"Identifier","start":142,"end":145,"name":"map"}},{"type":"ImportSpecifier","start":147,"end":151,"imported":{"type":"Identifier","start":147,"end":151,"name":"skip"},"local":{"type":"Identifier","start":147,"end":151,"name":"skip"}}],"source":{"type":"Literal","start":159,"end":175,"value":"rxjs/operators","raw":"\"rxjs/operators\""},"attributes":[]},{"type":"ImportDeclaration","start":177,"end":256,"specifiers":[{"type":"ImportSpecifier","start":186,"end":203,"imported":{"type":"Identifier","start":186,"end":203,"name":"isNullOrUndefined"},"local":{"type":"Identifier","start":186,"end":203,"name":"isNullOrUndefined"}},{"type":"ImportSpecifier","start":205,"end":223,"imported":{"type":"Identifier","start":205,"end":223,"name":"countArrayElements"},"local":{"type":"Identifier","start":205,"end":223,"name":"countArrayElements"}}],"source":{"type":"Literal","start":231,"end":255,"value":"../helpers/type.helper","raw":"\"../helpers/type.helper\""},"attributes":[]},{"type":"ImportDeclaration","start":257,"end":298,"specifiers":[{"type":"ImportSpecifier","start":266,"end":275,"imported":{"type":"Identifier","start":266,"end":275,"name":"BaseState"},"local":{"type":"Identifier","start":266,"end":275,"name":"BaseState"}}],"source":{"type":"Literal","start":283,"end":297,"value":"./base-state","raw":"\"./base-state\""},"attributes":[]},{"type":"ExportNamedDeclaration","start":299,"end":8318,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"ClassDeclaration","start":306,"end":8318,"decorators":[],"id":{"type":"Identifier","start":312,"end":326,"name":"KeyValuesState"},"superClass":{"type":"Identifier","start":335,"end":344,"name":"BaseState"},"body":{"type":"ClassBody","start":345,"end":8318,"body":[{"type":"PropertyDefinition","start":351,"end":360,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":351,"end":359,"name":"_subject"},"value":null},{"type":"PropertyDefinition","start":365,"end":388,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":365,"end":378,"name":"_keySeparator"},"value":{"type":"Literal","start":381,"end":387,"value":"####","raw":"'####'"}},{"type":"MethodDefinition","start":393,"end":457,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":397,"end":402,"name":"state"},"value":{"type":"FunctionExpression","start":402,"end":457,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":405,"end":457,"body":[{"type":"ReturnStatement","start":415,"end":451,"argument":{"type":"CallExpression","start":422,"end":450,"optional":false,"callee":{"type":"MemberExpression","start":422,"end":448,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":422,"end":435,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":422,"end":426},"property":{"type":"Identifier","start":427,"end":435,"name":"_subject"}},"property":{"type":"Identifier","start":436,"end":448,"name":"asObservable"}},"arguments":[]}}]},"expression":false},"kind":"get"},{"type":"MethodDefinition","start":462,"end":832,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":462,"end":472,"name":"stateOfKey"},"value":{"type":"FunctionExpression","start":472,"end":832,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":473,"end":476,"name":"key"},{"type":"AssignmentPattern","start":478,"end":501,"left":{"type":"Identifier","start":478,"end":494,"name":"changedStateOnly"},"right":{"type":"Literal","start":497,"end":501,"value":true,"raw":"true"}}],"body":{"type":"BlockStatement","start":503,"end":832,"body":[{"type":"VariableDeclaration","start":513,"end":707,"kind":"const","declarations":[{"type":"VariableDeclarator","start":519,"end":706,"id":{"type":"Identifier","start":519,"end":524,"name":"state"},"init":{"type":"CallExpression","start":527,"end":706,"optional":false,"callee":{"type":"MemberExpression","start":527,"end":542,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":527,"end":537,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":527,"end":531},"property":{"type":"Identifier","start":532,"end":537,"name":"state"}},"property":{"type":"Identifier","start":538,"end":542,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":543,"end":677,"optional":false,"callee":{"type":"Identifier","start":543,"end":549,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":550,"end":676,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":550,"end":556,"name":"record"}],"body":{"type":"LogicalExpression","start":560,"end":676,"operator":"&&","left":{"type":"LogicalExpression","start":560,"end":633,"operator":"&&","left":{"type":"UnaryExpression","start":560,"end":586,"operator":"!","argument":{"type":"CallExpression","start":561,"end":586,"optional":false,"callee":{"type":"Identifier","start":561,"end":578,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":579,"end":585,"name":"record"}]},"prefix":true},"right":{"type":"UnaryExpression","start":602,"end":633,"operator":"!","argument":{"type":"CallExpression","start":603,"end":633,"optional":false,"callee":{"type":"Identifier","start":603,"end":620,"name":"isNullOrUndefined"},"arguments":[{"type":"MemberExpression","start":621,"end":632,"computed":true,"optional":false,"object":{"type":"Identifier","start":621,"end":627,"name":"record"},"property":{"type":"Identifier","start":628,"end":631,"name":"key"}}]},"prefix":true}},"right":{"type":"UnaryExpression","start":649,"end":676,"operator":"!","argument":{"type":"MemberExpression","start":650,"end":676,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":650,"end":654},"property":{"type":"Identifier","start":655,"end":676,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]},{"type":"CallExpression","start":679,"end":705,"optional":false,"callee":{"type":"Identifier","start":679,"end":682,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":683,"end":704,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":683,"end":689,"name":"record"}],"body":{"type":"MemberExpression","start":693,"end":704,"computed":true,"optional":false,"object":{"type":"Identifier","start":693,"end":699,"name":"record"},"property":{"type":"Identifier","start":700,"end":703,"name":"key"}},"id":null}]}]}}]},{"type":"IfStatement","start":716,"end":804,"test":{"type":"Identifier","start":720,"end":736,"name":"changedStateOnly"},"consequent":{"type":"BlockStatement","start":738,"end":804,"body":[{"type":"ReturnStatement","start":752,"end":794,"argument":{"type":"CallExpression","start":759,"end":793,"optional":false,"callee":{"type":"MemberExpression","start":759,"end":769,"computed":false,"optional":false,"object":{"type":"Identifier","start":759,"end":764,"name":"state"},"property":{"type":"Identifier","start":765,"end":769,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":770,"end":792,"optional":false,"callee":{"type":"Identifier","start":770,"end":790,"name":"distinctUntilChanged"},"arguments":[]}]}}]},"alternate":null},{"type":"ReturnStatement","start":813,"end":826,"argument":{"type":"Identifier","start":820,"end":825,"name":"state"}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":837,"end":928,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":837,"end":848,"name":"stateOfKeys"},"value":{"type":"FunctionExpression","start":848,"end":928,"async":false,"generator":false,"id":null,"params":[{"type":"RestElement","start":849,"end":856,"argument":{"type":"Identifier","start":852,"end":856,"name":"keys"}}],"body":{"type":"BlockStatement","start":858,"end":928,"body":[{"type":"ReturnStatement","start":868,"end":922,"argument":{"type":"CallExpression","start":875,"end":921,"optional":false,"callee":{"type":"MemberExpression","start":875,"end":890,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":875,"end":879},"property":{"type":"Identifier","start":880,"end":890,"name":"stateOfKey"}},"arguments":[{"type":"CallExpression","start":891,"end":920,"optional":false,"callee":{"type":"MemberExpression","start":891,"end":900,"computed":false,"optional":false,"object":{"type":"Identifier","start":891,"end":895,"name":"keys"},"property":{"type":"Identifier","start":896,"end":900,"name":"join"}},"arguments":[{"type":"MemberExpression","start":901,"end":919,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":901,"end":905},"property":{"type":"Identifier","start":906,"end":919,"name":"_keySeparator"}}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":933,"end":1269,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":933,"end":939,"name":"hasKey"},"value":{"type":"FunctionExpression","start":939,"end":1269,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":940,"end":943,"name":"key"},{"type":"AssignmentPattern","start":945,"end":962,"left":{"type":"Identifier","start":945,"end":955,"name":"exactMatch"},"right":{"type":"Literal","start":958,"end":962,"value":true,"raw":"true"}}],"body":{"type":"BlockStatement","start":964,"end":1269,"body":[{"type":"ReturnStatement","start":974,"end":1263,"argument":{"type":"CallExpression","start":981,"end":1262,"optional":false,"callee":{"type":"MemberExpression","start":981,"end":996,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":981,"end":991,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":981,"end":985},"property":{"type":"Identifier","start":986,"end":991,"name":"state"}},"property":{"type":"Identifier","start":992,"end":996,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":997,"end":1237,"optional":false,"callee":{"type":"Identifier","start":997,"end":1000,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":1001,"end":1236,"async":false,"expression":false,"generator":false,"params":[{"type":"Identifier","start":1001,"end":1007,"name":"record"}],"body":{"type":"BlockStatement","start":1011,"end":1236,"body":[{"type":"IfStatement","start":1025,"end":1226,"test":{"type":"LogicalExpression","start":1029,"end":1067,"operator":"&&","left":{"type":"BinaryExpression","start":1029,"end":1052,"operator":"===","left":{"type":"UnaryExpression","start":1029,"end":1039,"operator":"typeof","argument":{"type":"Identifier","start":1036,"end":1039,"name":"key"},"prefix":true},"right":{"type":"Literal","start":1044,"end":1052,"value":"string","raw":"'string'"}},"right":{"type":"UnaryExpression","start":1056,"end":1067,"operator":"!","argument":{"type":"Identifier","start":1057,"end":1067,"name":"exactMatch"},"prefix":true}},"consequent":{"type":"BlockStatement","start":1069,"end":1155,"body":[{"type":"ReturnStatement","start":1087,"end":1141,"argument":{"type":"CallExpression","start":1094,"end":1140,"optional":false,"callee":{"type":"MemberExpression","start":1094,"end":1118,"computed":false,"optional":false,"object":{"type":"CallExpression","start":1094,"end":1113,"optional":false,"callee":{"type":"MemberExpression","start":1094,"end":1105,"computed":false,"optional":false,"object":{"type":"Identifier","start":1094,"end":1100,"name":"Object"},"property":{"type":"Identifier","start":1101,"end":1105,"name":"keys"}},"arguments":[{"type":"Identifier","start":1106,"end":1112,"name":"record"}]},"property":{"type":"Identifier","start":1114,"end":1118,"name":"some"}},"arguments":[{"type":"ArrowFunctionExpression","start":1119,"end":1139,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":1119,"end":1120,"name":"k"}],"body":{"type":"CallExpression","start":1124,"end":1139,"optional":false,"callee":{"type":"MemberExpression","start":1124,"end":1134,"computed":false,"optional":false,"object":{"type":"Identifier","start":1124,"end":1125,"name":"k"},"property":{"type":"Identifier","start":1126,"end":1134,"name":"includes"}},"arguments":[{"type":"Identifier","start":1135,"end":1138,"name":"key"}]},"id":null}]}}]},"alternate":{"type":"BlockStatement","start":1173,"end":1226,"body":[{"type":"ReturnStatement","start":1191,"end":1212,"argument":{"type":"BinaryExpression","start":1198,"end":1211,"operator":"in","left":{"type":"Identifier","start":1198,"end":1201,"name":"key"},"right":{"type":"Identifier","start":1205,"end":1211,"name":"record"}}}]}}]},"id":null}]},{"type":"CallExpression","start":1239,"end":1261,"optional":false,"callee":{"type":"Identifier","start":1239,"end":1259,"name":"distinctUntilChanged"},"arguments":[]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":1274,"end":1332,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1278,"end":1282,"name":"keys"},"value":{"type":"FunctionExpression","start":1282,"end":1332,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":1285,"end":1332,"body":[{"type":"ReturnStatement","start":1295,"end":1326,"argument":{"type":"CallExpression","start":1302,"end":1325,"optional":false,"callee":{"type":"MemberExpression","start":1302,"end":1313,"computed":false,"optional":false,"object":{"type":"Identifier","start":1302,"end":1308,"name":"Object"},"property":{"type":"Identifier","start":1309,"end":1313,"name":"keys"}},"arguments":[{"type":"MemberExpression","start":1314,"end":1324,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1314,"end":1318},"property":{"type":"Identifier","start":1319,"end":1324,"name":"value"}}]}}]},"expression":false},"kind":"get"},{"type":"MethodDefinition","start":1337,"end":1458,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1337,"end":1351,"name":"getKeysOfIndex"},"value":{"type":"FunctionExpression","start":1351,"end":1458,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":1352,"end":1360,"name":"keyIndex"}],"body":{"type":"BlockStatement","start":1362,"end":1458,"body":[{"type":"ReturnStatement","start":1372,"end":1452,"argument":{"type":"CallExpression","start":1379,"end":1451,"optional":false,"callee":{"type":"MemberExpression","start":1379,"end":1392,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1379,"end":1388,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1379,"end":1383},"property":{"type":"Identifier","start":1384,"end":1388,"name":"keys"}},"property":{"type":"Identifier","start":1389,"end":1392,"name":"map"}},"arguments":[{"type":"ArrowFunctionExpression","start":1393,"end":1450,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":1393,"end":1396,"name":"key"}],"body":{"type":"MemberExpression","start":1400,"end":1450,"computed":true,"optional":false,"object":{"type":"CallExpression","start":1400,"end":1440,"optional":false,"callee":{"type":"MemberExpression","start":1400,"end":1420,"computed":false,"optional":false,"object":{"type":"CallExpression","start":1400,"end":1414,"optional":false,"callee":{"type":"MemberExpression","start":1400,"end":1412,"computed":false,"optional":false,"object":{"type":"Identifier","start":1400,"end":1403,"name":"key"},"property":{"type":"Identifier","start":1404,"end":1412,"name":"toString"}},"arguments":[]},"property":{"type":"Identifier","start":1415,"end":1420,"name":"split"}},"arguments":[{"type":"MemberExpression","start":1421,"end":1439,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1421,"end":1425},"property":{"type":"Identifier","start":1426,"end":1439,"name":"_keySeparator"}}]},"property":{"type":"Identifier","start":1441,"end":1449,"name":"keyIndex"}},"id":null}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":1463,"end":1526,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1467,"end":1474,"name":"toArray"},"value":{"type":"FunctionExpression","start":1474,"end":1526,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":1477,"end":1526,"body":[{"type":"ReturnStatement","start":1487,"end":1520,"argument":{"type":"CallExpression","start":1494,"end":1519,"optional":false,"callee":{"type":"MemberExpression","start":1494,"end":1507,"computed":false,"optional":false,"object":{"type":"Identifier","start":1494,"end":1500,"name":"Object"},"property":{"type":"Identifier","start":1501,"end":1507,"name":"values"}},"arguments":[{"type":"MemberExpression","start":1508,"end":1518,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1508,"end":1512},"property":{"type":"Identifier","start":1513,"end":1518,"name":"value"}}]}}]},"expression":false},"kind":"get"},{"type":"MethodDefinition","start":1531,"end":1600,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1535,"end":1541,"name":"length"},"value":{"type":"FunctionExpression","start":1541,"end":1600,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":1544,"end":1600,"body":[{"type":"ReturnStatement","start":1554,"end":1594,"argument":{"type":"CallExpression","start":1561,"end":1593,"optional":false,"callee":{"type":"Identifier","start":1561,"end":1579,"name":"countArrayElements"},"arguments":[{"type":"MemberExpression","start":1580,"end":1592,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1580,"end":1584},"property":{"type":"Identifier","start":1585,"end":1592,"name":"toArray"}}]}}]},"expression":false},"kind":"get"},{"type":"MethodDefinition","start":1605,"end":1691,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1609,"end":1621,"name":"toArrayState"},"value":{"type":"FunctionExpression","start":1621,"end":1691,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":1624,"end":1691,"body":[{"type":"ReturnStatement","start":1634,"end":1685,"argument":{"type":"CallExpression","start":1641,"end":1684,"optional":false,"callee":{"type":"MemberExpression","start":1641,"end":1656,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1641,"end":1651,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1641,"end":1645},"property":{"type":"Identifier","start":1646,"end":1651,"name":"state"}},"property":{"type":"Identifier","start":1652,"end":1656,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":1657,"end":1683,"optional":false,"callee":{"type":"Identifier","start":1657,"end":1660,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":1661,"end":1682,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":1661,"end":1662,"name":"x"}],"body":{"type":"CallExpression","start":1666,"end":1682,"optional":false,"callee":{"type":"MemberExpression","start":1666,"end":1679,"computed":false,"optional":false,"object":{"type":"Identifier","start":1666,"end":1672,"name":"Object"},"property":{"type":"Identifier","start":1673,"end":1679,"name":"values"}},"arguments":[{"type":"Identifier","start":1680,"end":1681,"name":"x"}]},"id":null}]}]}}]},"expression":false},"kind":"get"},{"type":"MethodDefinition","start":1696,"end":1756,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1700,"end":1705,"name":"value"},"value":{"type":"FunctionExpression","start":1705,"end":1756,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":1708,"end":1756,"body":[{"type":"ReturnStatement","start":1718,"end":1750,"argument":{"type":"CallExpression","start":1725,"end":1749,"optional":false,"callee":{"type":"MemberExpression","start":1725,"end":1747,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1725,"end":1738,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1725,"end":1729},"property":{"type":"Identifier","start":1730,"end":1738,"name":"_subject"}},"property":{"type":"Identifier","start":1739,"end":1747,"name":"getValue"}},"arguments":[]}}]},"expression":false},"kind":"get"},{"type":"MethodDefinition","start":1761,"end":1876,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1761,"end":1772,"name":"constructor"},"value":{"type":"FunctionExpression","start":1772,"end":1876,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":1773,"end":1785,"name":"initialValue"}],"body":{"type":"BlockStatement","start":1787,"end":1876,"body":[{"type":"ExpressionStatement","start":1797,"end":1805,"expression":{"type":"CallExpression","start":1797,"end":1804,"optional":false,"callee":{"type":"Super","start":1797,"end":1802},"arguments":[]}},{"type":"ExpressionStatement","start":1814,"end":1870,"expression":{"type":"AssignmentExpression","start":1814,"end":1869,"operator":"=","left":{"type":"MemberExpression","start":1814,"end":1827,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1814,"end":1818},"property":{"type":"Identifier","start":1819,"end":1827,"name":"_subject"}},"right":{"type":"NewExpression","start":1830,"end":1869,"callee":{"type":"Identifier","start":1834,"end":1849,"name":"BehaviorSubject"},"arguments":[{"type":"LogicalExpression","start":1850,"end":1868,"operator":"??","left":{"type":"Identifier","start":1850,"end":1862,"name":"initialValue"},"right":{"type":"ObjectExpression","start":1866,"end":1868,"properties":[]}}]}}}]},"expression":false},"kind":"constructor"},{"type":"MethodDefinition","start":1881,"end":1934,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1881,"end":1889,"name":"getValue"},"value":{"type":"FunctionExpression","start":1889,"end":1934,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":1890,"end":1893,"name":"key"}],"body":{"type":"BlockStatement","start":1895,"end":1934,"body":[{"type":"ReturnStatement","start":1905,"end":1928,"argument":{"type":"MemberExpression","start":1912,"end":1927,"computed":true,"optional":false,"object":{"type":"MemberExpression","start":1912,"end":1922,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1912,"end":1916},"property":{"type":"Identifier","start":1917,"end":1922,"name":"value"}},"property":{"type":"Identifier","start":1923,"end":1926,"name":"key"}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":1939,"end":2040,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1939,"end":1953,"name":"getValueByKeys"},"value":{"type":"FunctionExpression","start":1953,"end":2040,"async":false,"generator":false,"id":null,"params":[{"type":"RestElement","start":1954,"end":1961,"argument":{"type":"Identifier","start":1957,"end":1961,"name":"keys"}}],"body":{"type":"BlockStatement","start":1963,"end":2040,"body":[{"type":"ReturnStatement","start":1973,"end":2034,"argument":{"type":"MemberExpression","start":1980,"end":2033,"computed":true,"optional":false,"object":{"type":"MemberExpression","start":1980,"end":1990,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1980,"end":1984},"property":{"type":"Identifier","start":1985,"end":1990,"name":"value"}},"property":{"type":"CallExpression","start":1991,"end":2032,"optional":false,"callee":{"type":"MemberExpression","start":1991,"end":2012,"computed":false,"optional":false,"object":{"type":"CallExpression","start":1991,"end":2007,"optional":false,"callee":{"type":"MemberExpression","start":1991,"end":1999,"computed":false,"optional":false,"object":{"type":"Identifier","start":1991,"end":1995,"name":"keys"},"property":{"type":"Identifier","start":1996,"end":1999,"name":"map"}},"arguments":[{"type":"Identifier","start":2000,"end":2006,"name":"String"}]},"property":{"type":"Identifier","start":2008,"end":2012,"name":"join"}},"arguments":[{"type":"MemberExpression","start":2013,"end":2031,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2013,"end":2017},"property":{"type":"Identifier","start":2018,"end":2031,"name":"_keySeparator"}}]}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2045,"end":2291,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2045,"end":2053,"name":"setValue"},"value":{"type":"FunctionExpression","start":2053,"end":2291,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":2054,"end":2057,"name":"key"},{"type":"Identifier","start":2059,"end":2064,"name":"value"},{"type":"AssignmentPattern","start":2066,"end":2095,"left":{"type":"Identifier","start":2066,"end":2087,"name":"bypassChangeDetection"},"right":{"type":"Literal","start":2090,"end":2095,"value":false,"raw":"false"}}],"body":{"type":"BlockStatement","start":2097,"end":2291,"body":[{"type":"ExpressionStatement","start":2107,"end":2158,"expression":{"type":"AssignmentExpression","start":2107,"end":2157,"operator":"=","left":{"type":"MemberExpression","start":2107,"end":2133,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2107,"end":2111},"property":{"type":"Identifier","start":2112,"end":2133,"name":"bypassChangeDetection"}},"right":{"type":"Identifier","start":2136,"end":2157,"name":"bypassChangeDetection"}}},{"type":"VariableDeclaration","start":2167,"end":2193,"kind":"const","declarations":[{"type":"VariableDeclarator","start":2173,"end":2192,"id":{"type":"Identifier","start":2173,"end":2179,"name":"newSet"},"init":{"type":"MemberExpression","start":2182,"end":2192,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2182,"end":2186},"property":{"type":"Identifier","start":2187,"end":2192,"name":"value"}}}]},{"type":"ExpressionStatement","start":2202,"end":2222,"expression":{"type":"AssignmentExpression","start":2202,"end":2221,"operator":"=","left":{"type":"MemberExpression","start":2202,"end":2213,"computed":true,"optional":false,"object":{"type":"Identifier","start":2202,"end":2208,"name":"newSet"},"property":{"type":"Identifier","start":2209,"end":2212,"name":"key"}},"right":{"type":"Identifier","start":2216,"end":2221,"name":"value"}}},{"type":"ExpressionStatement","start":2231,"end":2258,"expression":{"type":"CallExpression","start":2231,"end":2257,"optional":false,"callee":{"type":"MemberExpression","start":2231,"end":2249,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2231,"end":2244,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2231,"end":2235},"property":{"type":"Identifier","start":2236,"end":2244,"name":"_subject"}},"property":{"type":"Identifier","start":2245,"end":2249,"name":"next"}},"arguments":[{"type":"Identifier","start":2250,"end":2256,"name":"newSet"}]}},{"type":"ReturnStatement","start":2267,"end":2285,"argument":{"type":"MemberExpression","start":2274,"end":2284,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2274,"end":2278},"property":{"type":"Identifier","start":2279,"end":2284,"name":"state"}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2296,"end":2510,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2296,"end":2307,"name":"removeValue"},"value":{"type":"FunctionExpression","start":2307,"end":2510,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":2308,"end":2311,"name":"key"},{"type":"AssignmentPattern","start":2313,"end":2342,"left":{"type":"Identifier","start":2313,"end":2334,"name":"bypassChangeDetection"},"right":{"type":"Literal","start":2337,"end":2342,"value":false,"raw":"false"}}],"body":{"type":"BlockStatement","start":2344,"end":2510,"body":[{"type":"ExpressionStatement","start":2354,"end":2405,"expression":{"type":"AssignmentExpression","start":2354,"end":2404,"operator":"=","left":{"type":"MemberExpression","start":2354,"end":2380,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2354,"end":2358},"property":{"type":"Identifier","start":2359,"end":2380,"name":"bypassChangeDetection"}},"right":{"type":"Identifier","start":2383,"end":2404,"name":"bypassChangeDetection"}}},{"type":"VariableDeclaration","start":2414,"end":2440,"kind":"const","declarations":[{"type":"VariableDeclarator","start":2420,"end":2439,"id":{"type":"Identifier","start":2420,"end":2426,"name":"newSet"},"init":{"type":"MemberExpression","start":2429,"end":2439,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2429,"end":2433},"property":{"type":"Identifier","start":2434,"end":2439,"name":"value"}}}]},{"type":"ExpressionStatement","start":2449,"end":2468,"expression":{"type":"UnaryExpression","start":2449,"end":2467,"operator":"delete","argument":{"type":"MemberExpression","start":2456,"end":2467,"computed":true,"optional":false,"object":{"type":"Identifier","start":2456,"end":2462,"name":"newSet"},"property":{"type":"Identifier","start":2463,"end":2466,"name":"key"}},"prefix":true}},{"type":"ExpressionStatement","start":2477,"end":2504,"expression":{"type":"CallExpression","start":2477,"end":2503,"optional":false,"callee":{"type":"MemberExpression","start":2477,"end":2495,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2477,"end":2490,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2477,"end":2481},"property":{"type":"Identifier","start":2482,"end":2490,"name":"_subject"}},"property":{"type":"Identifier","start":2491,"end":2495,"name":"next"}},"arguments":[{"type":"Identifier","start":2496,"end":2502,"name":"newSet"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2515,"end":2676,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2515,"end":2530,"name":"setValuesByKeys"},"value":{"type":"FunctionExpression","start":2530,"end":2676,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":2531,"end":2536,"name":"value"},{"type":"AssignmentPattern","start":2538,"end":2567,"left":{"type":"Identifier","start":2538,"end":2559,"name":"bypassChangeDetection"},"right":{"type":"Literal","start":2562,"end":2567,"value":false,"raw":"false"}},{"type":"RestElement","start":2569,"end":2576,"argument":{"type":"Identifier","start":2572,"end":2576,"name":"keys"}}],"body":{"type":"BlockStatement","start":2578,"end":2676,"body":[{"type":"ReturnStatement","start":2588,"end":2670,"argument":{"type":"CallExpression","start":2595,"end":2669,"optional":false,"callee":{"type":"MemberExpression","start":2595,"end":2608,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2595,"end":2599},"property":{"type":"Identifier","start":2600,"end":2608,"name":"setValue"}},"arguments":[{"type":"CallExpression","start":2609,"end":2638,"optional":false,"callee":{"type":"MemberExpression","start":2609,"end":2618,"computed":false,"optional":false,"object":{"type":"Identifier","start":2609,"end":2613,"name":"keys"},"property":{"type":"Identifier","start":2614,"end":2618,"name":"join"}},"arguments":[{"type":"MemberExpression","start":2619,"end":2637,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2619,"end":2623},"property":{"type":"Identifier","start":2624,"end":2637,"name":"_keySeparator"}}]},{"type":"Identifier","start":2640,"end":2645,"name":"value"},{"type":"Identifier","start":2647,"end":2668,"name":"bypassChangeDetection"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2681,"end":3130,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2681,"end":2691,"name":"addToValue"},"value":{"type":"FunctionExpression","start":2691,"end":3130,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":2692,"end":2695,"name":"key"},{"type":"Identifier","start":2697,"end":2702,"name":"value"},{"type":"Identifier","start":2704,"end":2710,"name":"unique"},{"type":"AssignmentPattern","start":2712,"end":2741,"left":{"type":"Identifier","start":2712,"end":2733,"name":"bypassChangeDetection"},"right":{"type":"Literal","start":2736,"end":2741,"value":false,"raw":"false"}}],"body":{"type":"BlockStatement","start":2743,"end":3130,"body":[{"type":"ExpressionStatement","start":2753,"end":2804,"expression":{"type":"AssignmentExpression","start":2753,"end":2803,"operator":"=","left":{"type":"MemberExpression","start":2753,"end":2779,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2753,"end":2757},"property":{"type":"Identifier","start":2758,"end":2779,"name":"bypassChangeDetection"}},"right":{"type":"Identifier","start":2782,"end":2803,"name":"bypassChangeDetection"}}},{"type":"VariableDeclaration","start":2813,"end":2845,"kind":"const","declarations":[{"type":"VariableDeclarator","start":2819,"end":2844,"id":{"type":"Identifier","start":2819,"end":2827,"name":"isUnique"},"init":{"type":"LogicalExpression","start":2830,"end":2844,"operator":"??","left":{"type":"Identifier","start":2830,"end":2836,"name":"unique"},"right":{"type":"Literal","start":2840,"end":2844,"value":true,"raw":"true"}}}]},{"type":"VariableDeclaration","start":2854,"end":2894,"kind":"const","declarations":[{"type":"VariableDeclarator","start":2860,"end":2893,"id":{"type":"Identifier","start":2860,"end":2872,"name":"currentValue"},"init":{"type":"CallExpression","start":2875,"end":2893,"optional":false,"callee":{"type":"MemberExpression","start":2875,"end":2888,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2875,"end":2879},"property":{"type":"Identifier","start":2880,"end":2888,"name":"getValue"}},"arguments":[{"type":"Identifier","start":2889,"end":2892,"name":"key"}]}}]},{"type":"IfStatement","start":2903,"end":3031,"test":{"type":"LogicalExpression","start":2907,"end":2987,"operator":"&&","left":{"type":"Identifier","start":2907,"end":2915,"name":"isUnique"},"right":{"type":"ChainExpression","start":2919,"end":2987,"expression":{"type":"CallExpression","start":2919,"end":2987,"optional":false,"callee":{"type":"MemberExpression","start":2919,"end":2937,"computed":false,"optional":true,"object":{"type":"Identifier","start":2919,"end":2931,"name":"currentValue"},"property":{"type":"Identifier","start":2933,"end":2937,"name":"some"}},"arguments":[{"type":"ArrowFunctionExpression","start":2938,"end":2986,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":2938,"end":2939,"name":"x"}],"body":{"type":"BinaryExpression","start":2943,"end":2986,"operator":"===","left":{"type":"CallExpression","start":2943,"end":2960,"optional":false,"callee":{"type":"MemberExpression","start":2943,"end":2957,"computed":false,"optional":false,"object":{"type":"Identifier","start":2943,"end":2947,"name":"JSON"},"property":{"type":"Identifier","start":2948,"end":2957,"name":"stringify"}},"arguments":[{"type":"Identifier","start":2958,"end":2959,"name":"x"}]},"right":{"type":"CallExpression","start":2965,"end":2986,"optional":false,"callee":{"type":"MemberExpression","start":2965,"end":2979,"computed":false,"optional":false,"object":{"type":"Identifier","start":2965,"end":2969,"name":"JSON"},"property":{"type":"Identifier","start":2970,"end":2979,"name":"stringify"}},"arguments":[{"type":"Identifier","start":2980,"end":2985,"name":"value"}]}},"id":null}]}}},"consequent":{"type":"BlockStatement","start":2989,"end":3031,"body":[{"type":"ReturnStatement","start":3003,"end":3021,"argument":{"type":"MemberExpression","start":3010,"end":3020,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3010,"end":3014},"property":{"type":"Identifier","start":3015,"end":3020,"name":"state"}}}]},"alternate":null},{"type":"ExpressionStatement","start":3040,"end":3097,"expression":{"type":"CallExpression","start":3040,"end":3096,"optional":false,"callee":{"type":"MemberExpression","start":3040,"end":3053,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3040,"end":3044},"property":{"type":"Identifier","start":3045,"end":3053,"name":"setValue"}},"arguments":[{"type":"Identifier","start":3054,"end":3057,"name":"key"},{"type":"ArrayExpression","start":3059,"end":3095,"elements":[{"type":"SpreadElement","start":3060,"end":3087,"argument":{"type":"LogicalExpression","start":3063,"end":3087,"operator":"||","left":{"type":"CallExpression","start":3063,"end":3081,"optional":false,"callee":{"type":"MemberExpression","start":3063,"end":3076,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3063,"end":3067},"property":{"type":"Identifier","start":3068,"end":3076,"name":"getValue"}},"arguments":[{"type":"Identifier","start":3077,"end":3080,"name":"key"}]},"right":{"type":"ArrayExpression","start":3085,"end":3087,"elements":[]}}},{"type":"Identifier","start":3089,"end":3094,"name":"value"}]}]}},{"type":"ReturnStatement","start":3106,"end":3124,"argument":{"type":"MemberExpression","start":3113,"end":3123,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3113,"end":3117},"property":{"type":"Identifier","start":3118,"end":3123,"name":"state"}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":3135,"end":3315,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":3135,"end":3151,"name":"addToValueByKeys"},"value":{"type":"FunctionExpression","start":3151,"end":3315,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":3152,"end":3157,"name":"value"},{"type":"Identifier","start":3159,"end":3165,"name":"unique"},{"type":"AssignmentPattern","start":3167,"end":3196,"left":{"type":"Identifier","start":3167,"end":3188,"name":"bypassChangeDetection"},"right":{"type":"Literal","start":3191,"end":3196,"value":false,"raw":"false"}},{"type":"RestElement","start":3198,"end":3205,"argument":{"type":"Identifier","start":3201,"end":3205,"name":"keys"}}],"body":{"type":"BlockStatement","start":3207,"end":3315,"body":[{"type":"ReturnStatement","start":3217,"end":3309,"argument":{"type":"CallExpression","start":3224,"end":3308,"optional":false,"callee":{"type":"MemberExpression","start":3224,"end":3239,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3224,"end":3228},"property":{"type":"Identifier","start":3229,"end":3239,"name":"addToValue"}},"arguments":[{"type":"CallExpression","start":3240,"end":3269,"optional":false,"callee":{"type":"MemberExpression","start":3240,"end":3249,"computed":false,"optional":false,"object":{"type":"Identifier","start":3240,"end":3244,"name":"keys"},"property":{"type":"Identifier","start":3245,"end":3249,"name":"join"}},"arguments":[{"type":"MemberExpression","start":3250,"end":3268,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3250,"end":3254},"property":{"type":"Identifier","start":3255,"end":3268,"name":"_keySeparator"}}]},{"type":"Identifier","start":3271,"end":3276,"name":"value"},{"type":"Identifier","start":3278,"end":3284,"name":"unique"},{"type":"Identifier","start":3286,"end":3307,"name":"bypassChangeDetection"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":3320,"end":3660,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":3320,"end":3335,"name":"removeFromValue"},"value":{"type":"FunctionExpression","start":3335,"end":3660,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":3336,"end":3339,"name":"key"},{"type":"Identifier","start":3341,"end":3346,"name":"value"},{"type":"AssignmentPattern","start":3348,"end":3377,"left":{"type":"Identifier","start":3348,"end":3369,"name":"bypassChangeDetection"},"right":{"type":"Literal","start":3372,"end":3377,"value":false,"raw":"false"}}],"body":{"type":"BlockStatement","start":3379,"end":3660,"body":[{"type":"ExpressionStatement","start":3389,"end":3440,"expression":{"type":"AssignmentExpression","start":3389,"end":3439,"operator":"=","left":{"type":"MemberExpression","start":3389,"end":3415,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3389,"end":3393},"property":{"type":"Identifier","start":3394,"end":3415,"name":"bypassChangeDetection"}},"right":{"type":"Identifier","start":3418,"end":3439,"name":"bypassChangeDetection"}}},{"type":"IfStatement","start":3449,"end":3526,"test":{"type":"BinaryExpression","start":3453,"end":3482,"operator":"===","left":{"type":"MemberExpression","start":3453,"end":3468,"computed":true,"optional":false,"object":{"type":"MemberExpression","start":3453,"end":3463,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3453,"end":3457},"property":{"type":"Identifier","start":3458,"end":3463,"name":"value"}},"property":{"type":"Identifier","start":3464,"end":3467,"name":"key"}},"right":{"type":"Identifier","start":3473,"end":3482,"name":"undefined"}},"consequent":{"type":"BlockStatement","start":3484,"end":3526,"body":[{"type":"ReturnStatement","start":3498,"end":3516,"argument":{"type":"MemberExpression","start":3505,"end":3515,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3505,"end":3509},"property":{"type":"Identifier","start":3510,"end":3515,"name":"state"}}}]},"alternate":null},{"type":"VariableDeclaration","start":3535,"end":3561,"kind":"const","declarations":[{"type":"VariableDeclarator","start":3541,"end":3560,"id":{"type":"Identifier","start":3541,"end":3547,"name":"newSet"},"init":{"type":"MemberExpression","start":3550,"end":3560,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3550,"end":3554},"property":{"type":"Identifier","start":3555,"end":3560,"name":"value"}}}]},{"type":"ExpressionStatement","start":3570,"end":3621,"expression":{"type":"AssignmentExpression","start":3570,"end":3620,"operator":"=","left":{"type":"MemberExpression","start":3570,"end":3581,"computed":true,"optional":false,"object":{"type":"Identifier","start":3570,"end":3576,"name":"newSet"},"property":{"type":"Identifier","start":3577,"end":3580,"name":"key"}},"right":{"type":"CallExpression","start":3584,"end":3620,"optional":false,"callee":{"type":"MemberExpression","start":3584,"end":3602,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3584,"end":3595,"computed":true,"optional":false,"object":{"type":"Identifier","start":3584,"end":3590,"name":"newSet"},"property":{"type":"Identifier","start":3591,"end":3594,"name":"key"}},"property":{"type":"Identifier","start":3596,"end":3602,"name":"filter"}},"arguments":[{"type":"ArrowFunctionExpression","start":3603,"end":3619,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":3603,"end":3604,"name":"x"}],"body":{"type":"BinaryExpression","start":3608,"end":3619,"operator":"!==","left":{"type":"Identifier","start":3608,"end":3609,"name":"x"},"right":{"type":"Identifier","start":3614,"end":3619,"name":"value"}},"id":null}]}}},{"type":"ReturnStatement","start":3630,"end":3654,"argument":{"type":"CallExpression","start":3637,"end":3653,"optional":false,"callee":{"type":"MemberExpression","start":3637,"end":3645,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3637,"end":3641},"property":{"type":"Identifier","start":3642,"end":3645,"name":"set"}},"arguments":[{"type":"Identifier","start":3646,"end":3652,"name":"newSet"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":3665,"end":3839,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":3665,"end":3686,"name":"removeFromValueByKeys"},"value":{"type":"FunctionExpression","start":3686,"end":3839,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":3687,"end":3692,"name":"value"},{"type":"AssignmentPattern","start":3694,"end":3723,"left":{"type":"Identifier","start":3694,"end":3715,"name":"bypassChangeDetection"},"right":{"type":"Literal","start":3718,"end":3723,"value":false,"raw":"false"}},{"type":"RestElement","start":3725,"end":3732,"argument":{"type":"Identifier","start":3728,"end":3732,"name":"keys"}}],"body":{"type":"BlockStatement","start":3734,"end":3839,"body":[{"type":"ReturnStatement","start":3744,"end":3833,"argument":{"type":"CallExpression","start":3751,"end":3832,"optional":false,"callee":{"type":"MemberExpression","start":3751,"end":3771,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3751,"end":3755},"property":{"type":"Identifier","start":3756,"end":3771,"name":"removeFromValue"}},"arguments":[{"type":"CallExpression","start":3772,"end":3801,"optional":false,"callee":{"type":"MemberExpression","start":3772,"end":3781,"computed":false,"optional":false,"object":{"type":"Identifier","start":3772,"end":3776,"name":"keys"},"property":{"type":"Identifier","start":3777,"end":3781,"name":"join"}},"arguments":[{"type":"MemberExpression","start":3782,"end":3800,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3782,"end":3786},"property":{"type":"Identifier","start":3787,"end":3800,"name":"_keySeparator"}}]},{"type":"Identifier","start":3803,"end":3808,"name":"value"},{"type":"Identifier","start":3810,"end":3831,"name":"bypassChangeDetection"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":3844,"end":4079,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":3844,"end":3849,"name":"unset"},"value":{"type":"FunctionExpression","start":3849,"end":4079,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":3850,"end":3853,"name":"key"},{"type":"AssignmentPattern","start":3855,"end":3884,"left":{"type":"Identifier","start":3855,"end":3876,"name":"bypassChangeDetection"},"right":{"type":"Literal","start":3879,"end":3884,"value":false,"raw":"false"}}],"body":{"type":"BlockStatement","start":3886,"end":4079,"body":[{"type":"ExpressionStatement","start":3896,"end":3947,"expression":{"type":"AssignmentExpression","start":3896,"end":3946,"operator":"=","left":{"type":"MemberExpression","start":3896,"end":3922,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3896,"end":3900},"property":{"type":"Identifier","start":3901,"end":3922,"name":"bypassChangeDetection"}},"right":{"type":"Identifier","start":3925,"end":3946,"name":"bypassChangeDetection"}}},{"type":"VariableDeclaration","start":3956,"end":3982,"kind":"const","declarations":[{"type":"VariableDeclarator","start":3962,"end":3981,"id":{"type":"Identifier","start":3962,"end":3968,"name":"newSet"},"init":{"type":"MemberExpression","start":3971,"end":3981,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3971,"end":3975},"property":{"type":"Identifier","start":3976,"end":3981,"name":"value"}}}]},{"type":"ExpressionStatement","start":3991,"end":4010,"expression":{"type":"UnaryExpression","start":3991,"end":4009,"operator":"delete","argument":{"type":"MemberExpression","start":3998,"end":4009,"computed":true,"optional":false,"object":{"type":"Identifier","start":3998,"end":4004,"name":"newSet"},"property":{"type":"Identifier","start":4005,"end":4008,"name":"key"}},"prefix":true}},{"type":"ExpressionStatement","start":4019,"end":4046,"expression":{"type":"CallExpression","start":4019,"end":4045,"optional":false,"callee":{"type":"MemberExpression","start":4019,"end":4037,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4019,"end":4032,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4019,"end":4023},"property":{"type":"Identifier","start":4024,"end":4032,"name":"_subject"}},"property":{"type":"Identifier","start":4033,"end":4037,"name":"next"}},"arguments":[{"type":"Identifier","start":4038,"end":4044,"name":"newSet"}]}},{"type":"ReturnStatement","start":4055,"end":4073,"argument":{"type":"MemberExpression","start":4062,"end":4072,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4062,"end":4066},"property":{"type":"Identifier","start":4067,"end":4072,"name":"state"}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":4084,"end":4224,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":4084,"end":4095,"name":"unsetByKeys"},"value":{"type":"FunctionExpression","start":4095,"end":4224,"async":false,"generator":false,"id":null,"params":[{"type":"AssignmentPattern","start":4096,"end":4125,"left":{"type":"Identifier","start":4096,"end":4117,"name":"bypassChangeDetection"},"right":{"type":"Literal","start":4120,"end":4125,"value":false,"raw":"false"}},{"type":"RestElement","start":4127,"end":4134,"argument":{"type":"Identifier","start":4130,"end":4134,"name":"keys"}}],"body":{"type":"BlockStatement","start":4136,"end":4224,"body":[{"type":"ReturnStatement","start":4146,"end":4218,"argument":{"type":"CallExpression","start":4153,"end":4217,"optional":false,"callee":{"type":"MemberExpression","start":4153,"end":4163,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4153,"end":4157},"property":{"type":"Identifier","start":4158,"end":4163,"name":"unset"}},"arguments":[{"type":"CallExpression","start":4164,"end":4193,"optional":false,"callee":{"type":"MemberExpression","start":4164,"end":4173,"computed":false,"optional":false,"object":{"type":"Identifier","start":4164,"end":4168,"name":"keys"},"property":{"type":"Identifier","start":4169,"end":4173,"name":"join"}},"arguments":[{"type":"MemberExpression","start":4174,"end":4192,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4174,"end":4178},"property":{"type":"Identifier","start":4179,"end":4192,"name":"_keySeparator"}}]},{"type":"Identifier","start":4195,"end":4216,"name":"bypassChangeDetection"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":4229,"end":4402,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":4229,"end":4232,"name":"set"},"value":{"type":"FunctionExpression","start":4232,"end":4402,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":4233,"end":4239,"name":"record"},{"type":"AssignmentPattern","start":4241,"end":4270,"left":{"type":"Identifier","start":4241,"end":4262,"name":"bypassChangeDetection"},"right":{"type":"Literal","start":4265,"end":4270,"value":false,"raw":"false"}}],"body":{"type":"BlockStatement","start":4272,"end":4402,"body":[{"type":"ExpressionStatement","start":4282,"end":4333,"expression":{"type":"AssignmentExpression","start":4282,"end":4332,"operator":"=","left":{"type":"MemberExpression","start":4282,"end":4308,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4282,"end":4286},"property":{"type":"Identifier","start":4287,"end":4308,"name":"bypassChangeDetection"}},"right":{"type":"Identifier","start":4311,"end":4332,"name":"bypassChangeDetection"}}},{"type":"ExpressionStatement","start":4342,"end":4369,"expression":{"type":"CallExpression","start":4342,"end":4368,"optional":false,"callee":{"type":"MemberExpression","start":4342,"end":4360,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4342,"end":4355,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4342,"end":4346},"property":{"type":"Identifier","start":4347,"end":4355,"name":"_subject"}},"property":{"type":"Identifier","start":4356,"end":4360,"name":"next"}},"arguments":[{"type":"Identifier","start":4361,"end":4367,"name":"record"}]}},{"type":"ReturnStatement","start":4378,"end":4396,"argument":{"type":"MemberExpression","start":4385,"end":4395,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4385,"end":4389},"property":{"type":"Identifier","start":4390,"end":4395,"name":"state"}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":4407,"end":4742,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":4407,"end":4412,"name":"onSet"},"value":{"type":"FunctionExpression","start":4412,"end":4742,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":4413,"end":4421,"name":"observer"},{"type":"Identifier","start":4423,"end":4428,"name":"error"},{"type":"Identifier","start":4430,"end":4438,"name":"complete"},{"type":"Identifier","start":4440,"end":4455,"name":"callerComponent"}],"body":{"type":"BlockStatement","start":4457,"end":4742,"body":[{"type":"VariableDeclaration","start":4467,"end":4567,"kind":"let","declarations":[{"type":"VariableDeclarator","start":4471,"end":4566,"id":{"type":"Identifier","start":4471,"end":4481,"name":"observable"},"init":{"type":"CallExpression","start":4484,"end":4566,"optional":false,"callee":{"type":"MemberExpression","start":4484,"end":4499,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4484,"end":4494,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4484,"end":4488},"property":{"type":"Identifier","start":4489,"end":4494,"name":"state"}},"property":{"type":"Identifier","start":4495,"end":4499,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":4500,"end":4565,"optional":false,"callee":{"type":"Identifier","start":4500,"end":4506,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":4507,"end":4564,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":4507,"end":4508,"name":"x"}],"body":{"type":"LogicalExpression","start":4512,"end":4564,"operator":"&&","left":{"type":"UnaryExpression","start":4512,"end":4533,"operator":"!","argument":{"type":"CallExpression","start":4513,"end":4533,"optional":false,"callee":{"type":"Identifier","start":4513,"end":4530,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":4531,"end":4532,"name":"x"}]},"prefix":true},"right":{"type":"UnaryExpression","start":4537,"end":4564,"operator":"!","argument":{"type":"MemberExpression","start":4538,"end":4564,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4538,"end":4542},"property":{"type":"Identifier","start":4543,"end":4564,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]}]}}]},{"type":"ReturnStatement","start":4576,"end":4736,"argument":{"type":"CallExpression","start":4583,"end":4735,"optional":false,"callee":{"type":"MemberExpression","start":4583,"end":4607,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4583,"end":4587},"property":{"type":"Identifier","start":4588,"end":4607,"name":"prepareSubscription"}},"arguments":[{"type":"ObjectExpression","start":4608,"end":4734,"properties":[{"type":"Property","start":4622,"end":4632,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4622,"end":4632,"name":"observable"},"value":{"type":"Identifier","start":4622,"end":4632,"name":"observable"},"kind":"init"},{"type":"Property","start":4646,"end":4654,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4646,"end":4654,"name":"observer"},"value":{"type":"Identifier","start":4646,"end":4654,"name":"observer"},"kind":"init"},{"type":"Property","start":4668,"end":4673,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4668,"end":4673,"name":"error"},"value":{"type":"Identifier","start":4668,"end":4673,"name":"error"},"kind":"init"},{"type":"Property","start":4687,"end":4695,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4687,"end":4695,"name":"complete"},"value":{"type":"Identifier","start":4687,"end":4695,"name":"complete"},"kind":"init"},{"type":"Property","start":4709,"end":4724,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4709,"end":4724,"name":"callerComponent"},"value":{"type":"Identifier","start":4709,"end":4724,"name":"callerComponent"},"kind":"init"}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":4747,"end":5109,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":4747,"end":4755,"name":"onChange"},"value":{"type":"FunctionExpression","start":4755,"end":5109,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":4756,"end":4764,"name":"observer"},{"type":"Identifier","start":4766,"end":4771,"name":"error"},{"type":"Identifier","start":4773,"end":4781,"name":"complete"},{"type":"Identifier","start":4783,"end":4798,"name":"callerComponent"}],"body":{"type":"BlockStatement","start":4800,"end":5109,"body":[{"type":"VariableDeclaration","start":4810,"end":4934,"kind":"let","declarations":[{"type":"VariableDeclarator","start":4814,"end":4933,"id":{"type":"Identifier","start":4814,"end":4824,"name":"observable"},"init":{"type":"CallExpression","start":4827,"end":4933,"optional":false,"callee":{"type":"MemberExpression","start":4827,"end":4842,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4827,"end":4837,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4827,"end":4831},"property":{"type":"Identifier","start":4832,"end":4837,"name":"state"}},"property":{"type":"Identifier","start":4838,"end":4842,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":4843,"end":4865,"optional":false,"callee":{"type":"Identifier","start":4843,"end":4863,"name":"distinctUntilChanged"},"arguments":[]},{"type":"CallExpression","start":4867,"end":4932,"optional":false,"callee":{"type":"Identifier","start":4867,"end":4873,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":4874,"end":4931,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":4874,"end":4875,"name":"x"}],"body":{"type":"LogicalExpression","start":4879,"end":4931,"operator":"&&","left":{"type":"UnaryExpression","start":4879,"end":4900,"operator":"!","argument":{"type":"CallExpression","start":4880,"end":4900,"optional":false,"callee":{"type":"Identifier","start":4880,"end":4897,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":4898,"end":4899,"name":"x"}]},"prefix":true},"right":{"type":"UnaryExpression","start":4904,"end":4931,"operator":"!","argument":{"type":"MemberExpression","start":4905,"end":4931,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4905,"end":4909},"property":{"type":"Identifier","start":4910,"end":4931,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]}]}}]},{"type":"ReturnStatement","start":4943,"end":5103,"argument":{"type":"CallExpression","start":4950,"end":5102,"optional":false,"callee":{"type":"MemberExpression","start":4950,"end":4974,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4950,"end":4954},"property":{"type":"Identifier","start":4955,"end":4974,"name":"prepareSubscription"}},"arguments":[{"type":"ObjectExpression","start":4975,"end":5101,"properties":[{"type":"Property","start":4989,"end":4999,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4989,"end":4999,"name":"observable"},"value":{"type":"Identifier","start":4989,"end":4999,"name":"observable"},"kind":"init"},{"type":"Property","start":5013,"end":5021,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5013,"end":5021,"name":"observer"},"value":{"type":"Identifier","start":5013,"end":5021,"name":"observer"},"kind":"init"},{"type":"Property","start":5035,"end":5040,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5035,"end":5040,"name":"error"},"value":{"type":"Identifier","start":5035,"end":5040,"name":"error"},"kind":"init"},{"type":"Property","start":5054,"end":5062,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5054,"end":5062,"name":"complete"},"value":{"type":"Identifier","start":5054,"end":5062,"name":"complete"},"kind":"init"},{"type":"Property","start":5076,"end":5091,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5076,"end":5091,"name":"callerComponent"},"value":{"type":"Identifier","start":5076,"end":5091,"name":"callerComponent"},"kind":"init"}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":5114,"end":5506,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":5114,"end":5124,"name":"onValueSet"},"value":{"type":"FunctionExpression","start":5124,"end":5506,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":5125,"end":5128,"name":"key"},{"type":"Identifier","start":5130,"end":5138,"name":"observer"},{"type":"Identifier","start":5140,"end":5145,"name":"error"},{"type":"Identifier","start":5147,"end":5155,"name":"complete"},{"type":"Identifier","start":5157,"end":5168,"name":"filterValue"},{"type":"Identifier","start":5170,"end":5185,"name":"callerComponent"}],"body":{"type":"BlockStatement","start":5187,"end":5506,"body":[{"type":"VariableDeclaration","start":5197,"end":5331,"kind":"let","declarations":[{"type":"VariableDeclarator","start":5201,"end":5330,"id":{"type":"Identifier","start":5201,"end":5211,"name":"observable"},"init":{"type":"CallExpression","start":5214,"end":5330,"optional":false,"callee":{"type":"MemberExpression","start":5214,"end":5229,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":5214,"end":5224,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5214,"end":5218},"property":{"type":"Identifier","start":5219,"end":5224,"name":"state"}},"property":{"type":"Identifier","start":5225,"end":5229,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":5230,"end":5254,"optional":false,"callee":{"type":"Identifier","start":5230,"end":5233,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":5234,"end":5253,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":5234,"end":5239,"name":"value"}],"body":{"type":"MemberExpression","start":5243,"end":5253,"computed":true,"optional":false,"object":{"type":"Identifier","start":5243,"end":5248,"name":"value"},"property":{"type":"Identifier","start":5249,"end":5252,"name":"key"}},"id":null}]},{"type":"CallExpression","start":5256,"end":5329,"optional":false,"callee":{"type":"Identifier","start":5256,"end":5262,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":5263,"end":5328,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":5263,"end":5268,"name":"value"}],"body":{"type":"LogicalExpression","start":5272,"end":5328,"operator":"&&","left":{"type":"UnaryExpression","start":5272,"end":5297,"operator":"!","argument":{"type":"CallExpression","start":5273,"end":5297,"optional":false,"callee":{"type":"Identifier","start":5273,"end":5290,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":5291,"end":5296,"name":"value"}]},"prefix":true},"right":{"type":"UnaryExpression","start":5301,"end":5328,"operator":"!","argument":{"type":"MemberExpression","start":5302,"end":5328,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5302,"end":5306},"property":{"type":"Identifier","start":5307,"end":5328,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]}]}}]},{"type":"ReturnStatement","start":5340,"end":5500,"argument":{"type":"CallExpression","start":5347,"end":5499,"optional":false,"callee":{"type":"MemberExpression","start":5347,"end":5371,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5347,"end":5351},"property":{"type":"Identifier","start":5352,"end":5371,"name":"prepareSubscription"}},"arguments":[{"type":"ObjectExpression","start":5372,"end":5498,"properties":[{"type":"Property","start":5386,"end":5396,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5386,"end":5396,"name":"observable"},"value":{"type":"Identifier","start":5386,"end":5396,"name":"observable"},"kind":"init"},{"type":"Property","start":5410,"end":5418,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5410,"end":5418,"name":"observer"},"value":{"type":"Identifier","start":5410,"end":5418,"name":"observer"},"kind":"init"},{"type":"Property","start":5432,"end":5437,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5432,"end":5437,"name":"error"},"value":{"type":"Identifier","start":5432,"end":5437,"name":"error"},"kind":"init"},{"type":"Property","start":5451,"end":5459,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5451,"end":5459,"name":"complete"},"value":{"type":"Identifier","start":5451,"end":5459,"name":"complete"},"kind":"init"},{"type":"Property","start":5473,"end":5488,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5473,"end":5488,"name":"callerComponent"},"value":{"type":"Identifier","start":5473,"end":5488,"name":"callerComponent"},"kind":"init"}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":5511,"end":5991,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":5511,"end":5524,"name":"onValueChange"},"value":{"type":"FunctionExpression","start":5524,"end":5991,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":5525,"end":5528,"name":"key"},{"type":"Identifier","start":5530,"end":5538,"name":"observer"},{"type":"Identifier","start":5540,"end":5545,"name":"error"},{"type":"Identifier","start":5547,"end":5555,"name":"complete"},{"type":"Identifier","start":5557,"end":5568,"name":"filterValue"},{"type":"Identifier","start":5570,"end":5585,"name":"callerComponent"}],"body":{"type":"BlockStatement","start":5587,"end":5991,"body":[{"type":"VariableDeclaration","start":5597,"end":5816,"kind":"let","declarations":[{"type":"VariableDeclarator","start":5601,"end":5815,"id":{"type":"Identifier","start":5601,"end":5611,"name":"observable"},"init":{"type":"CallExpression","start":5614,"end":5815,"optional":false,"callee":{"type":"MemberExpression","start":5614,"end":5629,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":5614,"end":5624,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5614,"end":5618},"property":{"type":"Identifier","start":5619,"end":5624,"name":"state"}},"property":{"type":"Identifier","start":5625,"end":5629,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":5630,"end":5654,"optional":false,"callee":{"type":"Identifier","start":5630,"end":5633,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":5634,"end":5653,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":5634,"end":5639,"name":"value"}],"body":{"type":"MemberExpression","start":5643,"end":5653,"computed":true,"optional":false,"object":{"type":"Identifier","start":5643,"end":5648,"name":"value"},"property":{"type":"Identifier","start":5649,"end":5652,"name":"key"}},"id":null}]},{"type":"CallExpression","start":5656,"end":5739,"optional":false,"callee":{"type":"Identifier","start":5656,"end":5676,"name":"distinctUntilChanged"},"arguments":[{"type":"ArrowFunctionExpression","start":5677,"end":5738,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":5678,"end":5682,"name":"prev"},{"type":"Identifier","start":5684,"end":5688,"name":"curr"}],"body":{"type":"BinaryExpression","start":5693,"end":5738,"operator":"===","left":{"type":"CallExpression","start":5693,"end":5713,"optional":false,"callee":{"type":"MemberExpression","start":5693,"end":5707,"computed":false,"optional":false,"object":{"type":"Identifier","start":5693,"end":5697,"name":"JSON"},"property":{"type":"Identifier","start":5698,"end":5707,"name":"stringify"}},"arguments":[{"type":"Identifier","start":5708,"end":5712,"name":"prev"}]},"right":{"type":"CallExpression","start":5718,"end":5738,"optional":false,"callee":{"type":"MemberExpression","start":5718,"end":5732,"computed":false,"optional":false,"object":{"type":"Identifier","start":5718,"end":5722,"name":"JSON"},"property":{"type":"Identifier","start":5723,"end":5732,"name":"stringify"}},"arguments":[{"type":"Identifier","start":5733,"end":5737,"name":"curr"}]}},"id":null}]},{"type":"CallExpression","start":5741,"end":5814,"optional":false,"callee":{"type":"Identifier","start":5741,"end":5747,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":5748,"end":5813,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":5748,"end":5753,"name":"value"}],"body":{"type":"LogicalExpression","start":5757,"end":5813,"operator":"&&","left":{"type":"UnaryExpression","start":5757,"end":5782,"operator":"!","argument":{"type":"CallExpression","start":5758,"end":5782,"optional":false,"callee":{"type":"Identifier","start":5758,"end":5775,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":5776,"end":5781,"name":"value"}]},"prefix":true},"right":{"type":"UnaryExpression","start":5786,"end":5813,"operator":"!","argument":{"type":"MemberExpression","start":5787,"end":5813,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5787,"end":5791},"property":{"type":"Identifier","start":5792,"end":5813,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]}]}}]},{"type":"ReturnStatement","start":5825,"end":5985,"argument":{"type":"CallExpression","start":5832,"end":5984,"optional":false,"callee":{"type":"MemberExpression","start":5832,"end":5856,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5832,"end":5836},"property":{"type":"Identifier","start":5837,"end":5856,"name":"prepareSubscription"}},"arguments":[{"type":"ObjectExpression","start":5857,"end":5983,"properties":[{"type":"Property","start":5871,"end":5881,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5871,"end":5881,"name":"observable"},"value":{"type":"Identifier","start":5871,"end":5881,"name":"observable"},"kind":"init"},{"type":"Property","start":5895,"end":5903,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5895,"end":5903,"name":"observer"},"value":{"type":"Identifier","start":5895,"end":5903,"name":"observer"},"kind":"init"},{"type":"Property","start":5917,"end":5922,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5917,"end":5922,"name":"error"},"value":{"type":"Identifier","start":5917,"end":5922,"name":"error"},"kind":"init"},{"type":"Property","start":5936,"end":5944,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5936,"end":5944,"name":"complete"},"value":{"type":"Identifier","start":5936,"end":5944,"name":"complete"},"kind":"init"},{"type":"Property","start":5958,"end":5973,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5958,"end":5973,"name":"callerComponent"},"value":{"type":"Identifier","start":5958,"end":5973,"name":"callerComponent"},"kind":"init"}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":5996,"end":6301,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":5996,"end":6006,"name":"onFirstSet"},"value":{"type":"FunctionExpression","start":6006,"end":6301,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":6007,"end":6015,"name":"observer"},{"type":"Identifier","start":6017,"end":6022,"name":"error"},{"type":"Identifier","start":6024,"end":6032,"name":"complete"}],"body":{"type":"BlockStatement","start":6034,"end":6301,"body":[{"type":"VariableDeclaration","start":6044,"end":6155,"kind":"const","declarations":[{"type":"VariableDeclarator","start":6050,"end":6154,"id":{"type":"Identifier","start":6050,"end":6060,"name":"observable"},"init":{"type":"CallExpression","start":6063,"end":6154,"optional":false,"callee":{"type":"MemberExpression","start":6063,"end":6078,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":6063,"end":6073,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":6063,"end":6067},"property":{"type":"Identifier","start":6068,"end":6073,"name":"state"}},"property":{"type":"Identifier","start":6074,"end":6078,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":6079,"end":6144,"optional":false,"callee":{"type":"Identifier","start":6079,"end":6085,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":6086,"end":6143,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":6086,"end":6087,"name":"x"}],"body":{"type":"LogicalExpression","start":6091,"end":6143,"operator":"&&","left":{"type":"UnaryExpression","start":6091,"end":6112,"operator":"!","argument":{"type":"CallExpression","start":6092,"end":6112,"optional":false,"callee":{"type":"Identifier","start":6092,"end":6109,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":6110,"end":6111,"name":"x"}]},"prefix":true},"right":{"type":"UnaryExpression","start":6116,"end":6143,"operator":"!","argument":{"type":"MemberExpression","start":6117,"end":6143,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":6117,"end":6121},"property":{"type":"Identifier","start":6122,"end":6143,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]},{"type":"CallExpression","start":6146,"end":6153,"optional":false,"callee":{"type":"Identifier","start":6146,"end":6151,"name":"first"},"arguments":[]}]}}]},{"type":"ReturnStatement","start":6164,"end":6295,"argument":{"type":"CallExpression","start":6171,"end":6294,"optional":false,"callee":{"type":"MemberExpression","start":6171,"end":6195,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":6171,"end":6175},"property":{"type":"Identifier","start":6176,"end":6195,"name":"prepareSubscription"}},"arguments":[{"type":"ObjectExpression","start":6196,"end":6293,"properties":[{"type":"Property","start":6210,"end":6220,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":6210,"end":6220,"name":"observable"},"value":{"type":"Identifier","start":6210,"end":6220,"name":"observable"},"kind":"init"},{"type":"Property","start":6234,"end":6242,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":6234,"end":6242,"name":"observer"},"value":{"type":"Identifier","start":6234,"end":6242,"name":"observer"},"kind":"init"},{"type":"Property","start":6256,"end":6261,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":6256,"end":6261,"name":"error"},"value":{"type":"Identifier","start":6256,"end":6261,"name":"error"},"kind":"init"},{"type":"Property","start":6275,"end":6283,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":6275,"end":6283,"name":"complete"},"value":{"type":"Identifier","start":6275,"end":6283,"name":"complete"},"kind":"init"}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":6306,"end":6638,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":6306,"end":6319,"name":"onFirstChange"},"value":{"type":"FunctionExpression","start":6319,"end":6638,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":6320,"end":6328,"name":"observer"},{"type":"Identifier","start":6330,"end":6335,"name":"error"},{"type":"Identifier","start":6337,"end":6345,"name":"complete"}],"body":{"type":"BlockStatement","start":6347,"end":6638,"body":[{"type":"VariableDeclaration","start":6357,"end":6492,"kind":"const","declarations":[{"type":"VariableDeclarator","start":6363,"end":6491,"id":{"type":"Identifier","start":6363,"end":6373,"name":"observable"},"init":{"type":"CallExpression","start":6376,"end":6491,"optional":false,"callee":{"type":"MemberExpression","start":6376,"end":6391,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":6376,"end":6386,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":6376,"end":6380},"property":{"type":"Identifier","start":6381,"end":6386,"name":"state"}},"property":{"type":"Identifier","start":6387,"end":6391,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":6392,"end":6414,"optional":false,"callee":{"type":"Identifier","start":6392,"end":6412,"name":"distinctUntilChanged"},"arguments":[]},{"type":"CallExpression","start":6416,"end":6481,"optional":false,"callee":{"type":"Identifier","start":6416,"end":6422,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":6423,"end":6480,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":6423,"end":6424,"name":"x"}],"body":{"type":"LogicalExpression","start":6428,"end":6480,"operator":"&&","left":{"type":"UnaryExpression","start":6428,"end":6449,"operator":"!","argument":{"type":"CallExpression","start":6429,"end":6449,"optional":false,"callee":{"type":"Identifier","start":6429,"end":6446,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":6447,"end":6448,"name":"x"}]},"prefix":true},"right":{"type":"UnaryExpression","start":6453,"end":6480,"operator":"!","argument":{"type":"MemberExpression","start":6454,"end":6480,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":6454,"end":6458},"property":{"type":"Identifier","start":6459,"end":6480,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]},{"type":"CallExpression","start":6483,"end":6490,"optional":false,"callee":{"type":"Identifier","start":6483,"end":6488,"name":"first"},"arguments":[]}]}}]},{"type":"ReturnStatement","start":6501,"end":6632,"argument":{"type":"CallExpression","start":6508,"end":6631,"optional":false,"callee":{"type":"MemberExpression","start":6508,"end":6532,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":6508,"end":6512},"property":{"type":"Identifier","start":6513,"end":6532,"name":"prepareSubscription"}},"arguments":[{"type":"ObjectExpression","start":6533,"end":6630,"properties":[{"type":"Property","start":6547,"end":6557,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":6547,"end":6557,"name":"observable"},"value":{"type":"Identifier","start":6547,"end":6557,"name":"observable"},"kind":"init"},{"type":"Property","start":6571,"end":6579,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":6571,"end":6579,"name":"observer"},"value":{"type":"Identifier","start":6571,"end":6579,"name":"observer"},"kind":"init"},{"type":"Property","start":6593,"end":6598,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":6593,"end":6598,"name":"error"},"value":{"type":"Identifier","start":6593,"end":6598,"name":"error"},"kind":"init"},{"type":"Property","start":6612,"end":6620,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":6612,"end":6620,"name":"complete"},"value":{"type":"Identifier","start":6612,"end":6620,"name":"complete"},"kind":"init"}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":6643,"end":7009,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":6643,"end":6661,"name":"onFirstNonEmptySet"},"value":{"type":"FunctionExpression","start":6661,"end":7009,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":6662,"end":6670,"name":"observer"},{"type":"Identifier","start":6672,"end":6677,"name":"error"},{"type":"Identifier","start":6679,"end":6687,"name":"complete"}],"body":{"type":"BlockStatement","start":6689,"end":7009,"body":[{"type":"VariableDeclaration","start":6699,"end":6863,"kind":"const","declarations":[{"type":"VariableDeclarator","start":6705,"end":6862,"id":{"type":"Identifier","start":6705,"end":6715,"name":"observable"},"init":{"type":"CallExpression","start":6718,"end":6862,"optional":false,"callee":{"type":"MemberExpression","start":6718,"end":6733,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":6718,"end":6728,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":6718,"end":6722},"property":{"type":"Identifier","start":6723,"end":6728,"name":"state"}},"property":{"type":"Identifier","start":6729,"end":6733,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":6734,"end":6852,"optional":false,"callee":{"type":"Identifier","start":6734,"end":6740,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":6741,"end":6851,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":6741,"end":6742,"name":"x"}],"body":{"type":"LogicalExpression","start":6746,"end":6851,"operator":"&&","left":{"type":"LogicalExpression","start":6746,"end":6808,"operator":"&&","left":{"type":"UnaryExpression","start":6746,"end":6767,"operator":"!","argument":{"type":"CallExpression","start":6747,"end":6767,"optional":false,"callee":{"type":"Identifier","start":6747,"end":6764,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":6765,"end":6766,"name":"x"}]},"prefix":true},"right":{"type":"BinaryExpression","start":6783,"end":6808,"operator":">","left":{"type":"MemberExpression","start":6783,"end":6804,"computed":false,"optional":false,"object":{"type":"CallExpression","start":6783,"end":6797,"optional":false,"callee":{"type":"MemberExpression","start":6783,"end":6794,"computed":false,"optional":false,"object":{"type":"Identifier","start":6783,"end":6789,"name":"Object"},"property":{"type":"Identifier","start":6790,"end":6794,"name":"keys"}},"arguments":[{"type":"Identifier","start":6795,"end":6796,"name":"x"}]},"property":{"type":"Identifier","start":6798,"end":6804,"name":"length"}},"right":{"type":"Literal","start":6807,"end":6808,"raw":"0","value":0}}},"right":{"type":"UnaryExpression","start":6824,"end":6851,"operator":"!","argument":{"type":"MemberExpression","start":6825,"end":6851,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":6825,"end":6829},"property":{"type":"Identifier","start":6830,"end":6851,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]},{"type":"CallExpression","start":6854,"end":6861,"optional":false,"callee":{"type":"Identifier","start":6854,"end":6859,"name":"first"},"arguments":[]}]}}]},{"type":"ReturnStatement","start":6872,"end":7003,"argument":{"type":"CallExpression","start":6879,"end":7002,"optional":false,"callee":{"type":"MemberExpression","start":6879,"end":6903,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":6879,"end":6883},"property":{"type":"Identifier","start":6884,"end":6903,"name":"prepareSubscription"}},"arguments":[{"type":"ObjectExpression","start":6904,"end":7001,"properties":[{"type":"Property","start":6918,"end":6928,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":6918,"end":6928,"name":"observable"},"value":{"type":"Identifier","start":6918,"end":6928,"name":"observable"},"kind":"init"},{"type":"Property","start":6942,"end":6950,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":6942,"end":6950,"name":"observer"},"value":{"type":"Identifier","start":6942,"end":6950,"name":"observer"},"kind":"init"},{"type":"Property","start":6964,"end":6969,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":6964,"end":6969,"name":"error"},"value":{"type":"Identifier","start":6964,"end":6969,"name":"error"},"kind":"init"},{"type":"Property","start":6983,"end":6991,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":6983,"end":6991,"name":"complete"},"value":{"type":"Identifier","start":6983,"end":6991,"name":"complete"},"kind":"init"}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":7014,"end":7407,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":7014,"end":7035,"name":"onFirstNonEmptyChange"},"value":{"type":"FunctionExpression","start":7035,"end":7407,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":7036,"end":7044,"name":"observer"},{"type":"Identifier","start":7046,"end":7051,"name":"error"},{"type":"Identifier","start":7053,"end":7061,"name":"complete"}],"body":{"type":"BlockStatement","start":7063,"end":7407,"body":[{"type":"VariableDeclaration","start":7073,"end":7261,"kind":"const","declarations":[{"type":"VariableDeclarator","start":7079,"end":7260,"id":{"type":"Identifier","start":7079,"end":7089,"name":"observable"},"init":{"type":"CallExpression","start":7092,"end":7260,"optional":false,"callee":{"type":"MemberExpression","start":7092,"end":7107,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":7092,"end":7102,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":7092,"end":7096},"property":{"type":"Identifier","start":7097,"end":7102,"name":"state"}},"property":{"type":"Identifier","start":7103,"end":7107,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":7108,"end":7130,"optional":false,"callee":{"type":"Identifier","start":7108,"end":7128,"name":"distinctUntilChanged"},"arguments":[]},{"type":"CallExpression","start":7132,"end":7250,"optional":false,"callee":{"type":"Identifier","start":7132,"end":7138,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":7139,"end":7249,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":7139,"end":7140,"name":"x"}],"body":{"type":"LogicalExpression","start":7144,"end":7249,"operator":"&&","left":{"type":"LogicalExpression","start":7144,"end":7206,"operator":"&&","left":{"type":"UnaryExpression","start":7144,"end":7165,"operator":"!","argument":{"type":"CallExpression","start":7145,"end":7165,"optional":false,"callee":{"type":"Identifier","start":7145,"end":7162,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":7163,"end":7164,"name":"x"}]},"prefix":true},"right":{"type":"BinaryExpression","start":7181,"end":7206,"operator":">","left":{"type":"MemberExpression","start":7181,"end":7202,"computed":false,"optional":false,"object":{"type":"CallExpression","start":7181,"end":7195,"optional":false,"callee":{"type":"MemberExpression","start":7181,"end":7192,"computed":false,"optional":false,"object":{"type":"Identifier","start":7181,"end":7187,"name":"Object"},"property":{"type":"Identifier","start":7188,"end":7192,"name":"keys"}},"arguments":[{"type":"Identifier","start":7193,"end":7194,"name":"x"}]},"property":{"type":"Identifier","start":7196,"end":7202,"name":"length"}},"right":{"type":"Literal","start":7205,"end":7206,"raw":"0","value":0}}},"right":{"type":"UnaryExpression","start":7222,"end":7249,"operator":"!","argument":{"type":"MemberExpression","start":7223,"end":7249,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":7223,"end":7227},"property":{"type":"Identifier","start":7228,"end":7249,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]},{"type":"CallExpression","start":7252,"end":7259,"optional":false,"callee":{"type":"Identifier","start":7252,"end":7257,"name":"first"},"arguments":[]}]}}]},{"type":"ReturnStatement","start":7270,"end":7401,"argument":{"type":"CallExpression","start":7277,"end":7400,"optional":false,"callee":{"type":"MemberExpression","start":7277,"end":7301,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":7277,"end":7281},"property":{"type":"Identifier","start":7282,"end":7301,"name":"prepareSubscription"}},"arguments":[{"type":"ObjectExpression","start":7302,"end":7399,"properties":[{"type":"Property","start":7316,"end":7326,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":7316,"end":7326,"name":"observable"},"value":{"type":"Identifier","start":7316,"end":7326,"name":"observable"},"kind":"init"},{"type":"Property","start":7340,"end":7348,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":7340,"end":7348,"name":"observer"},"value":{"type":"Identifier","start":7340,"end":7348,"name":"observer"},"kind":"init"},{"type":"Property","start":7362,"end":7367,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":7362,"end":7367,"name":"error"},"value":{"type":"Identifier","start":7362,"end":7367,"name":"error"},"kind":"init"},{"type":"Property","start":7381,"end":7389,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":7381,"end":7389,"name":"complete"},"value":{"type":"Identifier","start":7381,"end":7389,"name":"complete"},"kind":"init"}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":7412,"end":7801,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":7412,"end":7427,"name":"onFromSecondSet"},"value":{"type":"FunctionExpression","start":7427,"end":7801,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":7428,"end":7436,"name":"observer"},{"type":"Identifier","start":7438,"end":7443,"name":"error"},{"type":"Identifier","start":7445,"end":7453,"name":"complete"},{"type":"Identifier","start":7455,"end":7470,"name":"callerComponent"}],"body":{"type":"BlockStatement","start":7472,"end":7801,"body":[{"type":"VariableDeclaration","start":7482,"end":7626,"kind":"const","declarations":[{"type":"VariableDeclarator","start":7488,"end":7625,"id":{"type":"Identifier","start":7488,"end":7498,"name":"observable"},"init":{"type":"CallExpression","start":7501,"end":7625,"optional":false,"callee":{"type":"MemberExpression","start":7501,"end":7516,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":7501,"end":7511,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":7501,"end":7505},"property":{"type":"Identifier","start":7506,"end":7511,"name":"state"}},"property":{"type":"Identifier","start":7512,"end":7516,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":7517,"end":7548,"optional":false,"callee":{"type":"Identifier","start":7517,"end":7531,"name":"untilDestroyed"},"arguments":[{"type":"Identifier","start":7532,"end":7547,"name":"callerComponent"}]},{"type":"CallExpression","start":7550,"end":7615,"optional":false,"callee":{"type":"Identifier","start":7550,"end":7556,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":7557,"end":7614,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":7557,"end":7558,"name":"x"}],"body":{"type":"LogicalExpression","start":7562,"end":7614,"operator":"&&","left":{"type":"UnaryExpression","start":7562,"end":7583,"operator":"!","argument":{"type":"CallExpression","start":7563,"end":7583,"optional":false,"callee":{"type":"Identifier","start":7563,"end":7580,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":7581,"end":7582,"name":"x"}]},"prefix":true},"right":{"type":"UnaryExpression","start":7587,"end":7614,"operator":"!","argument":{"type":"MemberExpression","start":7588,"end":7614,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":7588,"end":7592},"property":{"type":"Identifier","start":7593,"end":7614,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]},{"type":"CallExpression","start":7617,"end":7624,"optional":false,"callee":{"type":"Identifier","start":7617,"end":7621,"name":"skip"},"arguments":[{"type":"Literal","start":7622,"end":7623,"raw":"1","value":1}]}]}}]},{"type":"ReturnStatement","start":7635,"end":7795,"argument":{"type":"CallExpression","start":7642,"end":7794,"optional":false,"callee":{"type":"MemberExpression","start":7642,"end":7666,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":7642,"end":7646},"property":{"type":"Identifier","start":7647,"end":7666,"name":"prepareSubscription"}},"arguments":[{"type":"ObjectExpression","start":7667,"end":7793,"properties":[{"type":"Property","start":7681,"end":7691,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":7681,"end":7691,"name":"observable"},"value":{"type":"Identifier","start":7681,"end":7691,"name":"observable"},"kind":"init"},{"type":"Property","start":7705,"end":7713,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":7705,"end":7713,"name":"observer"},"value":{"type":"Identifier","start":7705,"end":7713,"name":"observer"},"kind":"init"},{"type":"Property","start":7727,"end":7732,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":7727,"end":7732,"name":"error"},"value":{"type":"Identifier","start":7727,"end":7732,"name":"error"},"kind":"init"},{"type":"Property","start":7746,"end":7754,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":7746,"end":7754,"name":"complete"},"value":{"type":"Identifier","start":7746,"end":7754,"name":"complete"},"kind":"init"},{"type":"Property","start":7768,"end":7783,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":7768,"end":7783,"name":"callerComponent"},"value":{"type":"Identifier","start":7768,"end":7783,"name":"callerComponent"},"kind":"init"}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":7806,"end":8222,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":7806,"end":7824,"name":"onFromSecondChange"},"value":{"type":"FunctionExpression","start":7824,"end":8222,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":7825,"end":7833,"name":"observer"},{"type":"Identifier","start":7835,"end":7840,"name":"error"},{"type":"Identifier","start":7842,"end":7850,"name":"complete"},{"type":"Identifier","start":7852,"end":7867,"name":"callerComponent"}],"body":{"type":"BlockStatement","start":7869,"end":8222,"body":[{"type":"VariableDeclaration","start":7879,"end":8047,"kind":"const","declarations":[{"type":"VariableDeclarator","start":7885,"end":8046,"id":{"type":"Identifier","start":7885,"end":7895,"name":"observable"},"init":{"type":"CallExpression","start":7898,"end":8046,"optional":false,"callee":{"type":"MemberExpression","start":7898,"end":7913,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":7898,"end":7908,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":7898,"end":7902},"property":{"type":"Identifier","start":7903,"end":7908,"name":"state"}},"property":{"type":"Identifier","start":7909,"end":7913,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":7914,"end":7945,"optional":false,"callee":{"type":"Identifier","start":7914,"end":7928,"name":"untilDestroyed"},"arguments":[{"type":"Identifier","start":7929,"end":7944,"name":"callerComponent"}]},{"type":"CallExpression","start":7947,"end":7969,"optional":false,"callee":{"type":"Identifier","start":7947,"end":7967,"name":"distinctUntilChanged"},"arguments":[]},{"type":"CallExpression","start":7971,"end":8036,"optional":false,"callee":{"type":"Identifier","start":7971,"end":7977,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":7978,"end":8035,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":7978,"end":7979,"name":"x"}],"body":{"type":"LogicalExpression","start":7983,"end":8035,"operator":"&&","left":{"type":"UnaryExpression","start":7983,"end":8004,"operator":"!","argument":{"type":"CallExpression","start":7984,"end":8004,"optional":false,"callee":{"type":"Identifier","start":7984,"end":8001,"name":"isNullOrUndefined"},"arguments":[{"type":"Identifier","start":8002,"end":8003,"name":"x"}]},"prefix":true},"right":{"type":"UnaryExpression","start":8008,"end":8035,"operator":"!","argument":{"type":"MemberExpression","start":8009,"end":8035,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":8009,"end":8013},"property":{"type":"Identifier","start":8014,"end":8035,"name":"bypassChangeDetection"}},"prefix":true}},"id":null}]},{"type":"CallExpression","start":8038,"end":8045,"optional":false,"callee":{"type":"Identifier","start":8038,"end":8042,"name":"skip"},"arguments":[{"type":"Literal","start":8043,"end":8044,"raw":"1","value":1}]}]}}]},{"type":"ReturnStatement","start":8056,"end":8216,"argument":{"type":"CallExpression","start":8063,"end":8215,"optional":false,"callee":{"type":"MemberExpression","start":8063,"end":8087,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":8063,"end":8067},"property":{"type":"Identifier","start":8068,"end":8087,"name":"prepareSubscription"}},"arguments":[{"type":"ObjectExpression","start":8088,"end":8214,"properties":[{"type":"Property","start":8102,"end":8112,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":8102,"end":8112,"name":"observable"},"value":{"type":"Identifier","start":8102,"end":8112,"name":"observable"},"kind":"init"},{"type":"Property","start":8126,"end":8134,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":8126,"end":8134,"name":"observer"},"value":{"type":"Identifier","start":8126,"end":8134,"name":"observer"},"kind":"init"},{"type":"Property","start":8148,"end":8153,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":8148,"end":8153,"name":"error"},"value":{"type":"Identifier","start":8148,"end":8153,"name":"error"},"kind":"init"},{"type":"Property","start":8167,"end":8175,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":8167,"end":8175,"name":"complete"},"value":{"type":"Identifier","start":8167,"end":8175,"name":"complete"},"kind":"init"},{"type":"Property","start":8189,"end":8204,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":8189,"end":8204,"name":"callerComponent"},"value":{"type":"Identifier","start":8189,"end":8204,"name":"callerComponent"},"kind":"init"}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":8227,"end":8316,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":8227,"end":8232,"name":"reset"},"value":{"type":"FunctionExpression","start":8232,"end":8316,"async":false,"generator":false,"id":null,"params":[{"type":"AssignmentPattern","start":8233,"end":8262,"left":{"type":"Identifier","start":8233,"end":8254,"name":"bypassChangeDetection"},"right":{"type":"Literal","start":8257,"end":8262,"value":false,"raw":"false"}}],"body":{"type":"BlockStatement","start":8264,"end":8316,"body":[{"type":"ExpressionStatement","start":8274,"end":8310,"expression":{"type":"CallExpression","start":8274,"end":8309,"optional":false,"callee":{"type":"MemberExpression","start":8274,"end":8282,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":8274,"end":8278},"property":{"type":"Identifier","start":8279,"end":8282,"name":"set"}},"arguments":[{"type":"ObjectExpression","start":8283,"end":8285,"properties":[]},{"type":"Identifier","start":8287,"end":8308,"name":"bypassChangeDetection"}]}}]},"expression":false},"kind":"method"}]}}}],"_rollupRemoved":[{"end":40141,"start":8319,"type":"sourcemap"}],"sourceType":"module"},"attributes":{},"code":"import { BehaviorSubject } from \"rxjs\";\nimport { untilDestroyed } from \"@ngneat/until-destroy\";\nimport { distinctUntilChanged, filter, first, map, skip } from \"rxjs/operators\";\nimport { isNullOrUndefined, countArrayElements } from \"../helpers/type.helper\";\nimport { BaseState } from \"./base-state\";\nexport class KeyValuesState extends BaseState {\n    _subject;\n    _keySeparator = '####';\n    get state() {\n        return this._subject.asObservable();\n    }\n    stateOfKey(key, changedStateOnly = true) {\n        const state = this.state.pipe(filter(record => !isNullOrUndefined(record) &&\n            !isNullOrUndefined(record[key]) &&\n            !this.bypassChangeDetection), map(record => record[key]));\n        if (changedStateOnly) {\n            return state.pipe(distinctUntilChanged());\n        }\n        return state;\n    }\n    stateOfKeys(...keys) {\n        return this.stateOfKey(keys.join(this._keySeparator));\n    }\n    hasKey(key, exactMatch = true) {\n        return this.state.pipe(map(record => {\n            if (typeof key === 'string' && !exactMatch) {\n                return Object.keys(record).some(k => k.includes(key));\n            }\n            else {\n                return key in record;\n            }\n        }), distinctUntilChanged());\n    }\n    get keys() {\n        return Object.keys(this.value);\n    }\n    getKeysOfIndex(keyIndex) {\n        return this.keys.map(key => key.toString().split(this._keySeparator)[keyIndex]);\n    }\n    get toArray() {\n        return Object.values(this.value);\n    }\n    get length() {\n        return countArrayElements(this.toArray);\n    }\n    get toArrayState() {\n        return this.state.pipe(map(x => Object.values(x)));\n    }\n    get value() {\n        return this._subject.getValue();\n    }\n    constructor(initialValue) {\n        super();\n        this._subject = new BehaviorSubject(initialValue ?? {});\n    }\n    getValue(key) {\n        return this.value[key];\n    }\n    getValueByKeys(...keys) {\n        return this.value[keys.map(String).join(this._keySeparator)];\n    }\n    setValue(key, value, bypassChangeDetection = false) {\n        this.bypassChangeDetection = bypassChangeDetection;\n        const newSet = this.value;\n        newSet[key] = value;\n        this._subject.next(newSet);\n        return this.state;\n    }\n    removeValue(key, bypassChangeDetection = false) {\n        this.bypassChangeDetection = bypassChangeDetection;\n        const newSet = this.value;\n        delete newSet[key];\n        this._subject.next(newSet);\n    }\n    setValuesByKeys(value, bypassChangeDetection = false, ...keys) {\n        return this.setValue(keys.join(this._keySeparator), value, bypassChangeDetection);\n    }\n    addToValue(key, value, unique, bypassChangeDetection = false) {\n        this.bypassChangeDetection = bypassChangeDetection;\n        const isUnique = unique ?? true;\n        const currentValue = this.getValue(key);\n        if (isUnique && currentValue?.some(x => JSON.stringify(x) === JSON.stringify(value))) {\n            return this.state;\n        }\n        this.setValue(key, [...this.getValue(key) || [], value]);\n        return this.state;\n    }\n    addToValueByKeys(value, unique, bypassChangeDetection = false, ...keys) {\n        return this.addToValue(keys.join(this._keySeparator), value, unique, bypassChangeDetection);\n    }\n    removeFromValue(key, value, bypassChangeDetection = false) {\n        this.bypassChangeDetection = bypassChangeDetection;\n        if (this.value[key] === undefined) {\n            return this.state;\n        }\n        const newSet = this.value;\n        newSet[key] = newSet[key].filter(x => x !== value);\n        return this.set(newSet);\n    }\n    removeFromValueByKeys(value, bypassChangeDetection = false, ...keys) {\n        return this.removeFromValue(keys.join(this._keySeparator), value, bypassChangeDetection);\n    }\n    unset(key, bypassChangeDetection = false) {\n        this.bypassChangeDetection = bypassChangeDetection;\n        const newSet = this.value;\n        delete newSet[key];\n        this._subject.next(newSet);\n        return this.state;\n    }\n    unsetByKeys(bypassChangeDetection = false, ...keys) {\n        return this.unset(keys.join(this._keySeparator), bypassChangeDetection);\n    }\n    set(record, bypassChangeDetection = false) {\n        this.bypassChangeDetection = bypassChangeDetection;\n        this._subject.next(record);\n        return this.state;\n    }\n    onSet(observer, error, complete, callerComponent) {\n        let observable = this.state.pipe(filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    onChange(observer, error, complete, callerComponent) {\n        let observable = this.state.pipe(distinctUntilChanged(), filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    onValueSet(key, observer, error, complete, filterValue, callerComponent) {\n        let observable = this.state.pipe(map(value => value[key]), filter(value => !isNullOrUndefined(value) && !this.bypassChangeDetection));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    onValueChange(key, observer, error, complete, filterValue, callerComponent) {\n        let observable = this.state.pipe(map(value => value[key]), distinctUntilChanged((prev, curr) => JSON.stringify(prev) === JSON.stringify(curr)), filter(value => !isNullOrUndefined(value) && !this.bypassChangeDetection));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    onFirstSet(observer, error, complete) {\n        const observable = this.state.pipe(filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection), first());\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete\n        });\n    }\n    onFirstChange(observer, error, complete) {\n        const observable = this.state.pipe(distinctUntilChanged(), filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection), first());\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete\n        });\n    }\n    onFirstNonEmptySet(observer, error, complete) {\n        const observable = this.state.pipe(filter(x => !isNullOrUndefined(x) &&\n            Object.keys(x).length > 0 &&\n            !this.bypassChangeDetection), first());\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete\n        });\n    }\n    onFirstNonEmptyChange(observer, error, complete) {\n        const observable = this.state.pipe(distinctUntilChanged(), filter(x => !isNullOrUndefined(x) &&\n            Object.keys(x).length > 0 &&\n            !this.bypassChangeDetection), first());\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete\n        });\n    }\n    onFromSecondSet(observer, error, complete, callerComponent) {\n        const observable = this.state.pipe(untilDestroyed(callerComponent), filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection), skip(1));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    onFromSecondChange(observer, error, complete, callerComponent) {\n        const observable = this.state.pipe(untilDestroyed(callerComponent), distinctUntilChanged(), filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection), skip(1));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    reset(bypassChangeDetection = false) {\n        this.set({}, bypassChangeDetection);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoia2V5LXZhbHVlcy1zdGF0ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1zdGF0ZXMvc3JjL2xpYi9zdGF0ZXMva2V5LXZhbHVlcy1zdGF0ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZUFBZSxFQUE2QyxNQUFNLE1BQU0sQ0FBQztBQUNsRixPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDdkQsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ2hGLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQy9FLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFFekMsTUFBTSxPQUFPLGNBQTRELFNBQVEsU0FBUztJQUVoRixRQUFRLENBQXdDO0lBQ3ZDLGFBQWEsR0FBRyxNQUFNLENBQUM7SUFFeEMsSUFBVyxLQUFLO1FBQ2QsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQ3RDLENBQUM7SUFFTSxVQUFVLENBQUMsR0FBUSxFQUFFLGdCQUFnQixHQUFHLElBQUk7UUFDakQsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQzNCLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUNkLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDO1lBQzFCLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQy9CLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUM1QixFQUNELEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQVksQ0FBQyxDQUN0QyxDQUFDO1FBRUYsSUFBSSxnQkFBZ0Is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QUMvQixNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLEVBQ2pFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FDUixDQUFDO1FBQ0YsT0FBTyxJQUFJLENBQUMsbUJBQW1CLENBQUM7WUFDOUIsVUFBVTtZQUNWLFFBQVE7WUFDUixLQUFLO1lBQ0wsUUFBUTtZQUNSLGVBQWU7U0FDaEIsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQXFCTSxrQkFBa0IsQ0FBQyxRQUEwRixFQUFFLEtBQTRCLEVBQUUsUUFBcUIsRUFBRSxlQUF3QjtRQUNqTSxNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FDaEMsY0FBYyxDQUFDLGVBQWUsQ0FBQyxFQUMvQixvQkFBb0IsRUFBRSxFQUN0QixNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLEVBQ2pFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FDUixDQUFDO1FBQ0YsT0FBTyxJQUFJLENBQUMsbUJBQW1CLENBQUM7WUFDOUIsVUFBVTtZQUNWLFFBQVE7WUFDUixLQUFLO1lBQ0wsUUFBUTtZQUNSLGVBQWU7U0FDaEIsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVNLEtBQUssQ0FBQyxxQkFBcUIsR0FBRyxLQUFLO1FBQ3hDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBMEIsRUFBRSxxQkFBcUIsQ0FBQyxDQUFDO0lBQzlELENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgT2JzZXJ2YWJsZSwgUGFydGlhbE9ic2VydmVyLCBTdWJzY3JpcHRpb24gfSBmcm9tIFwicnhqc1wiO1xuaW1wb3J0IHsgdW50aWxEZXN0cm95ZWQgfSBmcm9tIFwiQG5nbmVhdC91bnRpbC1kZXN0cm95XCI7XG5pbXBvcnQgeyBkaXN0aW5jdFVudGlsQ2hhbmdlZCwgZmlsdGVyLCBmaXJzdCwgbWFwLCBza2lwIH0gZnJvbSBcInJ4anMvb3BlcmF0b3JzXCI7XG5pbXBvcnQgeyBpc051bGxPclVuZGVmaW5lZCwgY291bnRBcnJheUVsZW1lbnRzIH0gZnJvbSBcIi4uL2hlbHBlcnMvdHlwZS5oZWxwZXJcIjtcbmltcG9ydCB7IEJhc2VTdGF0ZSB9IGZyb20gXCIuL2Jhc2Utc3RhdGVcIjtcblxuZXhwb3J0IGNsYXNzIEtleVZhbHVlc1N0YXRlPEtFWSBleHRlbmRzIHN0cmluZyB8IG51bWJlciB8IHN5bWJvbCwgVkFMVUU+IGV4dGVuZHMgQmFzZVN0YXRlIHtcblxuICBwcml2YXRlIF9zdWJqZWN0OiBCZWhhdmlvclN1YmplY3Q8UmVjb3JkPEtFWSwgVkFMVUVbXT4+O1xuICBwcml2YXRlIHJlYWRvbmx5IF9rZXlTZXBhcmF0b3IgPSAnIyMjIyc7XG5cbiAgcHVibGljIGdldCBzdGF0ZSgpOiBPYnNlcnZhYmxlPFJlY29yZDxLRVksIFZBTFVFW10+PiB7XG4gICAgcmV0dXJuIHRoaXMuX3N1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGVPZktleShrZXk6IEtFWSwgY2hhbmdlZFN0YXRlT25seSA9IHRydWUpOiBPYnNlcnZhYmxlPFZBTFVFW10+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGUucGlwZShcbiAgICAgIGZpbHRlcihyZWNvcmQgPT5cbiAgICAgICAgIWlzTnVsbE9yVW5kZWZpbmVkKHJlY29yZCkgJiZcbiAgICAgICAgIWlzTnVsbE9yVW5kZWZpbmVkKHJlY29yZFtrZXldKSAmJlxuICAgICAgICAhdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb25cbiAgICAgICksXG4gICAgICBtYXAocmVjb3JkID0+IHJlY29yZFtrZXldIGFzIFZBTFVFW10pXG4gICAgKTtcblxuICAgIGlmIChjaGFuZ2VkU3RhdGVPbmx5KSB7XG4gICAgICByZXR1cm4gc3RhdGUucGlwZShkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKVxuICAgIH1cblxuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0ZU9mS2V5cyguLi5rZXlzOiBhbnlbXSk6IE9ic2VydmFibGU8VkFMVUVbXT4ge1xuICAgIHJldHVybiB0aGlzLnN0YXRlT2ZLZXkoa2V5cy5qb2luKHRoaXMuX2tleVNlcGFyYXRvcikgYXMgS0VZKTtcbiAgfVxuXG4gIHB1YmxpYyBoYXNLZXkoa2V5OiBLRVksIGV4YWN0TWF0Y2ggPSB0cnVlKTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUucGlwZShcbiAgICAgIG1hcChyZWNvcmQgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycgJiYgIWV4YWN0TWF0Y2gpIHtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMocmVjb3JkKS5zb21lKGsgPT4gay5pbmNsdWRlcyhrZXkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4ga2V5IGluIHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQga2V5cygpOiBLRVlbXSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMudmFsdWUpIGFzIEtFWVtdO1xuICB9XG5cbiAgcHVibGljIGdldEtleXNPZkluZGV4KGtleUluZGV4OiBudW1iZXIpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIHRoaXMua2V5cy5tYXAoa2V5ID0+IGtleS50b1N0cmluZygpLnNwbGl0KHRoaXMuX2tleVNlcGFyYXRvcilba2V5SW5kZXhdKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgdG9BcnJheSgpOiBWQUxVRVtdW10ge1xuICAgIHJldHVybiBPYmplY3QudmFsdWVzKHRoaXMudmFsdWUpO1xuICB9XG5cbiAgcHVibGljIGdldCBsZW5ndGgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gY291bnRBcnJheUVsZW1lbnRzKHRoaXMudG9BcnJheSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0IHRvQXJyYXlTdGF0ZSgpOiBPYnNlcnZhYmxlPFZBTFVFW10+IHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5waXBlKG1hcCh4ID0+IE9iamVjdC52YWx1ZXMoeCkgYXMgdW5rbm93biBhcyBWQUxVRVtdKSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0IHZhbHVlKCk6IFJlY29yZDxLRVksIFZBTFVFW10+IHtcbiAgICByZXR1cm4gdGhpcy5fc3ViamVjdC5nZXRWYWx1ZSgpO1xuICB9XG5cbiAgY29uc3RydWN0b3IoaW5pdGlhbFZhbHVlPzogUmVjb3JkPEtFWSwgVkFMVUVbXT4pIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX3N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFJlY29yZDxLRVksIFZBTFVFW10+Pihpbml0aWFsVmFsdWUgPz8ge30gYXMgUmVjb3JkPEtFWSwgVkFMVUVbXT4pO1xuICB9XG5cbiAgcHVibGljIGdldFZhbHVlKGtleTogS0VZKTogVkFMVUVbXSB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWVba2V5XTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRWYWx1ZUJ5S2V5cyguLi5rZXlzOiBhbnlbXSk6IFZBTFVFW10ge1xuICAgIHJldHVybiB0aGlzLnZhbHVlW2tleXMubWFwKFN0cmluZykuam9pbih0aGlzLl9rZXlTZXBhcmF0b3IpIGFzIEtFWV07XG4gIH1cblxuICBwdWJsaWMgc2V0VmFsdWUoa2V5OiBLRVksIHZhbHVlOiBWQUxVRVtdLCBieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBmYWxzZSk6IE9ic2VydmFibGU8UmVjb3JkPEtFWSwgVkFMVUVbXT4+IHtcbiAgICB0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvbiA9IGJ5cGFzc0NoYW5nZURldGVjdGlvbjtcbiAgICBjb25zdCBuZXdTZXQgPSB0aGlzLnZhbHVlO1xuICAgIG5ld1NldFtrZXldID0gdmFsdWU7XG4gICAgdGhpcy5fc3ViamVjdC5uZXh0KG5ld1NldCk7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlVmFsdWUoa2V5OiBLRVksIGJ5cGFzc0NoYW5nZURldGVjdGlvbiA9IGZhbHNlKTogdm9pZCB7XG4gICAgdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBieXBhc3NDaGFuZ2VEZXRlY3Rpb247XG4gICAgY29uc3QgbmV3U2V0ID0gdGhpcy52YWx1ZTtcbiAgICBkZWxldGUgbmV3U2V0W2tleV07XG4gICAgdGhpcy5fc3ViamVjdC5uZXh0KG5ld1NldCk7XG4gIH1cblxuICBwdWJsaWMgc2V0VmFsdWVzQnlLZXlzKHZhbHVlOiBWQUxVRVtdLCBieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBmYWxzZSwgLi4ua2V5czogYW55W10pOiBPYnNlcnZhYmxlPFJlY29yZDxLRVksIFZBTFVFW10+PiB7XG4gICAgcmV0dXJuIHRoaXMuc2V0VmFsdWUoa2V5cy5qb2luKHRoaXMuX2tleVNlcGFyYXRvcikgYXMgS0VZLCB2YWx1ZSwgYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uKTtcbiAgfVxuXG4gIHB1YmxpYyBhZGRUb1ZhbHVlKGtleTogS0VZLCB2YWx1ZTogVkFMVUUsIHVuaXF1ZT86IGJvb2xlYW4sIGJ5cGFzc0NoYW5nZURldGVjdGlvbiA9IGZhbHNlKTogT2JzZXJ2YWJsZTxSZWNvcmQ8S0VZLCBWQUxVRVtdPj4ge1xuICAgIHRoaXMuYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uID0gYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uO1xuICAgIGNvbnN0IGlzVW5pcXVlID0gdW5pcXVlID8/IHRydWU7XG4gICAgY29uc3QgY3VycmVudFZhbHVlID0gdGhpcy5nZXRWYWx1ZShrZXkpO1xuXG4gICAgaWYgKGlzVW5pcXVlICYmIGN1cnJlbnRWYWx1ZT8uc29tZSh4ID0+IEpTT04uc3RyaW5naWZ5KHgpID09PSBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgICB9XG5cbiAgICB0aGlzLnNldFZhbHVlKGtleSwgWy4uLnRoaXMuZ2V0VmFsdWUoa2V5KSB8fCBbXSwgdmFsdWVdKTtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgfVxuXG4gIHB1YmxpYyBhZGRUb1ZhbHVlQnlLZXlzKHZhbHVlOiBWQUxVRSwgdW5pcXVlPzogYm9vbGVhbiwgYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uID0gZmFsc2UsIC4uLmtleXM6IGFueVtdKTogT2JzZXJ2YWJsZTxSZWNvcmQ8S0VZLCBWQUxVRVtdPj4ge1xuICAgIHJldHVybiB0aGlzLmFkZFRvVmFsdWUoa2V5cy5qb2luKHRoaXMuX2tleVNlcGFyYXRvcikgYXMgS0VZLCB2YWx1ZSwgdW5pcXVlLCBieXBhc3NDaGFuZ2VEZXRlY3Rpb24pO1xuICB9XG5cbiAgcHVibGljIHJlbW92ZUZyb21WYWx1ZShrZXk6IEtFWSwgdmFsdWU6IFZBTFVFLCBieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBmYWxzZSk6IE9ic2VydmFibGU8UmVjb3JkPEtFWSwgVkFMVUVbXT4+IHtcbiAgICB0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvbiA9IGJ5cGFzc0NoYW5nZURldGVjdGlvbjtcbiAgICBpZiAodGhpcy52YWx1ZVtrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0YXRlO1xuICAgIH1cblxuICAgIGNvbnN0IG5ld1NldCA9IHRoaXMudmFsdWU7XG4gICAgbmV3U2V0W2tleV0gPSBuZXdTZXRba2V5XS5maWx0ZXIoeCA9PiB4ICE9PSB2YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXMuc2V0KG5ld1NldCk7XG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlRnJvbVZhbHVlQnlLZXlzKHZhbHVlOiBWQUxVRSwgYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uID0gZmFsc2UsIC4uLmtleXM6IGFueVtdKTogT2JzZXJ2YWJsZTxSZWNvcmQ8S0VZLCBWQUxVRVtdPj4ge1xuICAgIHJldHVybiB0aGlzLnJlbW92ZUZyb21WYWx1ZShrZXlzLmpvaW4odGhpcy5fa2V5U2VwYXJhdG9yKSBhcyBLRVksIHZhbHVlLCBieXBhc3NDaGFuZ2VEZXRlY3Rpb24pO1xuICB9XG5cbiAgcHVibGljIHVuc2V0KGtleTogS0VZLCBieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBmYWxzZSk6IE9ic2VydmFibGU8UmVjb3JkPEtFWSwgVkFMVUVbXT4+IHtcbiAgICB0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvbiA9IGJ5cGFzc0NoYW5nZURldGVjdGlvbjtcbiAgICBjb25zdCBuZXdTZXQgPSB0aGlzLnZhbHVlO1xuICAgIGRlbGV0ZSBuZXdTZXRba2V5XTtcbiAgICB0aGlzLl9zdWJqZWN0Lm5leHQobmV3U2V0KTtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgfVxuXG4gIHB1YmxpYyB1bnNldEJ5S2V5cyhieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBmYWxzZSwgLi4ua2V5czogYW55W10pOiBPYnNlcnZhYmxlPFJlY29yZDxLRVksIFZBTFVFW10+PiB7XG4gICAgcmV0dXJuIHRoaXMudW5zZXQoa2V5cy5qb2luKHRoaXMuX2tleVNlcGFyYXRvcikgYXMgS0VZLCBieXBhc3NDaGFuZ2VEZXRlY3Rpb24pO1xuICB9XG5cbiAgcHVibGljIHNldChyZWNvcmQ6IFJlY29yZDxLRVksIFZBTFVFW10+LCBieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBmYWxzZSk6IE9ic2VydmFibGU8UmVjb3JkPEtFWSwgVkFMVUVbXT4+IHtcbiAgICB0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvbiA9IGJ5cGFzc0NoYW5nZURldGVjdGlvbjtcbiAgICB0aGlzLl9zdWJqZWN0Lm5leHQocmVjb3JkKTtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgfVxuXG4gIHB1YmxpYyBvblNldChcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFJlY29yZDxLRVksIFZBTFVFW10+PixcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uU2V0KFxuICAgIG9ic2VydmVyOiAodmFsdWU6IFJlY29yZDxLRVksIFZBTFVFW10+KSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25TZXQoXG4gICAgb2JzZXJ2ZXI6IFBhcnRpYWxPYnNlcnZlcjxSZWNvcmQ8S0VZLCBWQUxVRVtdPj4sXG4gICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uU2V0KFxuICAgIG9ic2VydmVyOiBQYXJ0aWFsT2JzZXJ2ZXI8UmVjb3JkPEtFWSwgVkFMVUVbXT4+LFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY29tcGxldGU/OiAoKSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25TZXQob2JzZXJ2ZXI/OiAoKHZhbHVlOiBSZWNvcmQ8S0VZLCBWQUxVRVtdPikgPT4gdm9pZCkgfCBQYXJ0aWFsT2JzZXJ2ZXI8UmVjb3JkPEtFWSwgVkFMVUVbXT4+LCBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLCBjb21wbGV0ZT86ICgpID0+IHZvaWQsIGNhbGxlckNvbXBvbmVudD86IG9iamVjdCk6IFN1YnNjcmlwdGlvbiB7XG4gICAgbGV0IG9ic2VydmFibGUgPSB0aGlzLnN0YXRlLnBpcGUoXG4gICAgICBmaWx0ZXIoeCA9PiAhaXNOdWxsT3JVbmRlZmluZWQoeCkgJiYgIXRoaXMuYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uKVxuICAgICk7XG5cbiAgICByZXR1cm4gdGhpcy5wcmVwYXJlU3Vic2NyaXB0aW9uKHtcbiAgICAgIG9ic2VydmFibGUsXG4gICAgICBvYnNlcnZlcixcbiAgICAgIGVycm9yLFxuICAgICAgY29tcGxldGUsXG4gICAgICBjYWxsZXJDb21wb25lbnRcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBvbkNoYW5nZShcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFJlY29yZDxLRVksIFZBTFVFW10+PixcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uQ2hhbmdlKFxuICAgIG9ic2VydmVyOiAodmFsdWU6IFJlY29yZDxLRVksIFZBTFVFW10+KSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25DaGFuZ2UoXG4gICAgb2JzZXJ2ZXI6IFBhcnRpYWxPYnNlcnZlcjxSZWNvcmQ8S0VZLCBWQUxVRVtdPj4sXG4gICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uQ2hhbmdlKFxuICAgIG9ic2VydmVyOiBQYXJ0aWFsT2JzZXJ2ZXI8UmVjb3JkPEtFWSwgVkFMVUVbXT4+LFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY29tcGxldGU/OiAoKSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25DaGFuZ2Uob2JzZXJ2ZXI/OiAoKHZhbHVlOiBSZWNvcmQ8S0VZLCBWQUxVRVtdPikgPT4gdm9pZCkgfCBQYXJ0aWFsT2JzZXJ2ZXI8UmVjb3JkPEtFWSwgVkFMVUVbXT4+LCBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLCBjb21wbGV0ZT86ICgpID0+IHZvaWQsIGNhbGxlckNvbXBvbmVudD86IG9iamVjdCk6IFN1YnNjcmlwdGlvbiB7XG4gICAgbGV0IG9ic2VydmFibGUgPSB0aGlzLnN0YXRlLnBpcGUoXG4gICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLFxuICAgICAgZmlsdGVyKHggPT4gIWlzTnVsbE9yVW5kZWZpbmVkKHgpICYmICF0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvbilcbiAgICApO1xuXG4gICAgcmV0dXJuIHRoaXMucHJlcGFyZVN1YnNjcmlwdGlvbih7XG4gICAgICBvYnNlcnZhYmxlLFxuICAgICAgb2JzZXJ2ZXIsXG4gICAgICBlcnJvcixcbiAgICAgIGNvbXBsZXRlLFxuICAgICAgY2FsbGVyQ29tcG9uZW50XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgb25WYWx1ZVNldChcbiAgICBrZXk6IEtFWSxcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBWQUxVRVtdKSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25WYWx1ZVNldChcbiAgICBrZXk6IEtFWSxcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBWQUxVRVtdKSA9PiB2b2lkLFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvblZhbHVlU2V0KFxuICAgIGtleTogS0VZLFxuICAgIG9ic2VydmVyOiAodmFsdWU6IFZBTFVFW10pID0+IHZvaWQsXG4gICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICBjb21wbGV0ZT86ICgpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0IHwgYm9vbGVhblxuICApOiB2b2lkO1xuICBwdWJsaWMgb25WYWx1ZVNldChcbiAgICBrZXk6IEtFWSxcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBWQUxVRVtdKSA9PiB2b2lkLFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY29tcGxldGU/OiAoKSA9PiB2b2lkLFxuICAgIGZpbHRlclZhbHVlPzogYm9vbGVhbixcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uVmFsdWVTZXQoXG4gICAga2V5OiBLRVksXG4gICAgb2JzZXJ2ZXI6IFBhcnRpYWxPYnNlcnZlcjxWQUxVRVtdPixcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uVmFsdWVTZXQoXG4gICAga2V5OiBLRVksXG4gICAgb2JzZXJ2ZXI6IFBhcnRpYWxPYnNlcnZlcjxWQUxVRVtdPixcbiAgICBmaWx0ZXJWYWx1ZT86IGJvb2xlYW4gfCBvYmplY3QsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvblZhbHVlU2V0KGtleTogS0VZLCBvYnNlcnZlcj86ICgodmFsdWU6IFZBTFVFW10pID0+IHZvaWQpIHwgUGFydGlhbE9ic2VydmVyPFZBTFVFW10+LCBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLCBjb21wbGV0ZT86ICgpID0+IHZvaWQsIGZpbHRlclZhbHVlPzogYm9vbGVhbiwgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0KTogU3Vic2NyaXB0aW9uIHtcbiAgICBsZXQgb2JzZXJ2YWJsZSA9IHRoaXMuc3RhdGUucGlwZShcbiAgICAgIG1hcCh2YWx1ZSA9PiB2YWx1ZVtrZXldKSxcbiAgICAgIGZpbHRlcih2YWx1ZSA9PiAhaXNOdWxsT3JVbmRlZmluZWQodmFsdWUpICYmICF0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvbilcbiAgICApO1xuXG4gICAgcmV0dXJuIHRoaXMucHJlcGFyZVN1YnNjcmlwdGlvbih7XG4gICAgICBvYnNlcnZhYmxlLFxuICAgICAgb2JzZXJ2ZXIsXG4gICAgICBlcnJvcixcbiAgICAgIGNvbXBsZXRlLFxuICAgICAgY2FsbGVyQ29tcG9uZW50XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgb25WYWx1ZUNoYW5nZShcbiAgICBrZXk6IEtFWSxcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBWQUxVRVtdKSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25WYWx1ZUNoYW5nZShcbiAgICBrZXk6IEtFWSxcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBWQUxVRVtdKSA9PiB2b2lkLFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvblZhbHVlQ2hhbmdlKFxuICAgIGtleTogS0VZLFxuICAgIG9ic2VydmVyOiAodmFsdWU6IFZBTFVFW10pID0+IHZvaWQsXG4gICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICBjb21wbGV0ZT86ICgpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0IHwgYm9vbGVhblxuICApOiB2b2lkO1xuICBwdWJsaWMgb25WYWx1ZUNoYW5nZShcbiAgICBrZXk6IEtFWSxcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBWQUxVRVtdKSA9PiB2b2lkLFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY29tcGxldGU/OiAoKSA9PiB2b2lkLFxuICAgIGZpbHRlclZhbHVlPzogYm9vbGVhbixcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uVmFsdWVDaGFuZ2UoXG4gICAga2V5OiBLRVksXG4gICAgb2JzZXJ2ZXI6IFBhcnRpYWxPYnNlcnZlcjxWQUxVRVtdPixcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uVmFsdWVDaGFuZ2UoXG4gICAga2V5OiBLRVksXG4gICAgb2JzZXJ2ZXI6IFBhcnRpYWxPYnNlcnZlcjxWQUxVRVtdPixcbiAgICBmaWx0ZXJWYWx1ZT86IGJvb2xlYW4gfCBvYmplY3QsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvblZhbHVlQ2hhbmdlKGtleTogS0VZLCBvYnNlcnZlcj86ICgodmFsdWU6IFZBTFVFW10pID0+IHZvaWQpIHwgUGFydGlhbE9ic2VydmVyPFZBTFVFW10+LCBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLCBjb21wbGV0ZT86ICgpID0+IHZvaWQsIGZpbHRlclZhbHVlPzogYm9vbGVhbiwgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0KTogU3Vic2NyaXB0aW9uIHtcbiAgICBsZXQgb2JzZXJ2YWJsZSA9IHRoaXMuc3RhdGUucGlwZShcbiAgICAgIG1hcCh2YWx1ZSA9PiB2YWx1ZVtrZXldKSxcbiAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKChwcmV2LCBjdXJyKSA9PiBKU09OLnN0cmluZ2lmeShwcmV2KSA9PT0gSlNPTi5zdHJpbmdpZnkoY3VycikpLFxuICAgICAgZmlsdGVyKHZhbHVlID0+ICFpc051bGxPclVuZGVmaW5lZCh2YWx1ZSkgJiYgIXRoaXMuYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uKVxuICAgICk7XG5cbiAgICByZXR1cm4gdGhpcy5wcmVwYXJlU3Vic2NyaXB0aW9uKHtcbiAgICAgIG9ic2VydmFibGUsXG4gICAgICBvYnNlcnZlcixcbiAgICAgIGVycm9yLFxuICAgICAgY29tcGxldGUsXG4gICAgICBjYWxsZXJDb21wb25lbnRcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBvbkZpcnN0U2V0KG9ic2VydmVyPzogKCh2YWx1ZTogUmVjb3JkPEtFWSwgVkFMVUVbXT4pID0+IHZvaWQpIHwgUGFydGlhbE9ic2VydmVyPFJlY29yZDxLRVksIFZBTFVFW10+PiwgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCwgY29tcGxldGU/OiAoKSA9PiB2b2lkKTogU3Vic2NyaXB0aW9uIHtcbiAgICBjb25zdCBvYnNlcnZhYmxlID0gdGhpcy5zdGF0ZS5waXBlKFxuICAgICAgZmlsdGVyKHggPT4gIWlzTnVsbE9yVW5kZWZpbmVkKHgpICYmICF0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvbiksXG4gICAgICBmaXJzdCgpXG4gICAgKTtcblxuICAgIHJldHVybiB0aGlzLnByZXBhcmVTdWJzY3JpcHRpb24oe1xuICAgICAgb2JzZXJ2YWJsZSxcbiAgICAgIG9ic2VydmVyLFxuICAgICAgZXJyb3IsXG4gICAgICBjb21wbGV0ZVxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIG9uRmlyc3RDaGFuZ2Uob2JzZXJ2ZXI/OiAoKHZhbHVlOiBSZWNvcmQ8S0VZLCBWQUxVRVtdPikgPT4gdm9pZCkgfCBQYXJ0aWFsT2JzZXJ2ZXI8UmVjb3JkPEtFWSwgVkFMVUVbXT4+LCBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLCBjb21wbGV0ZT86ICgpID0+IHZvaWQpOiBTdWJzY3JpcHRpb24ge1xuICAgIGNvbnN0IG9ic2VydmFibGUgPSB0aGlzLnN0YXRlLnBpcGUoXG4gICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLFxuICAgICAgZmlsdGVyKHggPT4gIWlzTnVsbE9yVW5kZWZpbmVkKHgpICYmICF0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvbiksXG4gICAgICBmaXJzdCgpXG4gICAgKVxuICAgIHJldHVybiB0aGlzLnByZXBhcmVTdWJzY3JpcHRpb24oe1xuICAgICAgb2JzZXJ2YWJsZSxcbiAgICAgIG9ic2VydmVyLFxuICAgICAgZXJyb3IsXG4gICAgICBjb21wbGV0ZVxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIG9uRmlyc3ROb25FbXB0eVNldChvYnNlcnZlcj86ICgodmFsdWU6IFJlY29yZDxLRVksIFZBTFVFW10+KSA9PiB2b2lkKSB8IFBhcnRpYWxPYnNlcnZlcjxSZWNvcmQ8S0VZLCBWQUxVRVtdPj4sIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsIGNvbXBsZXRlPzogKCkgPT4gdm9pZCk6IFN1YnNjcmlwdGlvbiB7XG4gICAgY29uc3Qgb2JzZXJ2YWJsZSA9IHRoaXMuc3RhdGUucGlwZShcbiAgICAgIGZpbHRlcih4ID0+XG4gICAgICAgICFpc051bGxPclVuZGVmaW5lZCh4KSAmJlxuICAgICAgICBPYmplY3Qua2V5cyh4KS5sZW5ndGggPiAwICYmXG4gICAgICAgICF0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvblxuICAgICAgKSxcbiAgICAgIGZpcnN0KClcbiAgICApXG4gICAgcmV0dXJuIHRoaXMucHJlcGFyZVN1YnNjcmlwdGlvbih7XG4gICAgICBvYnNlcnZhYmxlLFxuICAgICAgb2JzZXJ2ZXIsXG4gICAgICBlcnJvcixcbiAgICAgIGNvbXBsZXRlXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgb25GaXJzdE5vbkVtcHR5Q2hhbmdlKG9ic2VydmVyPzogKCh2YWx1ZTogUmVjb3JkPEtFWSwgVkFMVUVbXT4pID0+IHZvaWQpIHwgUGFydGlhbE9ic2VydmVyPFJlY29yZDxLRVksIFZBTFVFW10+PiwgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCwgY29tcGxldGU/OiAoKSA9PiB2b2lkKTogU3Vic2NyaXB0aW9uIHtcbiAgICBjb25zdCBvYnNlcnZhYmxlID0gdGhpcy5zdGF0ZS5waXBlKFxuICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKSxcbiAgICAgIGZpbHRlcih4ID0+ICFpc051bGxPclVuZGVmaW5lZCh4KSAmJlxuICAgICAgICBPYmplY3Qua2V5cyh4KS5sZW5ndGggPiAwICYmXG4gICAgICAgICF0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvblxuICAgICAgKSxcbiAgICAgIGZpcnN0KClcbiAgICApXG4gICAgcmV0dXJuIHRoaXMucHJlcGFyZVN1YnNjcmlwdGlvbih7XG4gICAgICBvYnNlcnZhYmxlLFxuICAgICAgb2JzZXJ2ZXIsXG4gICAgICBlcnJvcixcbiAgICAgIGNvbXBsZXRlXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgb25Gcm9tU2Vjb25kU2V0KFxuICAgIG9ic2VydmVyOiBQYXJ0aWFsT2JzZXJ2ZXI8UmVjb3JkPEtFWSwgVkFMVUVbXT4+LFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25Gcm9tU2Vjb25kU2V0KFxuICAgIG9ic2VydmVyOiAodmFsdWU6IFJlY29yZDxLRVksIFZBTFVFW10+KSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25Gcm9tU2Vjb25kU2V0KFxuICAgIG9ic2VydmVyOiBQYXJ0aWFsT2JzZXJ2ZXI8UmVjb3JkPEtFWSwgVkFMVUVbXT4+LFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvbkZyb21TZWNvbmRTZXQoXG4gICAgb2JzZXJ2ZXI6IFBhcnRpYWxPYnNlcnZlcjxSZWNvcmQ8S0VZLCBWQUxVRVtdPj4sXG4gICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICBjb21wbGV0ZT86ICgpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvbkZyb21TZWNvbmRTZXQob2JzZXJ2ZXI/OiAoKHZhbHVlOiBSZWNvcmQ8S0VZLCBWQUxVRVtdPikgPT4gdm9pZCkgfCBQYXJ0aWFsT2JzZXJ2ZXI8UmVjb3JkPEtFWSwgVkFMVUVbXT4+LCBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLCBjb21wbGV0ZT86ICgpID0+IHZvaWQsIGNhbGxlckNvbXBvbmVudD86IG9iamVjdCk6IFN1YnNjcmlwdGlvbiB7XG4gICAgY29uc3Qgb2JzZXJ2YWJsZSA9IHRoaXMuc3RhdGUucGlwZShcbiAgICAgIHVudGlsRGVzdHJveWVkKGNhbGxlckNvbXBvbmVudCksXG4gICAgICBmaWx0ZXIoeCA9PiAhaXNOdWxsT3JVbmRlZmluZWQoeCkgJiYgIXRoaXMuYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uKSxcbiAgICAgIHNraXAoMSlcbiAgICApO1xuICAgIHJldHVybiB0aGlzLnByZXBhcmVTdWJzY3JpcHRpb24oe1xuICAgICAgb2JzZXJ2YWJsZSxcbiAgICAgIG9ic2VydmVyLFxuICAgICAgZXJyb3IsXG4gICAgICBjb21wbGV0ZSxcbiAgICAgIGNhbGxlckNvbXBvbmVudFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIG9uRnJvbVNlY29uZENoYW5nZShcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFJlY29yZDxLRVksIFZBTFVFW10+PixcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uRnJvbVNlY29uZENoYW5nZShcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBSZWNvcmQ8S0VZLCBWQUxVRVtdPikgPT4gdm9pZCxcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uRnJvbVNlY29uZENoYW5nZShcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFJlY29yZDxLRVksIFZBTFVFW10+PixcbiAgICBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25Gcm9tU2Vjb25kQ2hhbmdlKFxuICAgIG9ic2VydmVyOiBQYXJ0aWFsT2JzZXJ2ZXI8UmVjb3JkPEtFWSwgVkFMVUVbXT4+LFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY29tcGxldGU/OiAoKSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25Gcm9tU2Vjb25kQ2hhbmdlKG9ic2VydmVyPzogKCh2YWx1ZTogUmVjb3JkPEtFWSwgVkFMVUVbXT4pID0+IHZvaWQpIHwgUGFydGlhbE9ic2VydmVyPFJlY29yZDxLRVksIFZBTFVFW10+PiwgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCwgY29tcGxldGU/OiAoKSA9PiB2b2lkLCBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3QpOiBTdWJzY3JpcHRpb24ge1xuICAgIGNvbnN0IG9ic2VydmFibGUgPSB0aGlzLnN0YXRlLnBpcGUoXG4gICAgICB1bnRpbERlc3Ryb3llZChjYWxsZXJDb21wb25lbnQpLFxuICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKSxcbiAgICAgIGZpbHRlcih4ID0+ICFpc051bGxPclVuZGVmaW5lZCh4KSAmJiAhdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24pLFxuICAgICAgc2tpcCgxKVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMucHJlcGFyZVN1YnNjcmlwdGlvbih7XG4gICAgICBvYnNlcnZhYmxlLFxuICAgICAgb2JzZXJ2ZXIsXG4gICAgICBlcnJvcixcbiAgICAgIGNvbXBsZXRlLFxuICAgICAgY2FsbGVyQ29tcG9uZW50XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgcmVzZXQoYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uID0gZmFsc2UpOiB2b2lkIHtcbiAgICB0aGlzLnNldCh7fSBhcyBSZWNvcmQ8S0VZLCBWQUxVRVtdPiwgYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uKTtcbiAgfVxufVxuIl19","customTransformCache":false,"dependencies":["rxjs","@ngneat/until-destroy","rxjs/operators","/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/helpers/type.helper.mjs","/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/states/base-state.mjs"],"id":"/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/states/key-values-state.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { BehaviorSubject } from \"rxjs\";\nimport { untilDestroyed } from \"@ngneat/until-destroy\";\nimport { distinctUntilChanged, filter, first, map, skip } from \"rxjs/operators\";\nimport { isNullOrUndefined, countArrayElements } from \"../helpers/type.helper\";\nimport { BaseState } from \"./base-state\";\nexport class KeyValuesState extends BaseState {\n    _subject;\n    _keySeparator = '####';\n    get state() {\n        return this._subject.asObservable();\n    }\n    stateOfKey(key, changedStateOnly = true) {\n        const state = this.state.pipe(filter(record => !isNullOrUndefined(record) &&\n            !isNullOrUndefined(record[key]) &&\n            !this.bypassChangeDetection), map(record => record[key]));\n        if (changedStateOnly) {\n            return state.pipe(distinctUntilChanged());\n        }\n        return state;\n    }\n    stateOfKeys(...keys) {\n        return this.stateOfKey(keys.join(this._keySeparator));\n    }\n    hasKey(key, exactMatch = true) {\n        return this.state.pipe(map(record => {\n            if (typeof key === 'string' && !exactMatch) {\n                return Object.keys(record).some(k => k.includes(key));\n            }\n            else {\n                return key in record;\n            }\n        }), distinctUntilChanged());\n    }\n    get keys() {\n        return Object.keys(this.value);\n    }\n    getKeysOfIndex(keyIndex) {\n        return this.keys.map(key => key.toString().split(this._keySeparator)[keyIndex]);\n    }\n    get toArray() {\n        return Object.values(this.value);\n    }\n    get length() {\n        return countArrayElements(this.toArray);\n    }\n    get toArrayState() {\n        return this.state.pipe(map(x => Object.values(x)));\n    }\n    get value() {\n        return this._subject.getValue();\n    }\n    constructor(initialValue) {\n        super();\n        this._subject = new BehaviorSubject(initialValue ?? {});\n    }\n    getValue(key) {\n        return this.value[key];\n    }\n    getValueByKeys(...keys) {\n        return this.value[keys.map(String).join(this._keySeparator)];\n    }\n    setValue(key, value, bypassChangeDetection = false) {\n        this.bypassChangeDetection = bypassChangeDetection;\n        const newSet = this.value;\n        newSet[key] = value;\n        this._subject.next(newSet);\n        return this.state;\n    }\n    removeValue(key, bypassChangeDetection = false) {\n        this.bypassChangeDetection = bypassChangeDetection;\n        const newSet = this.value;\n        delete newSet[key];\n        this._subject.next(newSet);\n    }\n    setValuesByKeys(value, bypassChangeDetection = false, ...keys) {\n        return this.setValue(keys.join(this._keySeparator), value, bypassChangeDetection);\n    }\n    addToValue(key, value, unique, bypassChangeDetection = false) {\n        this.bypassChangeDetection = bypassChangeDetection;\n        const isUnique = unique ?? true;\n        const currentValue = this.getValue(key);\n        if (isUnique && currentValue?.some(x => JSON.stringify(x) === JSON.stringify(value))) {\n            return this.state;\n        }\n        this.setValue(key, [...this.getValue(key) || [], value]);\n        return this.state;\n    }\n    addToValueByKeys(value, unique, bypassChangeDetection = false, ...keys) {\n        return this.addToValue(keys.join(this._keySeparator), value, unique, bypassChangeDetection);\n    }\n    removeFromValue(key, value, bypassChangeDetection = false) {\n        this.bypassChangeDetection = bypassChangeDetection;\n        if (this.value[key] === undefined) {\n            return this.state;\n        }\n        const newSet = this.value;\n        newSet[key] = newSet[key].filter(x => x !== value);\n        return this.set(newSet);\n    }\n    removeFromValueByKeys(value, bypassChangeDetection = false, ...keys) {\n        return this.removeFromValue(keys.join(this._keySeparator), value, bypassChangeDetection);\n    }\n    unset(key, bypassChangeDetection = false) {\n        this.bypassChangeDetection = bypassChangeDetection;\n        const newSet = this.value;\n        delete newSet[key];\n        this._subject.next(newSet);\n        return this.state;\n    }\n    unsetByKeys(bypassChangeDetection = false, ...keys) {\n        return this.unset(keys.join(this._keySeparator), bypassChangeDetection);\n    }\n    set(record, bypassChangeDetection = false) {\n        this.bypassChangeDetection = bypassChangeDetection;\n        this._subject.next(record);\n        return this.state;\n    }\n    onSet(observer, error, complete, callerComponent) {\n        let observable = this.state.pipe(filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    onChange(observer, error, complete, callerComponent) {\n        let observable = this.state.pipe(distinctUntilChanged(), filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    onValueSet(key, observer, error, complete, filterValue, callerComponent) {\n        let observable = this.state.pipe(map(value => value[key]), filter(value => !isNullOrUndefined(value) && !this.bypassChangeDetection));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    onValueChange(key, observer, error, complete, filterValue, callerComponent) {\n        let observable = this.state.pipe(map(value => value[key]), distinctUntilChanged((prev, curr) => JSON.stringify(prev) === JSON.stringify(curr)), filter(value => !isNullOrUndefined(value) && !this.bypassChangeDetection));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    onFirstSet(observer, error, complete) {\n        const observable = this.state.pipe(filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection), first());\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete\n        });\n    }\n    onFirstChange(observer, error, complete) {\n        const observable = this.state.pipe(distinctUntilChanged(), filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection), first());\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete\n        });\n    }\n    onFirstNonEmptySet(observer, error, complete) {\n        const observable = this.state.pipe(filter(x => !isNullOrUndefined(x) &&\n            Object.keys(x).length > 0 &&\n            !this.bypassChangeDetection), first());\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete\n        });\n    }\n    onFirstNonEmptyChange(observer, error, complete) {\n        const observable = this.state.pipe(distinctUntilChanged(), filter(x => !isNullOrUndefined(x) &&\n            Object.keys(x).length > 0 &&\n            !this.bypassChangeDetection), first());\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete\n        });\n    }\n    onFromSecondSet(observer, error, complete, callerComponent) {\n        const observable = this.state.pipe(untilDestroyed(callerComponent), filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection), skip(1));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    onFromSecondChange(observer, error, complete, callerComponent) {\n        const observable = this.state.pipe(untilDestroyed(callerComponent), distinctUntilChanged(), filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection), skip(1));\n        return this.prepareSubscription({\n            observable,\n            observer,\n            error,\n            complete,\n            callerComponent\n        });\n    }\n    reset(bypassChangeDetection = false) {\n        this.set({}, bypassChangeDetection);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoia2V5LXZhbHVlcy1zdGF0ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1zdGF0ZXMvc3JjL2xpYi9zdGF0ZXMva2V5LXZhbHVlcy1zdGF0ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZUFBZSxFQUE2QyxNQUFNLE1BQU0sQ0FBQztBQUNsRixPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDdkQsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ2hGLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQy9FLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFFekMsTUFBTSxPQUFPLGNBQTRELFNBQVEsU0FBUztJQUVoRixRQUFRLENBQXdDO0lBQ3ZDLGFBQWEsR0FBRyxNQUFNLENBQUM7SUFFeEMsSUFBVyxLQUFLO1FBQ2QsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQ3RDLENBQUM7SUFFTSxVQUFVLENBQUMsR0FBUSxFQUFFLGdCQUFnQixHQUFHLElBQUk7UUFDakQsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQzNCLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUNkLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDO1lBQzFCLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQy9CLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUM1QixFQUNELEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQVksQ0FBQyxDQUN0QyxDQUFDO1FBRUYsSUFBSSxnQkFBZ0Is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QUMvQixNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLEVBQ2pFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FDUixDQUFDO1FBQ0YsT0FBTyxJQUFJLENBQUMsbUJBQW1CLENBQUM7WUFDOUIsVUFBVTtZQUNWLFFBQVE7WUFDUixLQUFLO1lBQ0wsUUFBUTtZQUNSLGVBQWU7U0FDaEIsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQXFCTSxrQkFBa0IsQ0FBQyxRQUEwRixFQUFFLEtBQTRCLEVBQUUsUUFBcUIsRUFBRSxlQUF3QjtRQUNqTSxNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FDaEMsY0FBYyxDQUFDLGVBQWUsQ0FBQyxFQUMvQixvQkFBb0IsRUFBRSxFQUN0QixNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLEVBQ2pFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FDUixDQUFDO1FBQ0YsT0FBTyxJQUFJLENBQUMsbUJBQW1CLENBQUM7WUFDOUIsVUFBVTtZQUNWLFFBQVE7WUFDUixLQUFLO1lBQ0wsUUFBUTtZQUNSLGVBQWU7U0FDaEIsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVNLEtBQUssQ0FBQyxxQkFBcUIsR0FBRyxLQUFLO1FBQ3hDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBMEIsRUFBRSxxQkFBcUIsQ0FBQyxDQUFDO0lBQzlELENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgT2JzZXJ2YWJsZSwgUGFydGlhbE9ic2VydmVyLCBTdWJzY3JpcHRpb24gfSBmcm9tIFwicnhqc1wiO1xuaW1wb3J0IHsgdW50aWxEZXN0cm95ZWQgfSBmcm9tIFwiQG5nbmVhdC91bnRpbC1kZXN0cm95XCI7XG5pbXBvcnQgeyBkaXN0aW5jdFVudGlsQ2hhbmdlZCwgZmlsdGVyLCBmaXJzdCwgbWFwLCBza2lwIH0gZnJvbSBcInJ4anMvb3BlcmF0b3JzXCI7XG5pbXBvcnQgeyBpc051bGxPclVuZGVmaW5lZCwgY291bnRBcnJheUVsZW1lbnRzIH0gZnJvbSBcIi4uL2hlbHBlcnMvdHlwZS5oZWxwZXJcIjtcbmltcG9ydCB7IEJhc2VTdGF0ZSB9IGZyb20gXCIuL2Jhc2Utc3RhdGVcIjtcblxuZXhwb3J0IGNsYXNzIEtleVZhbHVlc1N0YXRlPEtFWSBleHRlbmRzIHN0cmluZyB8IG51bWJlciB8IHN5bWJvbCwgVkFMVUU+IGV4dGVuZHMgQmFzZVN0YXRlIHtcblxuICBwcml2YXRlIF9zdWJqZWN0OiBCZWhhdmlvclN1YmplY3Q8UmVjb3JkPEtFWSwgVkFMVUVbXT4+O1xuICBwcml2YXRlIHJlYWRvbmx5IF9rZXlTZXBhcmF0b3IgPSAnIyMjIyc7XG5cbiAgcHVibGljIGdldCBzdGF0ZSgpOiBPYnNlcnZhYmxlPFJlY29yZDxLRVksIFZBTFVFW10+PiB7XG4gICAgcmV0dXJuIHRoaXMuX3N1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGVPZktleShrZXk6IEtFWSwgY2hhbmdlZFN0YXRlT25seSA9IHRydWUpOiBPYnNlcnZhYmxlPFZBTFVFW10+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGUucGlwZShcbiAgICAgIGZpbHRlcihyZWNvcmQgPT5cbiAgICAgICAgIWlzTnVsbE9yVW5kZWZpbmVkKHJlY29yZCkgJiZcbiAgICAgICAgIWlzTnVsbE9yVW5kZWZpbmVkKHJlY29yZFtrZXldKSAmJlxuICAgICAgICAhdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb25cbiAgICAgICksXG4gICAgICBtYXAocmVjb3JkID0+IHJlY29yZFtrZXldIGFzIFZBTFVFW10pXG4gICAgKTtcblxuICAgIGlmIChjaGFuZ2VkU3RhdGVPbmx5KSB7XG4gICAgICByZXR1cm4gc3RhdGUucGlwZShkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKVxuICAgIH1cblxuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0ZU9mS2V5cyguLi5rZXlzOiBhbnlbXSk6IE9ic2VydmFibGU8VkFMVUVbXT4ge1xuICAgIHJldHVybiB0aGlzLnN0YXRlT2ZLZXkoa2V5cy5qb2luKHRoaXMuX2tleVNlcGFyYXRvcikgYXMgS0VZKTtcbiAgfVxuXG4gIHB1YmxpYyBoYXNLZXkoa2V5OiBLRVksIGV4YWN0TWF0Y2ggPSB0cnVlKTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUucGlwZShcbiAgICAgIG1hcChyZWNvcmQgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycgJiYgIWV4YWN0TWF0Y2gpIHtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMocmVjb3JkKS5zb21lKGsgPT4gay5pbmNsdWRlcyhrZXkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4ga2V5IGluIHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQga2V5cygpOiBLRVlbXSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMudmFsdWUpIGFzIEtFWVtdO1xuICB9XG5cbiAgcHVibGljIGdldEtleXNPZkluZGV4KGtleUluZGV4OiBudW1iZXIpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIHRoaXMua2V5cy5tYXAoa2V5ID0+IGtleS50b1N0cmluZygpLnNwbGl0KHRoaXMuX2tleVNlcGFyYXRvcilba2V5SW5kZXhdKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgdG9BcnJheSgpOiBWQUxVRVtdW10ge1xuICAgIHJldHVybiBPYmplY3QudmFsdWVzKHRoaXMudmFsdWUpO1xuICB9XG5cbiAgcHVibGljIGdldCBsZW5ndGgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gY291bnRBcnJheUVsZW1lbnRzKHRoaXMudG9BcnJheSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0IHRvQXJyYXlTdGF0ZSgpOiBPYnNlcnZhYmxlPFZBTFVFW10+IHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5waXBlKG1hcCh4ID0+IE9iamVjdC52YWx1ZXMoeCkgYXMgdW5rbm93biBhcyBWQUxVRVtdKSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0IHZhbHVlKCk6IFJlY29yZDxLRVksIFZBTFVFW10+IHtcbiAgICByZXR1cm4gdGhpcy5fc3ViamVjdC5nZXRWYWx1ZSgpO1xuICB9XG5cbiAgY29uc3RydWN0b3IoaW5pdGlhbFZhbHVlPzogUmVjb3JkPEtFWSwgVkFMVUVbXT4pIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX3N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFJlY29yZDxLRVksIFZBTFVFW10+Pihpbml0aWFsVmFsdWUgPz8ge30gYXMgUmVjb3JkPEtFWSwgVkFMVUVbXT4pO1xuICB9XG5cbiAgcHVibGljIGdldFZhbHVlKGtleTogS0VZKTogVkFMVUVbXSB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWVba2V5XTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRWYWx1ZUJ5S2V5cyguLi5rZXlzOiBhbnlbXSk6IFZBTFVFW10ge1xuICAgIHJldHVybiB0aGlzLnZhbHVlW2tleXMubWFwKFN0cmluZykuam9pbih0aGlzLl9rZXlTZXBhcmF0b3IpIGFzIEtFWV07XG4gIH1cblxuICBwdWJsaWMgc2V0VmFsdWUoa2V5OiBLRVksIHZhbHVlOiBWQUxVRVtdLCBieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBmYWxzZSk6IE9ic2VydmFibGU8UmVjb3JkPEtFWSwgVkFMVUVbXT4+IHtcbiAgICB0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvbiA9IGJ5cGFzc0NoYW5nZURldGVjdGlvbjtcbiAgICBjb25zdCBuZXdTZXQgPSB0aGlzLnZhbHVlO1xuICAgIG5ld1NldFtrZXldID0gdmFsdWU7XG4gICAgdGhpcy5fc3ViamVjdC5uZXh0KG5ld1NldCk7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlVmFsdWUoa2V5OiBLRVksIGJ5cGFzc0NoYW5nZURldGVjdGlvbiA9IGZhbHNlKTogdm9pZCB7XG4gICAgdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBieXBhc3NDaGFuZ2VEZXRlY3Rpb247XG4gICAgY29uc3QgbmV3U2V0ID0gdGhpcy52YWx1ZTtcbiAgICBkZWxldGUgbmV3U2V0W2tleV07XG4gICAgdGhpcy5fc3ViamVjdC5uZXh0KG5ld1NldCk7XG4gIH1cblxuICBwdWJsaWMgc2V0VmFsdWVzQnlLZXlzKHZhbHVlOiBWQUxVRVtdLCBieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBmYWxzZSwgLi4ua2V5czogYW55W10pOiBPYnNlcnZhYmxlPFJlY29yZDxLRVksIFZBTFVFW10+PiB7XG4gICAgcmV0dXJuIHRoaXMuc2V0VmFsdWUoa2V5cy5qb2luKHRoaXMuX2tleVNlcGFyYXRvcikgYXMgS0VZLCB2YWx1ZSwgYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uKTtcbiAgfVxuXG4gIHB1YmxpYyBhZGRUb1ZhbHVlKGtleTogS0VZLCB2YWx1ZTogVkFMVUUsIHVuaXF1ZT86IGJvb2xlYW4sIGJ5cGFzc0NoYW5nZURldGVjdGlvbiA9IGZhbHNlKTogT2JzZXJ2YWJsZTxSZWNvcmQ8S0VZLCBWQUxVRVtdPj4ge1xuICAgIHRoaXMuYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uID0gYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uO1xuICAgIGNvbnN0IGlzVW5pcXVlID0gdW5pcXVlID8/IHRydWU7XG4gICAgY29uc3QgY3VycmVudFZhbHVlID0gdGhpcy5nZXRWYWx1ZShrZXkpO1xuXG4gICAgaWYgKGlzVW5pcXVlICYmIGN1cnJlbnRWYWx1ZT8uc29tZSh4ID0+IEpTT04uc3RyaW5naWZ5KHgpID09PSBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgICB9XG5cbiAgICB0aGlzLnNldFZhbHVlKGtleSwgWy4uLnRoaXMuZ2V0VmFsdWUoa2V5KSB8fCBbXSwgdmFsdWVdKTtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgfVxuXG4gIHB1YmxpYyBhZGRUb1ZhbHVlQnlLZXlzKHZhbHVlOiBWQUxVRSwgdW5pcXVlPzogYm9vbGVhbiwgYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uID0gZmFsc2UsIC4uLmtleXM6IGFueVtdKTogT2JzZXJ2YWJsZTxSZWNvcmQ8S0VZLCBWQUxVRVtdPj4ge1xuICAgIHJldHVybiB0aGlzLmFkZFRvVmFsdWUoa2V5cy5qb2luKHRoaXMuX2tleVNlcGFyYXRvcikgYXMgS0VZLCB2YWx1ZSwgdW5pcXVlLCBieXBhc3NDaGFuZ2VEZXRlY3Rpb24pO1xuICB9XG5cbiAgcHVibGljIHJlbW92ZUZyb21WYWx1ZShrZXk6IEtFWSwgdmFsdWU6IFZBTFVFLCBieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBmYWxzZSk6IE9ic2VydmFibGU8UmVjb3JkPEtFWSwgVkFMVUVbXT4+IHtcbiAgICB0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvbiA9IGJ5cGFzc0NoYW5nZURldGVjdGlvbjtcbiAgICBpZiAodGhpcy52YWx1ZVtrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0YXRlO1xuICAgIH1cblxuICAgIGNvbnN0IG5ld1NldCA9IHRoaXMudmFsdWU7XG4gICAgbmV3U2V0W2tleV0gPSBuZXdTZXRba2V5XS5maWx0ZXIoeCA9PiB4ICE9PSB2YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXMuc2V0KG5ld1NldCk7XG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlRnJvbVZhbHVlQnlLZXlzKHZhbHVlOiBWQUxVRSwgYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uID0gZmFsc2UsIC4uLmtleXM6IGFueVtdKTogT2JzZXJ2YWJsZTxSZWNvcmQ8S0VZLCBWQUxVRVtdPj4ge1xuICAgIHJldHVybiB0aGlzLnJlbW92ZUZyb21WYWx1ZShrZXlzLmpvaW4odGhpcy5fa2V5U2VwYXJhdG9yKSBhcyBLRVksIHZhbHVlLCBieXBhc3NDaGFuZ2VEZXRlY3Rpb24pO1xuICB9XG5cbiAgcHVibGljIHVuc2V0KGtleTogS0VZLCBieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBmYWxzZSk6IE9ic2VydmFibGU8UmVjb3JkPEtFWSwgVkFMVUVbXT4+IHtcbiAgICB0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvbiA9IGJ5cGFzc0NoYW5nZURldGVjdGlvbjtcbiAgICBjb25zdCBuZXdTZXQgPSB0aGlzLnZhbHVlO1xuICAgIGRlbGV0ZSBuZXdTZXRba2V5XTtcbiAgICB0aGlzLl9zdWJqZWN0Lm5leHQobmV3U2V0KTtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgfVxuXG4gIHB1YmxpYyB1bnNldEJ5S2V5cyhieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBmYWxzZSwgLi4ua2V5czogYW55W10pOiBPYnNlcnZhYmxlPFJlY29yZDxLRVksIFZBTFVFW10+PiB7XG4gICAgcmV0dXJuIHRoaXMudW5zZXQoa2V5cy5qb2luKHRoaXMuX2tleVNlcGFyYXRvcikgYXMgS0VZLCBieXBhc3NDaGFuZ2VEZXRlY3Rpb24pO1xuICB9XG5cbiAgcHVibGljIHNldChyZWNvcmQ6IFJlY29yZDxLRVksIFZBTFVFW10+LCBieXBhc3NDaGFuZ2VEZXRlY3Rpb24gPSBmYWxzZSk6IE9ic2VydmFibGU8UmVjb3JkPEtFWSwgVkFMVUVbXT4+IHtcbiAgICB0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvbiA9IGJ5cGFzc0NoYW5nZURldGVjdGlvbjtcbiAgICB0aGlzLl9zdWJqZWN0Lm5leHQocmVjb3JkKTtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgfVxuXG4gIHB1YmxpYyBvblNldChcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFJlY29yZDxLRVksIFZBTFVFW10+PixcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uU2V0KFxuICAgIG9ic2VydmVyOiAodmFsdWU6IFJlY29yZDxLRVksIFZBTFVFW10+KSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25TZXQoXG4gICAgb2JzZXJ2ZXI6IFBhcnRpYWxPYnNlcnZlcjxSZWNvcmQ8S0VZLCBWQUxVRVtdPj4sXG4gICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uU2V0KFxuICAgIG9ic2VydmVyOiBQYXJ0aWFsT2JzZXJ2ZXI8UmVjb3JkPEtFWSwgVkFMVUVbXT4+LFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY29tcGxldGU/OiAoKSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25TZXQob2JzZXJ2ZXI/OiAoKHZhbHVlOiBSZWNvcmQ8S0VZLCBWQUxVRVtdPikgPT4gdm9pZCkgfCBQYXJ0aWFsT2JzZXJ2ZXI8UmVjb3JkPEtFWSwgVkFMVUVbXT4+LCBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLCBjb21wbGV0ZT86ICgpID0+IHZvaWQsIGNhbGxlckNvbXBvbmVudD86IG9iamVjdCk6IFN1YnNjcmlwdGlvbiB7XG4gICAgbGV0IG9ic2VydmFibGUgPSB0aGlzLnN0YXRlLnBpcGUoXG4gICAgICBmaWx0ZXIoeCA9PiAhaXNOdWxsT3JVbmRlZmluZWQoeCkgJiYgIXRoaXMuYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uKVxuICAgICk7XG5cbiAgICByZXR1cm4gdGhpcy5wcmVwYXJlU3Vic2NyaXB0aW9uKHtcbiAgICAgIG9ic2VydmFibGUsXG4gICAgICBvYnNlcnZlcixcbiAgICAgIGVycm9yLFxuICAgICAgY29tcGxldGUsXG4gICAgICBjYWxsZXJDb21wb25lbnRcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBvbkNoYW5nZShcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFJlY29yZDxLRVksIFZBTFVFW10+PixcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uQ2hhbmdlKFxuICAgIG9ic2VydmVyOiAodmFsdWU6IFJlY29yZDxLRVksIFZBTFVFW10+KSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25DaGFuZ2UoXG4gICAgb2JzZXJ2ZXI6IFBhcnRpYWxPYnNlcnZlcjxSZWNvcmQ8S0VZLCBWQUxVRVtdPj4sXG4gICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uQ2hhbmdlKFxuICAgIG9ic2VydmVyOiBQYXJ0aWFsT2JzZXJ2ZXI8UmVjb3JkPEtFWSwgVkFMVUVbXT4+LFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY29tcGxldGU/OiAoKSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25DaGFuZ2Uob2JzZXJ2ZXI/OiAoKHZhbHVlOiBSZWNvcmQ8S0VZLCBWQUxVRVtdPikgPT4gdm9pZCkgfCBQYXJ0aWFsT2JzZXJ2ZXI8UmVjb3JkPEtFWSwgVkFMVUVbXT4+LCBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLCBjb21wbGV0ZT86ICgpID0+IHZvaWQsIGNhbGxlckNvbXBvbmVudD86IG9iamVjdCk6IFN1YnNjcmlwdGlvbiB7XG4gICAgbGV0IG9ic2VydmFibGUgPSB0aGlzLnN0YXRlLnBpcGUoXG4gICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLFxuICAgICAgZmlsdGVyKHggPT4gIWlzTnVsbE9yVW5kZWZpbmVkKHgpICYmICF0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvbilcbiAgICApO1xuXG4gICAgcmV0dXJuIHRoaXMucHJlcGFyZVN1YnNjcmlwdGlvbih7XG4gICAgICBvYnNlcnZhYmxlLFxuICAgICAgb2JzZXJ2ZXIsXG4gICAgICBlcnJvcixcbiAgICAgIGNvbXBsZXRlLFxuICAgICAgY2FsbGVyQ29tcG9uZW50XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgb25WYWx1ZVNldChcbiAgICBrZXk6IEtFWSxcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBWQUxVRVtdKSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25WYWx1ZVNldChcbiAgICBrZXk6IEtFWSxcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBWQUxVRVtdKSA9PiB2b2lkLFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvblZhbHVlU2V0KFxuICAgIGtleTogS0VZLFxuICAgIG9ic2VydmVyOiAodmFsdWU6IFZBTFVFW10pID0+IHZvaWQsXG4gICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICBjb21wbGV0ZT86ICgpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0IHwgYm9vbGVhblxuICApOiB2b2lkO1xuICBwdWJsaWMgb25WYWx1ZVNldChcbiAgICBrZXk6IEtFWSxcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBWQUxVRVtdKSA9PiB2b2lkLFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY29tcGxldGU/OiAoKSA9PiB2b2lkLFxuICAgIGZpbHRlclZhbHVlPzogYm9vbGVhbixcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uVmFsdWVTZXQoXG4gICAga2V5OiBLRVksXG4gICAgb2JzZXJ2ZXI6IFBhcnRpYWxPYnNlcnZlcjxWQUxVRVtdPixcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uVmFsdWVTZXQoXG4gICAga2V5OiBLRVksXG4gICAgb2JzZXJ2ZXI6IFBhcnRpYWxPYnNlcnZlcjxWQUxVRVtdPixcbiAgICBmaWx0ZXJWYWx1ZT86IGJvb2xlYW4gfCBvYmplY3QsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvblZhbHVlU2V0KGtleTogS0VZLCBvYnNlcnZlcj86ICgodmFsdWU6IFZBTFVFW10pID0+IHZvaWQpIHwgUGFydGlhbE9ic2VydmVyPFZBTFVFW10+LCBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLCBjb21wbGV0ZT86ICgpID0+IHZvaWQsIGZpbHRlclZhbHVlPzogYm9vbGVhbiwgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0KTogU3Vic2NyaXB0aW9uIHtcbiAgICBsZXQgb2JzZXJ2YWJsZSA9IHRoaXMuc3RhdGUucGlwZShcbiAgICAgIG1hcCh2YWx1ZSA9PiB2YWx1ZVtrZXldKSxcbiAgICAgIGZpbHRlcih2YWx1ZSA9PiAhaXNOdWxsT3JVbmRlZmluZWQodmFsdWUpICYmICF0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvbilcbiAgICApO1xuXG4gICAgcmV0dXJuIHRoaXMucHJlcGFyZVN1YnNjcmlwdGlvbih7XG4gICAgICBvYnNlcnZhYmxlLFxuICAgICAgb2JzZXJ2ZXIsXG4gICAgICBlcnJvcixcbiAgICAgIGNvbXBsZXRlLFxuICAgICAgY2FsbGVyQ29tcG9uZW50XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgb25WYWx1ZUNoYW5nZShcbiAgICBrZXk6IEtFWSxcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBWQUxVRVtdKSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25WYWx1ZUNoYW5nZShcbiAgICBrZXk6IEtFWSxcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBWQUxVRVtdKSA9PiB2b2lkLFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvblZhbHVlQ2hhbmdlKFxuICAgIGtleTogS0VZLFxuICAgIG9ic2VydmVyOiAodmFsdWU6IFZBTFVFW10pID0+IHZvaWQsXG4gICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICBjb21wbGV0ZT86ICgpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0IHwgYm9vbGVhblxuICApOiB2b2lkO1xuICBwdWJsaWMgb25WYWx1ZUNoYW5nZShcbiAgICBrZXk6IEtFWSxcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBWQUxVRVtdKSA9PiB2b2lkLFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY29tcGxldGU/OiAoKSA9PiB2b2lkLFxuICAgIGZpbHRlclZhbHVlPzogYm9vbGVhbixcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uVmFsdWVDaGFuZ2UoXG4gICAga2V5OiBLRVksXG4gICAgb2JzZXJ2ZXI6IFBhcnRpYWxPYnNlcnZlcjxWQUxVRVtdPixcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uVmFsdWVDaGFuZ2UoXG4gICAga2V5OiBLRVksXG4gICAgb2JzZXJ2ZXI6IFBhcnRpYWxPYnNlcnZlcjxWQUxVRVtdPixcbiAgICBmaWx0ZXJWYWx1ZT86IGJvb2xlYW4gfCBvYmplY3QsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvblZhbHVlQ2hhbmdlKGtleTogS0VZLCBvYnNlcnZlcj86ICgodmFsdWU6IFZBTFVFW10pID0+IHZvaWQpIHwgUGFydGlhbE9ic2VydmVyPFZBTFVFW10+LCBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLCBjb21wbGV0ZT86ICgpID0+IHZvaWQsIGZpbHRlclZhbHVlPzogYm9vbGVhbiwgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0KTogU3Vic2NyaXB0aW9uIHtcbiAgICBsZXQgb2JzZXJ2YWJsZSA9IHRoaXMuc3RhdGUucGlwZShcbiAgICAgIG1hcCh2YWx1ZSA9PiB2YWx1ZVtrZXldKSxcbiAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKChwcmV2LCBjdXJyKSA9PiBKU09OLnN0cmluZ2lmeShwcmV2KSA9PT0gSlNPTi5zdHJpbmdpZnkoY3VycikpLFxuICAgICAgZmlsdGVyKHZhbHVlID0+ICFpc051bGxPclVuZGVmaW5lZCh2YWx1ZSkgJiYgIXRoaXMuYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uKVxuICAgICk7XG5cbiAgICByZXR1cm4gdGhpcy5wcmVwYXJlU3Vic2NyaXB0aW9uKHtcbiAgICAgIG9ic2VydmFibGUsXG4gICAgICBvYnNlcnZlcixcbiAgICAgIGVycm9yLFxuICAgICAgY29tcGxldGUsXG4gICAgICBjYWxsZXJDb21wb25lbnRcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBvbkZpcnN0U2V0KG9ic2VydmVyPzogKCh2YWx1ZTogUmVjb3JkPEtFWSwgVkFMVUVbXT4pID0+IHZvaWQpIHwgUGFydGlhbE9ic2VydmVyPFJlY29yZDxLRVksIFZBTFVFW10+PiwgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCwgY29tcGxldGU/OiAoKSA9PiB2b2lkKTogU3Vic2NyaXB0aW9uIHtcbiAgICBjb25zdCBvYnNlcnZhYmxlID0gdGhpcy5zdGF0ZS5waXBlKFxuICAgICAgZmlsdGVyKHggPT4gIWlzTnVsbE9yVW5kZWZpbmVkKHgpICYmICF0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvbiksXG4gICAgICBmaXJzdCgpXG4gICAgKTtcblxuICAgIHJldHVybiB0aGlzLnByZXBhcmVTdWJzY3JpcHRpb24oe1xuICAgICAgb2JzZXJ2YWJsZSxcbiAgICAgIG9ic2VydmVyLFxuICAgICAgZXJyb3IsXG4gICAgICBjb21wbGV0ZVxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIG9uRmlyc3RDaGFuZ2Uob2JzZXJ2ZXI/OiAoKHZhbHVlOiBSZWNvcmQ8S0VZLCBWQUxVRVtdPikgPT4gdm9pZCkgfCBQYXJ0aWFsT2JzZXJ2ZXI8UmVjb3JkPEtFWSwgVkFMVUVbXT4+LCBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLCBjb21wbGV0ZT86ICgpID0+IHZvaWQpOiBTdWJzY3JpcHRpb24ge1xuICAgIGNvbnN0IG9ic2VydmFibGUgPSB0aGlzLnN0YXRlLnBpcGUoXG4gICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLFxuICAgICAgZmlsdGVyKHggPT4gIWlzTnVsbE9yVW5kZWZpbmVkKHgpICYmICF0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvbiksXG4gICAgICBmaXJzdCgpXG4gICAgKVxuICAgIHJldHVybiB0aGlzLnByZXBhcmVTdWJzY3JpcHRpb24oe1xuICAgICAgb2JzZXJ2YWJsZSxcbiAgICAgIG9ic2VydmVyLFxuICAgICAgZXJyb3IsXG4gICAgICBjb21wbGV0ZVxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIG9uRmlyc3ROb25FbXB0eVNldChvYnNlcnZlcj86ICgodmFsdWU6IFJlY29yZDxLRVksIFZBTFVFW10+KSA9PiB2b2lkKSB8IFBhcnRpYWxPYnNlcnZlcjxSZWNvcmQ8S0VZLCBWQUxVRVtdPj4sIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsIGNvbXBsZXRlPzogKCkgPT4gdm9pZCk6IFN1YnNjcmlwdGlvbiB7XG4gICAgY29uc3Qgb2JzZXJ2YWJsZSA9IHRoaXMuc3RhdGUucGlwZShcbiAgICAgIGZpbHRlcih4ID0+XG4gICAgICAgICFpc051bGxPclVuZGVmaW5lZCh4KSAmJlxuICAgICAgICBPYmplY3Qua2V5cyh4KS5sZW5ndGggPiAwICYmXG4gICAgICAgICF0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvblxuICAgICAgKSxcbiAgICAgIGZpcnN0KClcbiAgICApXG4gICAgcmV0dXJuIHRoaXMucHJlcGFyZVN1YnNjcmlwdGlvbih7XG4gICAgICBvYnNlcnZhYmxlLFxuICAgICAgb2JzZXJ2ZXIsXG4gICAgICBlcnJvcixcbiAgICAgIGNvbXBsZXRlXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgb25GaXJzdE5vbkVtcHR5Q2hhbmdlKG9ic2VydmVyPzogKCh2YWx1ZTogUmVjb3JkPEtFWSwgVkFMVUVbXT4pID0+IHZvaWQpIHwgUGFydGlhbE9ic2VydmVyPFJlY29yZDxLRVksIFZBTFVFW10+PiwgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCwgY29tcGxldGU/OiAoKSA9PiB2b2lkKTogU3Vic2NyaXB0aW9uIHtcbiAgICBjb25zdCBvYnNlcnZhYmxlID0gdGhpcy5zdGF0ZS5waXBlKFxuICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKSxcbiAgICAgIGZpbHRlcih4ID0+ICFpc051bGxPclVuZGVmaW5lZCh4KSAmJlxuICAgICAgICBPYmplY3Qua2V5cyh4KS5sZW5ndGggPiAwICYmXG4gICAgICAgICF0aGlzLmJ5cGFzc0NoYW5nZURldGVjdGlvblxuICAgICAgKSxcbiAgICAgIGZpcnN0KClcbiAgICApXG4gICAgcmV0dXJuIHRoaXMucHJlcGFyZVN1YnNjcmlwdGlvbih7XG4gICAgICBvYnNlcnZhYmxlLFxuICAgICAgb2JzZXJ2ZXIsXG4gICAgICBlcnJvcixcbiAgICAgIGNvbXBsZXRlXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgb25Gcm9tU2Vjb25kU2V0KFxuICAgIG9ic2VydmVyOiBQYXJ0aWFsT2JzZXJ2ZXI8UmVjb3JkPEtFWSwgVkFMVUVbXT4+LFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25Gcm9tU2Vjb25kU2V0KFxuICAgIG9ic2VydmVyOiAodmFsdWU6IFJlY29yZDxLRVksIFZBTFVFW10+KSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25Gcm9tU2Vjb25kU2V0KFxuICAgIG9ic2VydmVyOiBQYXJ0aWFsT2JzZXJ2ZXI8UmVjb3JkPEtFWSwgVkFMVUVbXT4+LFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvbkZyb21TZWNvbmRTZXQoXG4gICAgb2JzZXJ2ZXI6IFBhcnRpYWxPYnNlcnZlcjxSZWNvcmQ8S0VZLCBWQUxVRVtdPj4sXG4gICAgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbiAgICBjb21wbGV0ZT86ICgpID0+IHZvaWQsXG4gICAgY2FsbGVyQ29tcG9uZW50Pzogb2JqZWN0XG4gICk6IHZvaWQ7XG4gIHB1YmxpYyBvbkZyb21TZWNvbmRTZXQob2JzZXJ2ZXI/OiAoKHZhbHVlOiBSZWNvcmQ8S0VZLCBWQUxVRVtdPikgPT4gdm9pZCkgfCBQYXJ0aWFsT2JzZXJ2ZXI8UmVjb3JkPEtFWSwgVkFMVUVbXT4+LCBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLCBjb21wbGV0ZT86ICgpID0+IHZvaWQsIGNhbGxlckNvbXBvbmVudD86IG9iamVjdCk6IFN1YnNjcmlwdGlvbiB7XG4gICAgY29uc3Qgb2JzZXJ2YWJsZSA9IHRoaXMuc3RhdGUucGlwZShcbiAgICAgIHVudGlsRGVzdHJveWVkKGNhbGxlckNvbXBvbmVudCksXG4gICAgICBmaWx0ZXIoeCA9PiAhaXNOdWxsT3JVbmRlZmluZWQoeCkgJiYgIXRoaXMuYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uKSxcbiAgICAgIHNraXAoMSlcbiAgICApO1xuICAgIHJldHVybiB0aGlzLnByZXBhcmVTdWJzY3JpcHRpb24oe1xuICAgICAgb2JzZXJ2YWJsZSxcbiAgICAgIG9ic2VydmVyLFxuICAgICAgZXJyb3IsXG4gICAgICBjb21wbGV0ZSxcbiAgICAgIGNhbGxlckNvbXBvbmVudFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIG9uRnJvbVNlY29uZENoYW5nZShcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFJlY29yZDxLRVksIFZBTFVFW10+PixcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uRnJvbVNlY29uZENoYW5nZShcbiAgICBvYnNlcnZlcjogKHZhbHVlOiBSZWNvcmQ8S0VZLCBWQUxVRVtdPikgPT4gdm9pZCxcbiAgICBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3RcbiAgKTogdm9pZDtcbiAgcHVibGljIG9uRnJvbVNlY29uZENoYW5nZShcbiAgICBvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFJlY29yZDxLRVksIFZBTFVFW10+PixcbiAgICBlcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25Gcm9tU2Vjb25kQ2hhbmdlKFxuICAgIG9ic2VydmVyOiBQYXJ0aWFsT2JzZXJ2ZXI8UmVjb3JkPEtFWSwgVkFMVUVbXT4+LFxuICAgIGVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgY29tcGxldGU/OiAoKSA9PiB2b2lkLFxuICAgIGNhbGxlckNvbXBvbmVudD86IG9iamVjdFxuICApOiB2b2lkO1xuICBwdWJsaWMgb25Gcm9tU2Vjb25kQ2hhbmdlKG9ic2VydmVyPzogKCh2YWx1ZTogUmVjb3JkPEtFWSwgVkFMVUVbXT4pID0+IHZvaWQpIHwgUGFydGlhbE9ic2VydmVyPFJlY29yZDxLRVksIFZBTFVFW10+PiwgZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCwgY29tcGxldGU/OiAoKSA9PiB2b2lkLCBjYWxsZXJDb21wb25lbnQ/OiBvYmplY3QpOiBTdWJzY3JpcHRpb24ge1xuICAgIGNvbnN0IG9ic2VydmFibGUgPSB0aGlzLnN0YXRlLnBpcGUoXG4gICAgICB1bnRpbERlc3Ryb3llZChjYWxsZXJDb21wb25lbnQpLFxuICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKSxcbiAgICAgIGZpbHRlcih4ID0+ICFpc051bGxPclVuZGVmaW5lZCh4KSAmJiAhdGhpcy5ieXBhc3NDaGFuZ2VEZXRlY3Rpb24pLFxuICAgICAgc2tpcCgxKVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMucHJlcGFyZVN1YnNjcmlwdGlvbih7XG4gICAgICBvYnNlcnZhYmxlLFxuICAgICAgb2JzZXJ2ZXIsXG4gICAgICBlcnJvcixcbiAgICAgIGNvbXBsZXRlLFxuICAgICAgY2FsbGVyQ29tcG9uZW50XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgcmVzZXQoYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uID0gZmFsc2UpOiB2b2lkIHtcbiAgICB0aGlzLnNldCh7fSBhcyBSZWNvcmQ8S0VZLCBWQUxVRVtdPiwgYnlwYXNzQ2hhbmdlRGV0ZWN0aW9uKTtcbiAgfVxufVxuIl19","originalSourcemap":{"version":3,"file":"key-values-state.js","sourceRoot":"","sources":["../../../../../projects/ngx-states/src/lib/states/key-values-state.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[24,0,0,24],[26,0,0,69],[32,0,0,75],[38,0,0,81],[39,0,0,82]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[23,0,1,23],[25,0,1,25],[31,0,1,31],[54,0,1,54],[55,0,1,55]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[29,0,2,29],[31,0,2,31],[37,0,2,37],[39,0,2,39],[44,0,2,44],[46,0,2,46],[49,0,2,49],[51,0,2,51],[55,0,2,55],[57,0,2,57],[63,0,2,63],[79,0,2,79],[80,0,2,80]],[[0,0,3,0],[7,0,3,7],[9,0,3,9],[26,0,3,26],[28,0,3,28],[46,0,3,46],[48,0,3,48],[54,0,3,54],[78,0,3,78],[79,0,3,79]],[[0,0,4,0],[7,0,4,7],[9,0,4,9],[18,0,4,18],[20,0,4,20],[26,0,4,26],[40,0,4,40],[41,0,4,41]],[[0,0,6,0],[6,0,6,6],[13,0,6,13],[27,0,6,73],[36,0,6,81],[45,0,6,90]],[[4,0,8,10],[12,0,8,18],[13,0,8,58]],[[4,0,9,19],[17,0,9,32],[20,0,9,35],[26,0,9,41],[27,0,9,42]],[[4,0,11,2],[8,0,11,13],[13,0,11,18]],[[8,0,12,4],[15,0,12,11],[19,0,12,15],[20,0,12,16],[28,0,12,24],[29,0,12,25],[41,0,12,37],[43,0,12,39],[44,0,12,40]],[[4,0,13,2],[5,0,13,3]],[[4,0,15,9],[14,0,15,19],[15,0,15,20],[18,0,15,28],[20,0,15,30],[36,0,15,46],[39,0,15,49],[43,0,15,53]],[[8,0,16,4],[14,0,16,10],[19,0,16,15],[22,0,16,18],[26,0,16,22],[27,0,16,23],[32,0,16,28],[33,0,16,29],[37,0,16,33],[38,0,17,6],[44,0,17,12],[45,0,17,13],[51,0,17,19],[52,0,17,20],[54,0,17,22],[55,0,18,8],[56,0,18,9],[73,0,18,26],[74,0,18,27],[80,0,18,33],[81,0,18,34]],[[12,0,19,8],[13,0,19,9],[30,0,19,26],[31,0,19,27],[37,0,19,33],[38,0,19,34],[41,0,19,37],[42,0,19,38],[43,0,19,39]],[[12,0,20,8],[13,0,20,9],[17,0,20,13],[18,0,20,14],[39,0,20,35],[40,0,21,7],[42,0,22,6],[45,0,22,9],[46,0,22,10],[52,0,22,16],[53,0,22,17],[55,0,22,19],[56,0,22,20],[62,0,22,26],[63,0,22,27],[66,0,22,30],[67,0,22,42],[68,0,22,43],[69,0,23,5],[70,0,23,6]],[[8,0,25,4],[12,0,25,8],[28,0,25,24],[30,0,25,26],[31,0,25,27]],[[12,0,26,6],[19,0,26,13],[24,0,26,18],[25,0,26,19],[29,0,26,23],[30,0,26,24],[50,0,26,44],[52,0,26,46],[53,0,26,47],[54,0,26,47]],[[8,0,27,4],[9,0,27,5]],[[8,0,29,4],[15,0,29,11],[20,0,29,16],[21,0,29,17]],[[4,0,30,2],[5,0,30,3]],[[4,0,32,9],[15,0,32,20],[16,0,32,21],[19,0,32,24],[23,0,32,35]],[[8,0,33,4],[15,0,33,11],[19,0,33,15],[20,0,33,16],[30,0,33,26],[31,0,33,27],[35,0,33,31],[36,0,33,32],[40,0,33,36],[41,0,33,37],[45,0,33,41],[46,0,33,42],[59,0,33,55],[60,0,33,63],[61,0,33,64],[62,0,33,65]],[[4,0,34,2],[5,0,34,3]],[[4,0,36,9],[10,0,36,15],[11,0,36,16],[14,0,36,24],[16,0,36,26],[26,0,36,36],[29,0,36,39],[33,0,36,43]],[[8,0,37,4],[15,0,37,11],[19,0,37,15],[20,0,37,16],[25,0,37,21],[26,0,37,22],[30,0,37,26],[31,0,38,6],[34,0,38,9],[35,0,38,10],[41,0,38,16],[42,0,38,17],[44,0,38,19]],[[12,0,39,8],[16,0,39,12],[23,0,39,19],[26,0,39,22],[31,0,39,27],[39,0,39,35],[43,0,39,39],[44,0,39,40],[54,0,39,50],[56,0,39,52],[57,0,39,53]],[[16,0,40,10],[23,0,40,17],[29,0,40,23],[30,0,40,24],[34,0,40,28],[35,0,40,29],[41,0,40,35],[42,0,40,36],[43,0,40,37],[47,0,40,41],[48,0,40,42],[49,0,40,43],[50,0,40,44],[52,0,40,46],[53,0,40,47],[54,0,40,48],[55,0,40,49],[63,0,40,57],[64,0,40,58],[67,0,40,61],[68,0,40,62],[69,0,40,63],[70,0,40,64]],[[12,0,41,8],[13,0,41,9]],[[17,0,41,15],[18,0,41,16]],[[16,0,42,10],[23,0,42,17],[26,0,42,20],[30,0,42,24],[36,0,42,30],[37,0,42,31]],[[12,0,43,8],[13,0,43,9]],[[8,0,44,6],[9,0,44,7],[10,0,44,8],[12,0,45,6],[32,0,45,26],[34,0,45,28],[35,0,46,5],[36,0,46,6]],[[4,0,47,2],[5,0,47,3]],[[4,0,49,2],[8,0,49,13],[12,0,49,17]],[[8,0,50,4],[15,0,50,11],[21,0,50,17],[22,0,50,18],[26,0,50,22],[27,0,50,23],[31,0,50,27],[32,0,50,28],[37,0,50,33],[38,0,50,43],[39,0,50,44]],[[4,0,51,2],[5,0,51,3]],[[4,0,53,9],[18,0,53,23],[19,0,53,24],[27,0,53,40]],[[8,0,54,4],[15,0,54,11],[19,0,54,15],[20,0,54,16],[24,0,54,20],[25,0,54,21],[28,0,54,24],[29,0,54,25],[32,0,54,28],[33,0,54,29],[35,0,54,31],[36,0,54,32],[39,0,54,35],[40,0,54,36],[48,0,54,44],[50,0,54,46],[51,0,54,47],[56,0,54,52],[57,0,54,53],[61,0,54,57],[62,0,54,58],[75,0,54,71],[76,0,54,72],[77,0,54,73],[85,0,54,81],[86,0,54,82],[87,0,54,83],[88,0,54,84]],[[4,0,55,2],[5,0,55,3]],[[4,0,57,2],[8,0,57,13],[15,0,57,20]],[[8,0,58,4],[15,0,58,11],[21,0,58,17],[22,0,58,18],[28,0,58,24],[29,0,58,25],[33,0,58,29],[34,0,58,30],[39,0,58,35],[40,0,58,36],[41,0,58,37]],[[4,0,59,2],[5,0,59,3]],[[4,0,61,2],[8,0,61,13],[14,0,61,19]],[[8,0,62,4],[15,0,62,11],[33,0,62,29],[34,0,62,30],[38,0,62,34],[39,0,62,35],[46,0,62,42],[47,0,62,43],[48,0,62,44]],[[4,0,63,2],[5,0,63,3]],[[4,0,65,2],[8,0,65,13],[20,0,65,25]],[[8,0,66,4],[15,0,66,11],[19,0,66,15],[20,0,66,16],[25,0,66,21],[26,0,66,22],[30,0,66,26],[31,0,66,27],[34,0,66,30],[35,0,66,31],[36,0,66,32],[37,0,66,33],[39,0,66,35],[40,0,66,36],[46,0,66,42],[47,0,66,43],[53,0,66,49],[54,0,66,50],[55,0,66,51],[56,0,66,74],[57,0,66,75],[58,0,66,76],[59,0,66,77]],[[4,0,67,2],[5,0,67,3]],[[4,0,69,2],[8,0,69,13],[13,0,69,18]],[[8,0,70,4],[15,0,70,11],[19,0,70,15],[20,0,70,16],[28,0,70,24],[29,0,70,25],[37,0,70,33],[39,0,70,35],[40,0,70,36]],[[4,0,71,2],[5,0,71,3]],[[4,0,73,2],[16,0,73,14],[28,0,73,49]],[[8,0,74,4],[13,0,74,9],[15,0,74,11],[16,0,74,12]],[[8,0,75,4],[12,0,75,8],[13,0,75,9],[21,0,75,17],[24,0,75,20],[28,0,75,24],[43,0,75,39],[44,0,75,62],[56,0,75,74],[60,0,75,78],[62,0,75,104],[63,0,75,105],[64,0,75,106]],[[4,0,76,2],[5,0,76,3]],[[4,0,78,9],[12,0,78,17],[13,0,78,18],[16,0,78,26]],[[8,0,79,4],[15,0,79,11],[19,0,79,15],[20,0,79,16],[25,0,79,21],[26,0,79,22],[29,0,79,25],[30,0,79,26],[31,0,79,27]],[[4,0,80,2],[5,0,80,3]],[[4,0,82,9],[18,0,82,23],[19,0,82,24],[22,0,82,27],[26,0,82,38]],[[8,0,83,4],[15,0,83,11],[19,0,83,15],[20,0,83,16],[25,0,83,21],[26,0,83,22],[30,0,83,26],[31,0,83,27],[34,0,83,30],[35,0,83,31],[41,0,83,37],[42,0,83,38],[43,0,83,39],[47,0,83,43],[48,0,83,44],[52,0,83,48],[53,0,83,49],[66,0,83,62],[67,0,83,70],[68,0,83,71],[69,0,83,72]],[[4,0,84,2],[5,0,84,3]],[[4,0,86,9],[12,0,86,17],[13,0,86,18],[16,0,86,26],[18,0,86,28],[23,0,86,42],[25,0,86,44],[46,0,86,65],[49,0,86,68],[54,0,86,73]],[[8,0,87,4],[12,0,87,8],[13,0,87,9],[34,0,87,30],[37,0,87,33],[58,0,87,54],[59,0,87,55]],[[8,0,88,4],[14,0,88,10],[20,0,88,16],[23,0,88,19],[27,0,88,23],[28,0,88,24],[33,0,88,29],[34,0,88,30]],[[8,0,89,4],[14,0,89,10],[15,0,89,11],[18,0,89,14],[19,0,89,15],[22,0,89,18],[27,0,89,23],[28,0,89,24]],[[8,0,90,4],[12,0,90,8],[13,0,90,9],[21,0,90,17],[22,0,90,18],[26,0,90,22],[27,0,90,23],[33,0,90,29],[34,0,90,30],[35,0,90,31]],[[8,0,91,4],[15,0,91,11],[19,0,91,15],[20,0,91,16],[25,0,91,21],[26,0,91,22]],[[4,0,92,2],[5,0,92,3]],[[4,0,94,9],[15,0,94,20],[16,0,94,21],[19,0,94,29],[21,0,94,31],[42,0,94,52],[45,0,94,55],[50,0,94,60]],[[8,0,95,4],[12,0,95,8],[13,0,95,9],[34,0,95,30],[37,0,95,33],[58,0,95,54],[59,0,95,55]],[[8,0,96,4],[14,0,96,10],[20,0,96,16],[23,0,96,19],[27,0,96,23],[28,0,96,24],[33,0,96,29],[34,0,96,30]],[[8,0,97,4],[15,0,97,11],[21,0,97,17],[22,0,97,18],[25,0,97,21],[26,0,97,22],[27,0,97,23]],[[8,0,98,4],[12,0,98,8],[13,0,98,9],[21,0,98,17],[22,0,98,18],[26,0,98,22],[27,0,98,23],[33,0,98,29],[34,0,98,30],[35,0,98,31]],[[4,0,99,2],[5,0,99,3]],[[4,0,101,9],[19,0,101,24],[20,0,101,25],[25,0,101,39],[27,0,101,41],[48,0,101,62],[51,0,101,65],[56,0,101,70],[58,0,101,72],[61,0,101,75],[65,0,101,86]],[[8,0,102,4],[15,0,102,11],[19,0,102,15],[20,0,102,16],[28,0,102,24],[29,0,102,25],[33,0,102,29],[34,0,102,30],[38,0,102,34],[39,0,102,35],[43,0,102,39],[44,0,102,40],[57,0,102,53],[58,0,102,61],[60,0,102,63],[65,0,102,68],[67,0,102,70],[88,0,102,91],[89,0,102,92],[90,0,102,93]],[[4,0,103,2],[5,0,103,3]],[[4,0,105,9],[14,0,105,19],[15,0,105,20],[18,0,105,28],[20,0,105,30],[25,0,105,42],[27,0,105,44],[33,0,105,60],[35,0,105,62],[56,0,105,83],[59,0,105,86],[64,0,105,91]],[[8,0,106,4],[12,0,106,8],[13,0,106,9],[34,0,106,30],[37,0,106,33],[58,0,106,54],[59,0,106,55]],[[8,0,107,4],[14,0,107,10],[22,0,107,18],[25,0,107,21],[31,0,107,27],[35,0,107,31],[39,0,107,35],[40,0,107,36]],[[8,0,108,4],[14,0,108,10],[26,0,108,22],[29,0,108,25],[33,0,108,29],[34,0,108,30],[42,0,108,38],[43,0,108,39],[46,0,108,42],[47,0,108,43],[48,0,108,44]],[[8,0,110,4],[12,0,110,8],[20,0,110,16],[24,0,110,20],[36,0,110,32],[38,0,110,34],[42,0,110,38],[43,0,110,39],[44,0,110,40],[45,0,110,41],[47,0,110,43],[48,0,110,44],[52,0,110,48],[53,0,110,49],[62,0,110,58],[63,0,110,59],[64,0,110,60],[65,0,110,61],[70,0,110,66],[74,0,110,70],[75,0,110,71],[84,0,110,80],[85,0,110,81],[90,0,110,86],[91,0,110,87],[92,0,110,88],[94,0,110,90],[95,0,110,91]],[[12,0,111,6],[19,0,111,13],[23,0,111,17],[24,0,111,18],[29,0,111,23],[30,0,111,24]],[[8,0,112,4],[9,0,112,5]],[[8,0,114,4],[12,0,114,8],[13,0,114,9],[21,0,114,17],[22,0,114,18],[25,0,114,21],[27,0,114,23],[28,0,114,24],[31,0,114,27],[35,0,114,31],[36,0,114,32],[44,0,114,40],[45,0,114,41],[48,0,114,44],[49,0,114,45],[53,0,114,49],[55,0,114,51],[57,0,114,53],[62,0,114,58],[63,0,114,59],[64,0,114,60],[65,0,114,61]],[[8,0,115,4],[15,0,115,11],[19,0,115,15],[20,0,115,16],[25,0,115,21],[26,0,115,22]],[[4,0,116,2],[5,0,116,3]],[[4,0,118,9],[20,0,118,25],[21,0,118,26],[26,0,118,38],[28,0,118,40],[34,0,118,56],[36,0,118,58],[57,0,118,79],[60,0,118,82],[65,0,118,87],[67,0,118,89],[70,0,118,92],[74,0,118,103]],[[8,0,119,4],[15,0,119,11],[19,0,119,15],[20,0,119,16],[30,0,119,26],[31,0,119,27],[35,0,119,31],[36,0,119,32],[40,0,119,36],[41,0,119,37],[45,0,119,41],[46,0,119,42],[59,0,119,55],[60,0,119,63],[62,0,119,65],[67,0,119,70],[69,0,119,72],[75,0,119,78],[77,0,119,80],[98,0,119,101],[99,0,119,102],[100,0,119,103]],[[4,0,120,2],[5,0,120,3]],[[4,0,122,9],[19,0,122,24],[20,0,122,25],[23,0,122,33],[25,0,122,35],[30,0,122,47],[32,0,122,49],[53,0,122,70],[56,0,122,73],[61,0,122,78]],[[8,0,123,4],[12,0,123,8],[13,0,123,9],[34,0,123,30],[37,0,123,33],[58,0,123,54],[59,0,123,55]],[[8,0,124,4],[12,0,124,8],[16,0,124,12],[17,0,124,13],[22,0,124,18],[23,0,124,19],[26,0,124,22],[27,0,124,23],[32,0,124,28],[41,0,124,37],[43,0,124,39],[44,0,124,40]],[[12,0,125,6],[19,0,125,13],[23,0,125,17],[24,0,125,18],[29,0,125,23],[30,0,125,24]],[[8,0,126,4],[9,0,126,5]],[[8,0,128,4],[14,0,128,10],[20,0,128,16],[23,0,128,19],[27,0,128,23],[28,0,128,24],[33,0,128,29],[34,0,128,30]],[[8,0,129,4],[14,0,129,10],[15,0,129,11],[18,0,129,14],[19,0,129,15],[22,0,129,18],[28,0,129,24],[29,0,129,25],[32,0,129,28],[33,0,129,29],[34,0,129,30],[40,0,129,36],[41,0,129,37],[42,0,129,38],[43,0,129,39],[45,0,129,41],[46,0,129,42],[47,0,129,43],[52,0,129,48],[57,0,129,53],[58,0,129,54],[59,0,129,55]],[[8,0,130,4],[15,0,130,11],[19,0,130,15],[20,0,130,16],[23,0,130,19],[24,0,130,20],[30,0,130,26],[31,0,130,27],[32,0,130,28]],[[4,0,131,2],[5,0,131,3]],[[4,0,133,9],[25,0,133,30],[26,0,133,31],[31,0,133,43],[33,0,133,45],[54,0,133,66],[57,0,133,69],[62,0,133,74],[64,0,133,76],[67,0,133,79],[71,0,133,90]],[[8,0,134,4],[15,0,134,11],[19,0,134,15],[20,0,134,16],[35,0,134,31],[36,0,134,32],[40,0,134,36],[41,0,134,37],[45,0,134,41],[46,0,134,42],[50,0,134,46],[51,0,134,47],[64,0,134,60],[65,0,134,68],[67,0,134,70],[72,0,134,75],[74,0,134,77],[95,0,134,98],[96,0,134,99],[97,0,134,100]],[[4,0,135,2],[5,0,135,3]],[[4,0,137,9],[9,0,137,14],[10,0,137,15],[13,0,137,23],[15,0,137,25],[36,0,137,46],[39,0,137,49],[44,0,137,54]],[[8,0,138,4],[12,0,138,8],[13,0,138,9],[34,0,138,30],[37,0,138,33],[58,0,138,54],[59,0,138,55]],[[8,0,139,4],[14,0,139,10],[20,0,139,16],[23,0,139,19],[27,0,139,23],[28,0,139,24],[33,0,139,29],[34,0,139,30]],[[8,0,140,4],[15,0,140,11],[21,0,140,17],[22,0,140,18],[25,0,140,21],[26,0,140,22],[27,0,140,23]],[[8,0,141,4],[12,0,141,8],[13,0,141,9],[21,0,141,17],[22,0,141,18],[26,0,141,22],[27,0,141,23],[33,0,141,29],[34,0,141,30],[35,0,141,31]],[[8,0,142,4],[15,0,142,11],[19,0,142,15],[20,0,142,16],[25,0,142,21],[26,0,142,22]],[[4,0,143,2],[5,0,143,3]],[[4,0,145,9],[15,0,145,20],[16,0,145,21],[37,0,145,42],[40,0,145,45],[45,0,145,50],[47,0,145,52],[50,0,145,55],[54,0,145,66]],[[8,0,146,4],[15,0,146,11],[19,0,146,15],[20,0,146,16],[25,0,146,21],[26,0,146,22],[30,0,146,26],[31,0,146,27],[35,0,146,31],[36,0,146,32],[40,0,146,36],[41,0,146,37],[54,0,146,50],[55,0,146,58],[57,0,146,60],[78,0,146,81],[79,0,146,82],[80,0,146,83]],[[4,0,147,2],[5,0,147,3]],[[4,0,149,9],[7,0,149,12],[8,0,149,13],[14,0,149,41],[16,0,149,43],[37,0,149,64],[40,0,149,67],[45,0,149,72]],[[8,0,150,4],[12,0,150,8],[13,0,150,9],[34,0,150,30],[37,0,150,33],[58,0,150,54],[59,0,150,55]],[[8,0,151,4],[12,0,151,8],[13,0,151,9],[21,0,151,17],[22,0,151,18],[26,0,151,22],[27,0,151,23],[33,0,151,29],[34,0,151,30],[35,0,151,31]],[[8,0,152,4],[15,0,152,11],[19,0,152,15],[20,0,152,16],[25,0,152,21],[26,0,152,22]],[[4,0,153,2],[5,0,153,3]],[[4,0,174,9],[9,0,174,14],[10,0,174,15],[18,0,174,105],[20,0,174,107],[25,0,174,135],[27,0,174,137],[35,0,174,158],[37,0,174,160],[52,0,174,184]],[[8,0,175,4],[12,0,175,8],[22,0,175,18],[25,0,175,21],[29,0,175,25],[30,0,175,26],[35,0,175,31],[36,0,175,32],[40,0,175,36],[41,0,176,6],[47,0,176,12],[48,0,176,13],[49,0,176,14],[50,0,176,15],[52,0,176,17],[53,0,176,18],[54,0,176,19],[71,0,176,36],[72,0,176,37],[73,0,176,38],[74,0,176,39],[78,0,176,43],[79,0,176,44],[83,0,176,48],[84,0,176,49],[105,0,176,70],[106,0,176,71],[107,0,177,5],[108,0,177,6]],[[8,0,179,4],[15,0,179,11],[19,0,179,15],[20,0,179,16],[39,0,179,35],[40,0,179,36]],[[12,0,180,6],[22,0,180,16]],[[12,0,181,6],[20,0,181,14]],[[12,0,182,6],[17,0,182,11]],[[12,0,183,6],[20,0,183,14]],[[12,0,184,6],[27,0,184,21]],[[9,0,185,5],[10,0,185,6],[11,0,185,7]],[[4,0,186,2],[5,0,186,3]],[[4,0,207,9],[12,0,207,17],[13,0,207,18],[21,0,207,108],[23,0,207,110],[28,0,207,138],[30,0,207,140],[38,0,207,161],[40,0,207,163],[55,0,207,187]],[[8,0,208,4],[12,0,208,8],[22,0,208,18],[25,0,208,21],[29,0,208,25],[30,0,208,26],[35,0,208,31],[36,0,208,32],[40,0,208,36],[41,0,209,6],[61,0,209,26],[63,0,209,28],[65,0,210,6],[71,0,210,12],[72,0,210,13],[73,0,210,14],[74,0,210,15],[76,0,210,17],[77,0,210,18],[78,0,210,19],[95,0,210,36],[96,0,210,37],[97,0,210,38],[98,0,210,39],[102,0,210,43],[103,0,210,44],[107,0,210,48],[108,0,210,49],[129,0,210,70],[130,0,210,71],[131,0,211,5],[132,0,211,6]],[[8,0,213,4],[15,0,213,11],[19,0,213,15],[20,0,213,16],[39,0,213,35],[40,0,213,36]],[[12,0,214,6],[22,0,214,16]],[[12,0,215,6],[20,0,215,14]],[[12,0,216,6],[17,0,216,11]],[[12,0,217,6],[20,0,217,14]],[[12,0,218,6],[27,0,218,21]],[[9,0,219,5],[10,0,219,6],[11,0,219,7]],[[4,0,220,2],[5,0,220,3]],[[4,0,259,9],[14,0,259,19],[15,0,259,20],[18,0,259,28],[20,0,259,30],[28,0,259,94],[30,0,259,96],[35,0,259,124],[37,0,259,126],[45,0,259,147],[47,0,259,149],[58,0,259,170],[60,0,259,172],[75,0,259,196]],[[8,0,260,4],[12,0,260,8],[22,0,260,18],[25,0,260,21],[29,0,260,25],[30,0,260,26],[35,0,260,31],[36,0,260,32],[40,0,260,36],[41,0,261,6],[44,0,261,9],[45,0,261,10],[50,0,261,15],[51,0,261,16],[53,0,261,18],[54,0,261,19],[59,0,261,24],[60,0,261,25],[63,0,261,28],[64,0,261,29],[65,0,261,30],[67,0,262,6],[73,0,262,12],[74,0,262,13],[79,0,262,18],[80,0,262,19],[82,0,262,21],[83,0,262,22],[84,0,262,23],[101,0,262,40],[102,0,262,41],[107,0,262,46],[108,0,262,47],[112,0,262,51],[113,0,262,52],[117,0,262,56],[118,0,262,57],[139,0,262,78],[140,0,262,79],[141,0,263,5],[142,0,263,6]],[[8,0,265,4],[15,0,265,11],[19,0,265,15],[20,0,265,16],[39,0,265,35],[40,0,265,36]],[[12,0,266,6],[22,0,266,16]],[[12,0,267,6],[20,0,267,14]],[[12,0,268,6],[17,0,268,11]],[[12,0,269,6],[20,0,269,14]],[[12,0,270,6],[27,0,270,21]],[[9,0,271,5],[10,0,271,6],[11,0,271,7]],[[4,0,272,2],[5,0,272,3]],[[4,0,311,9],[17,0,311,22],[18,0,311,23],[21,0,311,31],[23,0,311,33],[31,0,311,97],[33,0,311,99],[38,0,311,127],[40,0,311,129],[48,0,311,150],[50,0,311,152],[61,0,311,173],[63,0,311,175],[78,0,311,199]],[[8,0,312,4],[12,0,312,8],[22,0,312,18],[25,0,312,21],[29,0,312,25],[30,0,312,26],[35,0,312,31],[36,0,312,32],[40,0,312,36],[41,0,313,6],[44,0,313,9],[45,0,313,10],[50,0,313,15],[51,0,313,16],[53,0,313,18],[54,0,313,19],[59,0,313,24],[60,0,313,25],[63,0,313,28],[64,0,313,29],[65,0,313,30],[67,0,314,6],[87,0,314,26],[88,0,314,27],[89,0,314,28],[93,0,314,32],[95,0,314,34],[99,0,314,38],[101,0,314,40],[103,0,314,42],[104,0,314,43],[108,0,314,47],[109,0,314,48],[118,0,314,57],[119,0,314,58],[123,0,314,62],[124,0,314,63],[129,0,314,68],[133,0,314,72],[134,0,314,73],[143,0,314,82],[144,0,314,83],[148,0,314,87],[149,0,314,88],[150,0,314,89],[152,0,315,6],[158,0,315,12],[159,0,315,13],[164,0,315,18],[165,0,315,19],[167,0,315,21],[168,0,315,22],[169,0,315,23],[186,0,315,40],[187,0,315,41],[192,0,315,46],[193,0,315,47],[197,0,315,51],[198,0,315,52],[202,0,315,56],[203,0,315,57],[224,0,315,78],[225,0,315,79],[226,0,316,5],[227,0,316,6]],[[8,0,318,4],[15,0,318,11],[19,0,318,15],[20,0,318,16],[39,0,318,35],[40,0,318,36]],[[12,0,319,6],[22,0,319,16]],[[12,0,320,6],[20,0,320,14]],[[12,0,321,6],[17,0,321,11]],[[12,0,322,6],[20,0,322,14]],[[12,0,323,6],[27,0,323,21]],[[9,0,324,5],[10,0,324,6],[11,0,324,7]],[[4,0,325,2],[5,0,325,3]],[[4,0,327,9],[14,0,327,19],[15,0,327,20],[23,0,327,110],[25,0,327,112],[30,0,327,140],[32,0,327,142],[40,0,327,163]],[[8,0,328,4],[14,0,328,10],[24,0,328,20],[27,0,328,23],[31,0,328,27],[32,0,328,28],[37,0,328,33],[38,0,328,34],[42,0,328,38],[43,0,329,6],[49,0,329,12],[50,0,329,13],[51,0,329,14],[52,0,329,15],[54,0,329,17],[55,0,329,18],[56,0,329,19],[73,0,329,36],[74,0,329,37],[75,0,329,38],[76,0,329,39],[80,0,329,43],[81,0,329,44],[85,0,329,48],[86,0,329,49],[107,0,329,70],[108,0,329,71],[110,0,330,6],[115,0,330,11],[117,0,330,13],[118,0,331,5],[119,0,331,6]],[[8,0,333,4],[15,0,333,11],[19,0,333,15],[20,0,333,16],[39,0,333,35],[40,0,333,36]],[[12,0,334,6],[22,0,334,16]],[[12,0,335,6],[20,0,335,14]],[[12,0,336,6],[17,0,336,11]],[[12,0,337,6],[20,0,337,14]],[[9,0,338,5],[10,0,338,6],[11,0,338,7]],[[4,0,339,2],[5,0,339,3]],[[4,0,341,9],[17,0,341,22],[18,0,341,23],[26,0,341,113],[28,0,341,115],[33,0,341,143],[35,0,341,145],[43,0,341,166]],[[8,0,342,4],[14,0,342,10],[24,0,342,20],[27,0,342,23],[31,0,342,27],[32,0,342,28],[37,0,342,33],[38,0,342,34],[42,0,342,38],[43,0,343,6],[63,0,343,26],[65,0,343,28],[67,0,344,6],[73,0,344,12],[74,0,344,13],[75,0,344,14],[76,0,344,15],[78,0,344,17],[79,0,344,18],[80,0,344,19],[97,0,344,36],[98,0,344,37],[99,0,344,38],[100,0,344,39],[104,0,344,43],[105,0,344,44],[109,0,344,48],[110,0,344,49],[131,0,344,70],[132,0,344,71],[134,0,345,6],[139,0,345,11],[141,0,345,13],[142,0,346,5],[143,0,346,5]],[[8,0,347,4],[15,0,347,11],[19,0,347,15],[20,0,347,16],[39,0,347,35],[40,0,347,36]],[[12,0,348,6],[22,0,348,16]],[[12,0,349,6],[20,0,349,14]],[[12,0,350,6],[17,0,350,11]],[[12,0,351,6],[20,0,351,14]],[[9,0,352,5],[10,0,352,6],[11,0,352,7]],[[4,0,353,2],[5,0,353,3]],[[4,0,355,9],[22,0,355,27],[23,0,355,28],[31,0,355,118],[33,0,355,120],[38,0,355,148],[40,0,355,150],[48,0,355,171]],[[8,0,356,4],[14,0,356,10],[24,0,356,20],[27,0,356,23],[31,0,356,27],[32,0,356,28],[37,0,356,33],[38,0,356,34],[42,0,356,38],[43,0,357,6],[49,0,357,12],[50,0,357,13],[51,0,357,14],[52,0,357,15],[54,0,357,17],[55,0,358,8],[56,0,358,9],[73,0,358,26],[74,0,358,27],[75,0,358,28],[76,0,358,29]],[[12,0,359,8],[18,0,359,14],[19,0,359,15],[23,0,359,19],[24,0,359,20],[25,0,359,21],[26,0,359,22],[27,0,359,23],[33,0,359,29],[36,0,359,32],[37,0,359,33]],[[12,0,360,8],[13,0,360,9],[17,0,360,13],[18,0,360,14],[39,0,360,35],[40,0,361,7],[42,0,362,6],[47,0,362,11],[49,0,362,13],[50,0,363,5],[51,0,363,5]],[[8,0,364,4],[15,0,364,11],[19,0,364,15],[20,0,364,16],[39,0,364,35],[40,0,364,36]],[[12,0,365,6],[22,0,365,16]],[[12,0,366,6],[20,0,366,14]],[[12,0,367,6],[17,0,367,11]],[[12,0,368,6],[20,0,368,14]],[[9,0,369,5],[10,0,369,6],[11,0,369,7]],[[4,0,370,2],[5,0,370,3]],[[4,0,372,9],[25,0,372,30],[26,0,372,31],[34,0,372,121],[36,0,372,123],[41,0,372,151],[43,0,372,153],[51,0,372,174]],[[8,0,373,4],[14,0,373,10],[24,0,373,20],[27,0,373,23],[31,0,373,27],[32,0,373,28],[37,0,373,33],[38,0,373,34],[42,0,373,38],[43,0,374,6],[63,0,374,26],[65,0,374,28],[67,0,375,6],[73,0,375,12],[74,0,375,13],[75,0,375,14],[76,0,375,15],[78,0,375,17],[79,0,375,18],[80,0,375,19],[97,0,375,36],[98,0,375,37],[99,0,375,38],[100,0,375,39]],[[12,0,376,8],[18,0,376,14],[19,0,376,15],[23,0,376,19],[24,0,376,20],[25,0,376,21],[26,0,376,22],[27,0,376,23],[33,0,376,29],[36,0,376,32],[37,0,376,33]],[[12,0,377,8],[13,0,377,9],[17,0,377,13],[18,0,377,14],[39,0,377,35],[40,0,378,7],[42,0,379,6],[47,0,379,11],[49,0,379,13],[50,0,380,5],[51,0,380,5]],[[8,0,381,4],[15,0,381,11],[19,0,381,15],[20,0,381,16],[39,0,381,35],[40,0,381,36]],[[12,0,382,6],[22,0,382,16]],[[12,0,383,6],[20,0,383,14]],[[12,0,384,6],[17,0,384,11]],[[12,0,385,6],[20,0,385,14]],[[9,0,386,5],[10,0,386,6],[11,0,386,7]],[[4,0,387,2],[5,0,387,3]],[[4,0,408,9],[19,0,408,24],[20,0,408,25],[28,0,408,115],[30,0,408,117],[35,0,408,145],[37,0,408,147],[45,0,408,168],[47,0,408,170],[62,0,408,194]],[[8,0,409,4],[14,0,409,10],[24,0,409,20],[27,0,409,23],[31,0,409,27],[32,0,409,28],[37,0,409,33],[38,0,409,34],[42,0,409,38],[43,0,410,6],[57,0,410,20],[58,0,410,21],[73,0,410,36],[74,0,410,37],[76,0,411,6],[82,0,411,12],[83,0,411,13],[84,0,411,14],[85,0,411,15],[87,0,411,17],[88,0,411,18],[89,0,411,19],[106,0,411,36],[107,0,411,37],[108,0,411,38],[109,0,411,39],[113,0,411,43],[114,0,411,44],[118,0,411,48],[119,0,411,49],[140,0,411,70],[141,0,411,71],[143,0,412,6],[147,0,412,10],[148,0,412,11],[149,0,412,12],[150,0,412,13],[151,0,413,5],[152,0,413,6]],[[8,0,414,4],[15,0,414,11],[19,0,414,15],[20,0,414,16],[39,0,414,35],[40,0,414,36]],[[12,0,415,6],[22,0,415,16]],[[12,0,416,6],[20,0,416,14]],[[12,0,417,6],[17,0,417,11]],[[12,0,418,6],[20,0,418,14]],[[12,0,419,6],[27,0,419,21]],[[9,0,420,5],[10,0,420,6],[11,0,420,7]],[[4,0,421,2],[5,0,421,3]],[[4,0,442,9],[22,0,442,27],[23,0,442,28],[31,0,442,118],[33,0,442,120],[38,0,442,148],[40,0,442,150],[48,0,442,171],[50,0,442,173],[65,0,442,197]],[[8,0,443,4],[14,0,443,10],[24,0,443,20],[27,0,443,23],[31,0,443,27],[32,0,443,28],[37,0,443,33],[38,0,443,34],[42,0,443,38],[43,0,444,6],[57,0,444,20],[58,0,444,21],[73,0,444,36],[74,0,444,37],[76,0,445,6],[96,0,445,26],[98,0,445,28],[100,0,446,6],[106,0,446,12],[107,0,446,13],[108,0,446,14],[109,0,446,15],[111,0,446,17],[112,0,446,18],[113,0,446,19],[130,0,446,36],[131,0,446,37],[132,0,446,38],[133,0,446,39],[137,0,446,43],[138,0,446,44],[142,0,446,48],[143,0,446,49],[164,0,446,70],[165,0,446,71],[167,0,447,6],[171,0,447,10],[172,0,447,11],[173,0,447,12],[174,0,447,13],[175,0,448,5],[176,0,448,6]],[[8,0,449,4],[15,0,449,11],[19,0,449,15],[20,0,449,16],[39,0,449,35],[40,0,449,36]],[[12,0,450,6],[22,0,450,16]],[[12,0,451,6],[20,0,451,14]],[[12,0,452,6],[17,0,452,11]],[[12,0,453,6],[20,0,453,14]],[[12,0,454,6],[27,0,454,21]],[[9,0,455,5],[10,0,455,6],[11,0,455,7]],[[4,0,456,2],[5,0,456,3]],[[4,0,458,9],[9,0,458,14],[10,0,458,15],[31,0,458,36],[34,0,458,39],[39,0,458,44]],[[8,0,459,4],[12,0,459,8],[13,0,459,9],[16,0,459,12],[17,0,459,13],[19,0,459,39],[21,0,459,41],[42,0,459,62],[43,0,459,63],[44,0,459,64]],[[4,0,460,2],[5,0,460,3]],[[1,0,461,1]]],"sourcesContent":["import { BehaviorSubject, Observable, PartialObserver, Subscription } from \"rxjs\";\nimport { untilDestroyed } from \"@ngneat/until-destroy\";\nimport { distinctUntilChanged, filter, first, map, skip } from \"rxjs/operators\";\nimport { isNullOrUndefined, countArrayElements } from \"../helpers/type.helper\";\nimport { BaseState } from \"./base-state\";\n\nexport class KeyValuesState<KEY extends string | number | symbol, VALUE> extends BaseState {\n\n  private _subject: BehaviorSubject<Record<KEY, VALUE[]>>;\n  private readonly _keySeparator = '####';\n\n  public get state(): Observable<Record<KEY, VALUE[]>> {\n    return this._subject.asObservable();\n  }\n\n  public stateOfKey(key: KEY, changedStateOnly = true): Observable<VALUE[]> {\n    const state = this.state.pipe(\n      filter(record =>\n        !isNullOrUndefined(record) &&\n        !isNullOrUndefined(record[key]) &&\n        !this.bypassChangeDetection\n      ),\n      map(record => record[key] as VALUE[])\n    );\n\n    if (changedStateOnly) {\n      return state.pipe(distinctUntilChanged())\n    }\n\n    return state;\n  }\n\n  public stateOfKeys(...keys: any[]): Observable<VALUE[]> {\n    return this.stateOfKey(keys.join(this._keySeparator) as KEY);\n  }\n\n  public hasKey(key: KEY, exactMatch = true): Observable<boolean> {\n    return this.state.pipe(\n      map(record => {\n        if (typeof key === 'string' && !exactMatch) {\n          return Object.keys(record).some(k => k.includes(key));\n        } else {\n          return key in record;\n        }\n      }),\n      distinctUntilChanged()\n    );\n  }\n\n  public get keys(): KEY[] {\n    return Object.keys(this.value) as KEY[];\n  }\n\n  public getKeysOfIndex(keyIndex: number): string[] {\n    return this.keys.map(key => key.toString().split(this._keySeparator)[keyIndex]);\n  }\n\n  public get toArray(): VALUE[][] {\n    return Object.values(this.value);\n  }\n\n  public get length(): number {\n    return countArrayElements(this.toArray);\n  }\n\n  public get toArrayState(): Observable<VALUE[]> {\n    return this.state.pipe(map(x => Object.values(x) as unknown as VALUE[]));\n  }\n\n  public get value(): Record<KEY, VALUE[]> {\n    return this._subject.getValue();\n  }\n\n  constructor(initialValue?: Record<KEY, VALUE[]>) {\n    super();\n    this._subject = new BehaviorSubject<Record<KEY, VALUE[]>>(initialValue ?? {} as Record<KEY, VALUE[]>);\n  }\n\n  public getValue(key: KEY): VALUE[] {\n    return this.value[key];\n  }\n\n  public getValueByKeys(...keys: any[]): VALUE[] {\n    return this.value[keys.map(String).join(this._keySeparator) as KEY];\n  }\n\n  public setValue(key: KEY, value: VALUE[], bypassChangeDetection = false): Observable<Record<KEY, VALUE[]>> {\n    this.bypassChangeDetection = bypassChangeDetection;\n    const newSet = this.value;\n    newSet[key] = value;\n    this._subject.next(newSet);\n    return this.state;\n  }\n\n  public removeValue(key: KEY, bypassChangeDetection = false): void {\n    this.bypassChangeDetection = bypassChangeDetection;\n    const newSet = this.value;\n    delete newSet[key];\n    this._subject.next(newSet);\n  }\n\n  public setValuesByKeys(value: VALUE[], bypassChangeDetection = false, ...keys: any[]): Observable<Record<KEY, VALUE[]>> {\n    return this.setValue(keys.join(this._keySeparator) as KEY, value, bypassChangeDetection);\n  }\n\n  public addToValue(key: KEY, value: VALUE, unique?: boolean, bypassChangeDetection = false): Observable<Record<KEY, VALUE[]>> {\n    this.bypassChangeDetection = bypassChangeDetection;\n    const isUnique = unique ?? true;\n    const currentValue = this.getValue(key);\n\n    if (isUnique && currentValue?.some(x => JSON.stringify(x) === JSON.stringify(value))) {\n      return this.state;\n    }\n\n    this.setValue(key, [...this.getValue(key) || [], value]);\n    return this.state;\n  }\n\n  public addToValueByKeys(value: VALUE, unique?: boolean, bypassChangeDetection = false, ...keys: any[]): Observable<Record<KEY, VALUE[]>> {\n    return this.addToValue(keys.join(this._keySeparator) as KEY, value, unique, bypassChangeDetection);\n  }\n\n  public removeFromValue(key: KEY, value: VALUE, bypassChangeDetection = false): Observable<Record<KEY, VALUE[]>> {\n    this.bypassChangeDetection = bypassChangeDetection;\n    if (this.value[key] === undefined) {\n      return this.state;\n    }\n\n    const newSet = this.value;\n    newSet[key] = newSet[key].filter(x => x !== value);\n    return this.set(newSet);\n  }\n\n  public removeFromValueByKeys(value: VALUE, bypassChangeDetection = false, ...keys: any[]): Observable<Record<KEY, VALUE[]>> {\n    return this.removeFromValue(keys.join(this._keySeparator) as KEY, value, bypassChangeDetection);\n  }\n\n  public unset(key: KEY, bypassChangeDetection = false): Observable<Record<KEY, VALUE[]>> {\n    this.bypassChangeDetection = bypassChangeDetection;\n    const newSet = this.value;\n    delete newSet[key];\n    this._subject.next(newSet);\n    return this.state;\n  }\n\n  public unsetByKeys(bypassChangeDetection = false, ...keys: any[]): Observable<Record<KEY, VALUE[]>> {\n    return this.unset(keys.join(this._keySeparator) as KEY, bypassChangeDetection);\n  }\n\n  public set(record: Record<KEY, VALUE[]>, bypassChangeDetection = false): Observable<Record<KEY, VALUE[]>> {\n    this.bypassChangeDetection = bypassChangeDetection;\n    this._subject.next(record);\n    return this.state;\n  }\n\n  public onSet(\n    observer: PartialObserver<Record<KEY, VALUE[]>>,\n    callerComponent?: object\n  ): void;\n  public onSet(\n    observer: (value: Record<KEY, VALUE[]>) => void,\n    callerComponent?: object\n  ): void;\n  public onSet(\n    observer: PartialObserver<Record<KEY, VALUE[]>>,\n    error?: (error: any) => void,\n    callerComponent?: object\n  ): void;\n  public onSet(\n    observer: PartialObserver<Record<KEY, VALUE[]>>,\n    error?: (error: any) => void,\n    complete?: () => void,\n    callerComponent?: object\n  ): void;\n  public onSet(observer?: ((value: Record<KEY, VALUE[]>) => void) | PartialObserver<Record<KEY, VALUE[]>>, error?: (error: any) => void, complete?: () => void, callerComponent?: object): Subscription {\n    let observable = this.state.pipe(\n      filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection)\n    );\n\n    return this.prepareSubscription({\n      observable,\n      observer,\n      error,\n      complete,\n      callerComponent\n    });\n  }\n\n  public onChange(\n    observer: PartialObserver<Record<KEY, VALUE[]>>,\n    callerComponent?: object\n  ): void;\n  public onChange(\n    observer: (value: Record<KEY, VALUE[]>) => void,\n    callerComponent?: object\n  ): void;\n  public onChange(\n    observer: PartialObserver<Record<KEY, VALUE[]>>,\n    error?: (error: any) => void,\n    callerComponent?: object\n  ): void;\n  public onChange(\n    observer: PartialObserver<Record<KEY, VALUE[]>>,\n    error?: (error: any) => void,\n    complete?: () => void,\n    callerComponent?: object\n  ): void;\n  public onChange(observer?: ((value: Record<KEY, VALUE[]>) => void) | PartialObserver<Record<KEY, VALUE[]>>, error?: (error: any) => void, complete?: () => void, callerComponent?: object): Subscription {\n    let observable = this.state.pipe(\n      distinctUntilChanged(),\n      filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection)\n    );\n\n    return this.prepareSubscription({\n      observable,\n      observer,\n      error,\n      complete,\n      callerComponent\n    });\n  }\n\n  public onValueSet(\n    key: KEY,\n    observer: (value: VALUE[]) => void,\n    callerComponent?: object\n  ): void;\n  public onValueSet(\n    key: KEY,\n    observer: (value: VALUE[]) => void,\n    error?: (error: any) => void,\n    callerComponent?: object\n  ): void;\n  public onValueSet(\n    key: KEY,\n    observer: (value: VALUE[]) => void,\n    error?: (error: any) => void,\n    complete?: () => void,\n    callerComponent?: object | boolean\n  ): void;\n  public onValueSet(\n    key: KEY,\n    observer: (value: VALUE[]) => void,\n    error?: (error: any) => void,\n    complete?: () => void,\n    filterValue?: boolean,\n    callerComponent?: object\n  ): void;\n  public onValueSet(\n    key: KEY,\n    observer: PartialObserver<VALUE[]>,\n    callerComponent?: object\n  ): void;\n  public onValueSet(\n    key: KEY,\n    observer: PartialObserver<VALUE[]>,\n    filterValue?: boolean | object,\n    callerComponent?: object\n  ): void;\n  public onValueSet(key: KEY, observer?: ((value: VALUE[]) => void) | PartialObserver<VALUE[]>, error?: (error: any) => void, complete?: () => void, filterValue?: boolean, callerComponent?: object): Subscription {\n    let observable = this.state.pipe(\n      map(value => value[key]),\n      filter(value => !isNullOrUndefined(value) && !this.bypassChangeDetection)\n    );\n\n    return this.prepareSubscription({\n      observable,\n      observer,\n      error,\n      complete,\n      callerComponent\n    });\n  }\n\n  public onValueChange(\n    key: KEY,\n    observer: (value: VALUE[]) => void,\n    callerComponent?: object\n  ): void;\n  public onValueChange(\n    key: KEY,\n    observer: (value: VALUE[]) => void,\n    error?: (error: any) => void,\n    callerComponent?: object\n  ): void;\n  public onValueChange(\n    key: KEY,\n    observer: (value: VALUE[]) => void,\n    error?: (error: any) => void,\n    complete?: () => void,\n    callerComponent?: object | boolean\n  ): void;\n  public onValueChange(\n    key: KEY,\n    observer: (value: VALUE[]) => void,\n    error?: (error: any) => void,\n    complete?: () => void,\n    filterValue?: boolean,\n    callerComponent?: object\n  ): void;\n  public onValueChange(\n    key: KEY,\n    observer: PartialObserver<VALUE[]>,\n    callerComponent?: object\n  ): void;\n  public onValueChange(\n    key: KEY,\n    observer: PartialObserver<VALUE[]>,\n    filterValue?: boolean | object,\n    callerComponent?: object\n  ): void;\n  public onValueChange(key: KEY, observer?: ((value: VALUE[]) => void) | PartialObserver<VALUE[]>, error?: (error: any) => void, complete?: () => void, filterValue?: boolean, callerComponent?: object): Subscription {\n    let observable = this.state.pipe(\n      map(value => value[key]),\n      distinctUntilChanged((prev, curr) => JSON.stringify(prev) === JSON.stringify(curr)),\n      filter(value => !isNullOrUndefined(value) && !this.bypassChangeDetection)\n    );\n\n    return this.prepareSubscription({\n      observable,\n      observer,\n      error,\n      complete,\n      callerComponent\n    });\n  }\n\n  public onFirstSet(observer?: ((value: Record<KEY, VALUE[]>) => void) | PartialObserver<Record<KEY, VALUE[]>>, error?: (error: any) => void, complete?: () => void): Subscription {\n    const observable = this.state.pipe(\n      filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection),\n      first()\n    );\n\n    return this.prepareSubscription({\n      observable,\n      observer,\n      error,\n      complete\n    });\n  }\n\n  public onFirstChange(observer?: ((value: Record<KEY, VALUE[]>) => void) | PartialObserver<Record<KEY, VALUE[]>>, error?: (error: any) => void, complete?: () => void): Subscription {\n    const observable = this.state.pipe(\n      distinctUntilChanged(),\n      filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection),\n      first()\n    )\n    return this.prepareSubscription({\n      observable,\n      observer,\n      error,\n      complete\n    });\n  }\n\n  public onFirstNonEmptySet(observer?: ((value: Record<KEY, VALUE[]>) => void) | PartialObserver<Record<KEY, VALUE[]>>, error?: (error: any) => void, complete?: () => void): Subscription {\n    const observable = this.state.pipe(\n      filter(x =>\n        !isNullOrUndefined(x) &&\n        Object.keys(x).length > 0 &&\n        !this.bypassChangeDetection\n      ),\n      first()\n    )\n    return this.prepareSubscription({\n      observable,\n      observer,\n      error,\n      complete\n    });\n  }\n\n  public onFirstNonEmptyChange(observer?: ((value: Record<KEY, VALUE[]>) => void) | PartialObserver<Record<KEY, VALUE[]>>, error?: (error: any) => void, complete?: () => void): Subscription {\n    const observable = this.state.pipe(\n      distinctUntilChanged(),\n      filter(x => !isNullOrUndefined(x) &&\n        Object.keys(x).length > 0 &&\n        !this.bypassChangeDetection\n      ),\n      first()\n    )\n    return this.prepareSubscription({\n      observable,\n      observer,\n      error,\n      complete\n    });\n  }\n\n  public onFromSecondSet(\n    observer: PartialObserver<Record<KEY, VALUE[]>>,\n    callerComponent?: object\n  ): void;\n  public onFromSecondSet(\n    observer: (value: Record<KEY, VALUE[]>) => void,\n    callerComponent?: object\n  ): void;\n  public onFromSecondSet(\n    observer: PartialObserver<Record<KEY, VALUE[]>>,\n    error?: (error: any) => void,\n    callerComponent?: object\n  ): void;\n  public onFromSecondSet(\n    observer: PartialObserver<Record<KEY, VALUE[]>>,\n    error?: (error: any) => void,\n    complete?: () => void,\n    callerComponent?: object\n  ): void;\n  public onFromSecondSet(observer?: ((value: Record<KEY, VALUE[]>) => void) | PartialObserver<Record<KEY, VALUE[]>>, error?: (error: any) => void, complete?: () => void, callerComponent?: object): Subscription {\n    const observable = this.state.pipe(\n      untilDestroyed(callerComponent),\n      filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection),\n      skip(1)\n    );\n    return this.prepareSubscription({\n      observable,\n      observer,\n      error,\n      complete,\n      callerComponent\n    });\n  }\n\n  public onFromSecondChange(\n    observer: PartialObserver<Record<KEY, VALUE[]>>,\n    callerComponent?: object\n  ): void;\n  public onFromSecondChange(\n    observer: (value: Record<KEY, VALUE[]>) => void,\n    callerComponent?: object\n  ): void;\n  public onFromSecondChange(\n    observer: PartialObserver<Record<KEY, VALUE[]>>,\n    error?: (error: any) => void,\n    callerComponent?: object\n  ): void;\n  public onFromSecondChange(\n    observer: PartialObserver<Record<KEY, VALUE[]>>,\n    error?: (error: any) => void,\n    complete?: () => void,\n    callerComponent?: object\n  ): void;\n  public onFromSecondChange(observer?: ((value: Record<KEY, VALUE[]>) => void) | PartialObserver<Record<KEY, VALUE[]>>, error?: (error: any) => void, complete?: () => void, callerComponent?: object): Subscription {\n    const observable = this.state.pipe(\n      untilDestroyed(callerComponent),\n      distinctUntilChanged(),\n      filter(x => !isNullOrUndefined(x) && !this.bypassChangeDetection),\n      skip(1)\n    );\n    return this.prepareSubscription({\n      observable,\n      observer,\n      error,\n      complete,\n      callerComponent\n    });\n  }\n\n  public reset(bypassChangeDetection = false): void {\n    this.set({} as Record<KEY, VALUE[]>, bypassChangeDetection);\n  }\n}\n"]},"resolvedIds":{"rxjs":{"attributes":{},"external":true,"id":"rxjs","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"@ngneat/until-destroy":{"attributes":{},"external":true,"id":"@ngneat/until-destroy","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"rxjs/operators":{"attributes":{},"external":true,"id":"rxjs/operators","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"../helpers/type.helper":{"attributes":{},"external":false,"id":"/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/helpers/type.helper.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false},"./base-state":{"attributes":{},"external":false,"id":"/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/states/base-state.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":912,"body":[{"type":"ExportAllDeclaration","start":43,"end":78,"exported":null,"source":{"type":"Literal","start":57,"end":77,"value":"./lib/states/state","raw":"'./lib/states/state'"},"attributes":[]},{"type":"ExportAllDeclaration","start":79,"end":120,"exported":null,"source":{"type":"Literal","start":93,"end":119,"value":"./lib/states/array-state","raw":"'./lib/states/array-state'"},"attributes":[]},{"type":"ExportAllDeclaration","start":121,"end":166,"exported":null,"source":{"type":"Literal","start":135,"end":165,"value":"./lib/states/key-value-state","raw":"'./lib/states/key-value-state'"},"attributes":[]},{"type":"ExportAllDeclaration","start":167,"end":213,"exported":null,"source":{"type":"Literal","start":181,"end":212,"value":"./lib/states/key-values-state","raw":"'./lib/states/key-values-state'"},"attributes":[]}],"_rollupRemoved":[{"end":912,"start":214,"type":"sourcemap"}],"sourceType":"module"},"attributes":{},"code":"/*\n * Public API Surface of ngx-states\n */\nexport * from './lib/states/state';\nexport * from './lib/states/array-state';\nexport * from './lib/states/key-value-state';\nexport * from './lib/states/key-values-state';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljLWFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL25neC1zdGF0ZXMvc3JjL3B1YmxpYy1hcGkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFFSCxjQUFjLG9CQUFvQixDQUFDO0FBQ25DLGNBQWMsMEJBQTBCLENBQUM7QUFDekMsY0FBYyw4QkFBOEIsQ0FBQztBQUM3QyxjQUFjLCtCQUErQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIFB1YmxpYyBBUEkgU3VyZmFjZSBvZiBuZ3gtc3RhdGVzXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9saWIvc3RhdGVzL3N0YXRlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL3N0YXRlcy9hcnJheS1zdGF0ZSc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9zdGF0ZXMva2V5LXZhbHVlLXN0YXRlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL3N0YXRlcy9rZXktdmFsdWVzLXN0YXRlJztcbiJdfQ==","customTransformCache":false,"dependencies":["/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/states/state.mjs","/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/states/array-state.mjs","/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/states/key-value-state.mjs","/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/states/key-values-state.mjs"],"id":"/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/public-api.mjs","meta":{},"moduleSideEffects":true,"originalCode":"/*\n * Public API Surface of ngx-states\n */\nexport * from './lib/states/state';\nexport * from './lib/states/array-state';\nexport * from './lib/states/key-value-state';\nexport * from './lib/states/key-values-state';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljLWFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL25neC1zdGF0ZXMvc3JjL3B1YmxpYy1hcGkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFFSCxjQUFjLG9CQUFvQixDQUFDO0FBQ25DLGNBQWMsMEJBQTBCLENBQUM7QUFDekMsY0FBYyw4QkFBOEIsQ0FBQztBQUM3QyxjQUFjLCtCQUErQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIFB1YmxpYyBBUEkgU3VyZmFjZSBvZiBuZ3gtc3RhdGVzXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9saWIvc3RhdGVzL3N0YXRlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL3N0YXRlcy9hcnJheS1zdGF0ZSc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9zdGF0ZXMva2V5LXZhbHVlLXN0YXRlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL3N0YXRlcy9rZXktdmFsdWVzLXN0YXRlJztcbiJdfQ==","originalSourcemap":{"version":3,"file":"public-api.js","sourceRoot":"","sources":["../../../projects/ngx-states/src/public-api.ts"],"names":[],"mappings":[[[0,0,0,0]],[],[[3,0,2,3]],[[0,0,4,0],[14,0,4,14],[34,0,4,34],[35,0,4,35]],[[0,0,5,0],[14,0,5,14],[40,0,5,40],[41,0,5,41]],[[0,0,6,0],[14,0,6,14],[44,0,6,44],[45,0,6,45]],[[0,0,7,0],[14,0,7,14],[45,0,7,45],[46,0,7,46]]],"sourcesContent":["/*\n * Public API Surface of ngx-states\n */\n\nexport * from './lib/states/state';\nexport * from './lib/states/array-state';\nexport * from './lib/states/key-value-state';\nexport * from './lib/states/key-values-state';\n"]},"resolvedIds":{"./lib/states/state":{"attributes":{},"external":false,"id":"/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/states/state.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false},"./lib/states/array-state":{"attributes":{},"external":false,"id":"/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/states/array-state.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false},"./lib/states/key-value-state":{"attributes":{},"external":false,"id":"/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/states/key-value-state.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false},"./lib/states/key-values-state":{"attributes":{},"external":false,"id":"/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/lib/states/key-values-state.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":496,"body":[{"type":"ExportAllDeclaration","start":48,"end":77,"exported":null,"source":{"type":"Literal","start":62,"end":76,"value":"./public-api","raw":"'./public-api'"},"attributes":[]}],"_rollupRemoved":[{"end":496,"start":78,"type":"sourcemap"}],"sourceType":"module"},"attributes":{},"code":"/**\n * Generated bundle index. Do not edit.\n */\nexport * from './public-api';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LXN0YXRlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL25neC1zdGF0ZXMvc3JjL25neC1zdGF0ZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFFSCxjQUFjLGNBQWMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9wdWJsaWMtYXBpJztcbiJdfQ==","customTransformCache":false,"dependencies":["/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/public-api.mjs"],"id":"/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/ngx-states.mjs","meta":{},"moduleSideEffects":true,"originalCode":"/**\n * Generated bundle index. Do not edit.\n */\nexport * from './public-api';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LXN0YXRlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL25neC1zdGF0ZXMvc3JjL25neC1zdGF0ZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFFSCxjQUFjLGNBQWMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9wdWJsaWMtYXBpJztcbiJdfQ==","originalSourcemap":{"version":3,"file":"ngx-states.js","sourceRoot":"","sources":["../../../projects/ngx-states/src/ngx-states.ts"],"names":[],"mappings":[[[0,0,0,0]],[],[[3,0,2,3]],[[0,0,4,0],[14,0,4,14],[28,0,4,28],[29,0,4,29]]],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"]},"resolvedIds":{"./public-api":{"attributes":{},"external":false,"id":"/Users/tnemeth/Works/megant/dist/ngx-states/esm2022/public-api.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]}],"plugins":{"node-resolve":{},"json":{},"file-loader":{}}}